<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="Cache-Control" content="no-siteapp" />

    <title>Xmake v2.8.3 发布，改进 Wasm 并支持 Xmake 源码调试</title>
    <meta name="description" content="Xmake 是一个基于 Lua 的轻量级跨平台构建工具。它非常的轻量，没有任何依赖，因为它内置了 Lua 运行时。它使用 xmake.lua 维护项目构建，相比 makefile/CMakeLists.txt，配置语法更加简洁直观，对新手非常友好，短时间内就能快速入门，能够让用户把更多的精力集中在实际的项目开发上...">

    
    <meta name="keywords" content="xmake,lua,C/C++,package,API,rust,tboox" />

    <!-- qq oauth -->
    <meta property="qc:admins" content="5211601217706727767255" />

    <!--icon -->
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" sizes="192x192" href="/static/img/nice-highres.png" />
	<link rel="apple-touch-icon-precomposed" href="/static/img/apple-touch-icon-57x57-precomposed.png" />
	<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/static/img/apple-touch-icon-72x72-precomposed.png" />
	<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/static/img/apple-touch-icon-114x114-precomposed.png" />
	<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/static/img/apple-touch-icon-144x144-precomposed.png" />
	<link rel="apple-touch-icon-precomposed" sizes="180x180" href="/static/img/retinahd_icon.png" />
	<meta name="msapplication-TileImage" content="/static/img/retinahd_icon.png" />

    <link rel="stylesheet" href=" /css/fontawesome/css/font-awesome.min.css ">
    <link rel="stylesheet" href=" /css/main.css ">
    <link rel="canonical" href="https://tboox.org/cn/2023/09/26/xmake-update-v2.8.3/">
    <link rel="alternate" type="application/rss+xml" title="TBOOX Open Source Project" href="https://tboox.org/feed.xml ">
    <link rel="alternate" hreflang="en" href="https://tboox.org/" />
    <link rel="alternate" hreflang="zh-Hans" href="https://tboox.org/cn/" />

    <!-- css -->
    <link href="/css/reward.css" rel="stylesheet" type="text/css">




    <script type="text/javascript">
    function isPC(){
        var userAgentInfo = navigator.userAgent;
        var Agents = new Array("Android", "iPhone", "SymbianOS", "Windows Phone", "iPad", "iPod");
        var flag = true;
        for (var v = 0; v < Agents.length; v++) {
            if (userAgentInfo.indexOf(Agents[v]) > 0) { flag = false; break; }
        }
        return flag;
    }
    </script>

<!-- wwads -->

    <script type="text/javascript" charset="UTF-8" src="https://cdn.wwads.cn/js/makemoney.js" async></script>


<!-- baidu ads -->



    <!-- baidu ads -->

</head>


  <body>

    <header id="top">
    <div class="wrapper">
        <a href="/cn" class="brand">TBOOX</a>
        <button id="headerMenu" class="menu"><i class="fa fa-bars"></i></button>
        <nav id="headerNav">
            <ul>
                <li>
                    
                    <a href="/?lang=0">
                    
                        <i class="fa fa-home"></i>English
                    </a>
                </li>

                
                    
                    
                    <li>
                        
                            
                            <a href="/cn/project/">
                            
                        
                            <i class="fa fa-bookmark"></i>项目
                        </a>
                    </li>
                    
                    
                
                    
                    
                    
                
                    
                    
                    <li>
                        
                            
                            <a href="/cn/archive/">
                            
                        
                            <i class="fa fa-archive"></i>归档
                        </a>
                    </li>
                    
                    
                
                    
                    
                    
                
                    
                    
                    <li>
                        
                            
                            <a href="/cn/category/">
                            
                        
                            <i class="fa fa-th-list"></i>分类
                        </a>
                    </li>
                    
                    
                
                    
                    
                    
                
                    
                    
                    <li>
                        
                            
                            <a href="/cn/tag/">
                            
                        
                            <i class="fa fa-tags"></i>标记
                        </a>
                    </li>
                    
                    
                
                    
                    
                    
                
                    
                    
                    
                
                    
                    
                    <li>
                        
                            
                            <a href="/cn/docs/">
                            
                        
                            <i class="fa fa-book"></i>文档
                        </a>
                    </li>
                    
                    
                
                    
                    
                    
                
                    
                    
                    <li>
                        
                            
                            <a href="https://xmake.io/#/zh-cn/about/contact" target="_blank" >
                            
                        
                            <i class="fa fa-forumbee"></i>社区
                        </a>
                    </li>
                    
                    
                
                    
                    
                    
                
                    
                    
                    <li>
                        
                            
                            <a href="/cn/donation/">
                            
                        
                            <i class="fa fa-heart"></i>捐助
                        </a>
                    </li>
                    
                    
                
                    
                    
                    
                
                    
                    
                    <li>
                        
                            
                            <a href="/cn/about/">
                            
                        
                            <i class="fa fa-user"></i>关于
                        </a>
                    </li>
                    
                    
                
                    
                    
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                    
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            </ul>
        </nav>
    </div>
</header>



        <div class="page clearfix" post>
    <div class="left">
        <h1>Xmake v2.8.3 发布，改进 Wasm 并支持 Xmake 源码调试</h1>
        <div class="label">

            <div class="label-card">
                <i class="fa fa-calendar"></i>2023-09-26
            </div>

            <div class="label-card">
                
            </div>

            <div class="label-card">
                
            </div>

            <div class="label-card">
            


<!-- <span class="point">•</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#xmake" title="Category: xmake" rel="category">xmake</a>
    
  

  <!-- <span class="point">•</span> -->
</span>


            </div>

            <div class="label-card">
            
<!-- <span class="point">•</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <!--a href="/tag/#xmake" title="Tag: xmake" rel="tag">xmake</a-->
        <a href="/cn/tag/#xmake" title="Tag: xmake" rel="tag">xmake</a>&nbsp;
    
        <!--a href="/tag/#lua" title="Tag: lua" rel="tag">lua</a-->
        <a href="/cn/tag/#lua" title="Tag: lua" rel="tag">lua</a>&nbsp;
    
        <!--a href="/tag/#C%2FC%2B%2B" title="Tag: C/C++" rel="tag">C/C++</a-->
        <a href="/cn/tag/#C/C++" title="Tag: C/C++" rel="tag">C/C++</a>&nbsp;
    
        <!--a href="/tag/#package" title="Tag: package" rel="tag">package</a-->
        <a href="/cn/tag/#package" title="Tag: package" rel="tag">package</a>&nbsp;
    
        <!--a href="/tag/#API" title="Tag: API" rel="tag">API</a-->
        <a href="/cn/tag/#API" title="Tag: API" rel="tag">API</a>&nbsp;
    
        <!--a href="/tag/#rust" title="Tag: rust" rel="tag">rust</a-->
        <a href="/cn/tag/#rust" title="Tag: rust" rel="tag">rust</a>
    
  

</span>

            </div>

        </div>
        <hr>
        <article itemscope itemtype="http://schema.org/BlogPosting">
        <p><a href="https://github.com/xmake-io/xmake">Xmake</a> 是一个基于 Lua 的轻量级跨平台构建工具。</p>

<p>它非常的轻量，没有任何依赖，因为它内置了 Lua 运行时。</p>

<p>它使用 xmake.lua 维护项目构建，相比 makefile/CMakeLists.txt，配置语法更加简洁直观，对新手非常友好，短时间内就能快速入门，能够让用户把更多的精力集中在实际的项目开发上。</p>

<p>我们能够使用它像 Make/Ninja 那样可以直接编译项目，也可以像 CMake/Meson 那样生成工程文件，另外它还有内置的包管理系统来帮助用户解决 C/C++ 依赖库的集成使用问题。</p>

<p>目前，Xmake 主要用于 C/C++ 项目的构建，但是同时也支持其他 native 语言的构建，可以实现跟 C/C++ 进行混合编译，同时编译速度也是非常的快，可以跟 Ninja 持平。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Xmake = Build backend + Project Generator + Package Manager + [Remote|Distributed] Build + Cache
</code></pre>
</div>

<p>尽管不是很准确，但我们还是可以把 Xmake 按下面的方式来理解：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Xmake ≈ Make/Ninja + CMake/Meson + Vcpkg/Conan + distcc + ccache/sccache
</code></pre>
</div>

<ul>
  <li><a href="https://github.com/xmake-io/xmake">项目源码</a></li>
  <li><a href="https://xmake.io/#/zh-cn/">官方文档</a></li>
  <li><a href="https://xmake.io/#/zh-cn/about/course">入门课程</a></li>
</ul>

<p><img src="https://github.com/xmake-io/xmake-docs/raw/master/assets/img/index/package.gif" width="650px" /></p>

<h2 id="新特性介绍">新特性介绍</h2>

<p>新版本中，我们新增了 Xmake 自身源码的断点调试支持，这可以帮助贡献者更加快速的熟悉 xmake 源码，也可以帮助用户去快速调试分析自身项目的配置脚本。</p>

<p>另外，我们 <a href="https://github.com/xmake-io/xmake-repo">xmake-repo</a> 官方仓库包的数量也即将突破 1100，短短一个月的时间，就新增了 100 多个包，非常感谢 @star-hengxing 的贡献。</p>

<p>同时，我们重点改进了 Wasm 的构建支持，以及 Qt6 for wasm 的支持。</p>

<h3 id="断点调试-xmake-源码">断点调试 Xmake 源码</h3>

<p>2.8.3 版本，我们新增了 Lua 断点调试支持，配合 <a href="https://github.com/EmmyLua/VSCode-EmmyLua">VSCode-EmmyLua</a> 插件，我们可以很方便的在 VSCode 中断点调试 Xmake 自身源码。</p>

<p>首先，我们需要在 VSCode 的插件市场安装 VSCode-EmmyLua 插件，然后执行下面的命令更新下 xmake-repo 仓库保持最新。</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>xrepo update-repo
</code></pre>
</div>

<p>!&gt; Xmake 也需要保持最新版本。</p>

<p>然后，在自己的工程目录下执行以下命令：</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>xrepo env -b emmylua_debugger -- xmake build
</code></pre>
</div>

<p>其中 <code class="highlighter-rouge">xrepo env -b emmylua_debugger</code> 用于绑定 EmmyLua 调试器插件环境，而 <code class="highlighter-rouge">--</code> 后面的参数，就是我们实际需要被调试的 xmake 命令。</p>

<p>通常我们仅仅调试 <code class="highlighter-rouge">xmake build</code> 构建，如果想要调试其他命令，可以自己调整，比如想要调试 <code class="highlighter-rouge">xmake install -o /tmp</code> 安装命令，那么可以改成：</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>xrepo env -b emmylua_debugger -- xmake install -o /tmp
</code></pre>
</div>

<p>执行完上面的命令后，它不会立即退出，会一直处于等待调试状态，有可能没有任何输出。</p>

<p>这个时候，我们不要急着退出它，继续打开 VSCode，并在 VSCode 中打开 Xmake 的 Lua 脚本源码目录。</p>

<p>也就是这个目录：<a href="https://github.com/xmake-io/xmake/tree/master/xmake">Xmake Lua Scripts</a>，我们可以下载的本地，也可以直接打开 Xmake 安装目录中的 lua 脚本目录。</p>

<p>然后切换到 VSCode 的调试 Tab 页，点击 <code class="highlighter-rouge">RunDebug</code> -&gt; <code class="highlighter-rouge">Emmylua New Debug</code> 就能连接到我们的 <code class="highlighter-rouge">xmake build</code> 命令调试端，开启调试。</p>

<p>如下图所示，默认的起始断点会自动中断到 <code class="highlighter-rouge">debugger:_start_emmylua_debugger</code> 内部，我们可以点击单步跳出当前函数，就能进入 main 入口。</p>

<p><img src="https://xmake.io/assets/img/manual/xmake-debug.png" alt="" /></p>

<p>然后设置自己的断点，点击继续运行，就能中断到自己想要调试的代码位置。</p>

<p>我们也可以在项目工程的配置脚本中设置断点，也可以实现快速调试自己的配置脚本，而不仅仅是 Xmake 自身源码。</p>

<p><img src="https://xmake.io/assets/img/manual/xmake-debug2.png" alt="" /></p>

<h3 id="远程调试-xmake-源码">远程调试 Xmake 源码</h3>

<p>2.8.3 版本现在也能支持远程调试，其实这个功能主要是给作者用的，因为作者本人的开发电脑是 mac，但是有时候还是需要能够在 windows 上调试 xmake 源码脚本。</p>

<p>但是在虚拟机中调试，太卡，体验不好，并且作者本人的电脑磁盘空间不够，因此我通常会远程连到单独的 windows 主机上去调试 xmake 源码。</p>

<p>我们先在 windows 机器上开启远程编译服务：</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>xmake service
</code></pre>
</div>

<p>然后本机打开需要构建的工程目录，执行远程连接，然后执行 <code class="highlighter-rouge">xmake service --sync --xmakesrc=</code> 去同步本地源码：</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>xmake service --connect
<span class="gp">$ </span>xmake service --sync --xmakesrc<span class="o">=</span>~/projects/personal/xmake/xmake/
<span class="gp">$ </span>xmake build
<span class="gp">$ </span>xmake run
</code></pre>
</div>

<p>这样，我们就能本地修改 xmake 脚本源码，然后同步到远程 windows 机器上，然后远程执行 xmake 构建命令，获取对应的调试输出，以及分析构建行为。</p>

<p>我们也能够通过 <code class="highlighter-rouge">xmake service --pull=</code> 命令，回拉远程的文件到本地，进行分析。</p>

<p>注：详细的远程编译特性说明，见 <a href="http://xmake.io/#/zh-cn/features/remote_build">远程编译文档</a>。</p>

<p><img src="https://xmake.io/assets/img/manual/xmake-remote.png" alt="" /></p>

<h3 id="支持-cppfront-程序">支持 Cppfront 程序</h3>

<p>我么也新增了一个构建规则，用于支持 <a href="https://github.com/hsutter/cppfront">cppfront</a> 程序的编译：</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>add_rules<span class="o">(</span><span class="s2">"mode.debug"</span>, <span class="s2">"mode.release"</span><span class="o">)</span>

add_requires<span class="o">(</span><span class="s2">"cppfront"</span><span class="o">)</span>

target<span class="o">(</span><span class="s2">"test"</span><span class="o">)</span>
    add_rules<span class="o">(</span><span class="s2">"cppfront"</span><span class="o">)</span>
    set_kind<span class="o">(</span><span class="s2">"binary"</span><span class="o">)</span>
    add_files<span class="o">(</span><span class="s2">"src/*.cpp2"</span><span class="o">)</span>
    add_packages<span class="o">(</span><span class="s2">"cppfront"</span><span class="o">)</span>
</code></pre>
</div>

<h3 id="新增-utilshlsl2spv-构建规则">新增 utils.hlsl2spv 构建规则</h3>

<p>早期我们已经提供了 <code class="highlighter-rouge">utils.glsl2spv</code> 规则去支持 glsl 的编译和使用，现在我们又新增了 <code class="highlighter-rouge">utils.hlsl2spv</code> 规则，实现对 hlsl 的编译支持。</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>add_rules<span class="o">(</span><span class="s2">"mode.debug"</span>, <span class="s2">"mode.release"</span><span class="o">)</span>

add_requires<span class="o">(</span><span class="s2">"glslang"</span>, <span class="o">{</span>configs <span class="o">=</span> <span class="o">{</span>binaryonly <span class="o">=</span> <span class="nb">true</span><span class="o">}})</span>

target<span class="o">(</span><span class="s2">"test"</span><span class="o">)</span>
    set_kind<span class="o">(</span><span class="s2">"binary"</span><span class="o">)</span>
    add_rules<span class="o">(</span><span class="s2">"utils.hlsl2spv"</span>, <span class="o">{</span>bin2c <span class="o">=</span> <span class="nb">true</span><span class="o">})</span>
    add_files<span class="o">(</span><span class="s2">"src/*.c"</span><span class="o">)</span>
    add_files<span class="o">(</span><span class="s2">"src/*.hlsl"</span>, <span class="s2">"src/*.hlsl"</span><span class="o">)</span>
    add_packages<span class="o">(</span><span class="s2">"directxshadercompiler"</span><span class="o">)</span>
</code></pre>
</div>

<p>关于这个规则的详细描述，可以参考文档：<a href="https://xmake.io/#/zh-cn/manual/custom_rule?id=utilsglsl2spv">utils.glsl2spv</a>，两者的使用方式和原理都是类似的。</p>

<h3 id="新增-libluapackage-模块">新增 lib.lua.package 模块</h3>

<p>Xmake 默认会限制对 lua 原生模块和接口的访问，而这个模块主要用于开放一些 lua 原生提供的 API，用户可以按需使用。</p>

<p>目前，它仅仅提供了 <code class="highlighter-rouge">package.loadlib</code> 接口，用于加载本地 so/dylib/dll 动态库中的 lua 模块。</p>

<p>这通常用于一些高性能要求的场景。</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="n">import</span><span class="p">(</span><span class="s2">"lib.lub.package"</span><span class="p">)</span>

<span class="kd">local</span> <span class="n">script</span> <span class="o">=</span> <span class="nb">package.loadlib</span><span class="p">(</span><span class="s2">"/xxx/libfoo.so"</span><span class="p">,</span> <span class="s2">"luaopen_mymodule"</span><span class="p">)</span>
<span class="kd">local</span> <span class="n">mymodule</span> <span class="o">=</span> <span class="n">script</span><span class="p">()</span>
<span class="n">mymodule</span><span class="p">.</span><span class="n">hello</span><span class="p">()</span>
</code></pre>
</div>

<h3 id="改进-address-sanitizer-支持">改进 Address sanitizer 支持</h3>

<p>Address Sanitizer（ASan）是一个快速的内存错误检测工具，由编译器内置支持，通常我们需要在编译和链接的 flags 中同时配置 <code class="highlighter-rouge">-fsanitize-address</code> 才能正确开启。</p>

<p>而之前的版本中，我们是通过配置 <code class="highlighter-rouge">add_rules("mode.asan")</code> 然后 <code class="highlighter-rouge">xmake f -m asan</code> 去切换构建模式的方式来支持。</p>

<p>但这会有一些问题：</p>

<ol>
  <li>不能对依赖包生效</li>
  <li>需要切换构建模式</li>
  <li>不能同时检测 asan 和 ubsan</li>
</ol>

<p>因此，新版本中，我们改用 policy 去更好的支持它们。</p>

<p>而我们可以通过开启 <code class="highlighter-rouge">build.sanitizer.address</code> 策略，就可以快速全局启用它，这会使得编译出来的程序，直接支持 ASan 检测。</p>

<p>例如，我们可以通过命令行的方式去启用：</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>xmake f --policies<span class="o">=</span>build.sanitizer.address
</code></pre>
</div>

<p>也可以通过接口配置去全局启用：</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="n">set_policy</span><span class="p">(</span><span class="s2">"build.sanitizer.address"</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>
</code></pre>
</div>

<p>当然，我们也可以单独对某个特定的 target 去配置开启，另外，如果全局配置它，我们就可以同时对所有依赖包也生效。</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="n">set_policy</span><span class="p">(</span><span class="s2">"build.sanitizer.address"</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>

<span class="n">add_requires</span><span class="p">(</span><span class="s2">"zlib"</span><span class="p">)</span>
<span class="n">add_requires</span><span class="p">(</span><span class="s2">"libpng"</span><span class="p">)</span>
</code></pre>
</div>

<p>它等价于，对每个包依次设置 asan 配置。</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="n">add_requires</span><span class="p">(</span><span class="s2">"zlib"</span><span class="p">,</span> <span class="p">{</span><span class="n">configs</span> <span class="o">=</span> <span class="p">{</span><span class="n">asan</span> <span class="o">=</span> <span class="kc">true</span><span class="p">}})</span>
<span class="n">add_requires</span><span class="p">(</span><span class="s2">"libpng"</span><span class="p">,</span> <span class="p">{</span><span class="n">configs</span> <span class="o">=</span> <span class="p">{</span><span class="n">asan</span> <span class="o">=</span> <span class="kc">true</span><span class="p">}})</span>
</code></pre>
</div>

<p>另外，我们也可以同时生效多个 sanitizer 检测，例如：</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="n">set_policy</span><span class="p">(</span><span class="s2">"build.sanitizer.address"</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>
<span class="n">set_policy</span><span class="p">(</span><span class="s2">"build.sanitizer.undefined"</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>
</code></pre>
</div>

<p>或者</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>xmake f --policies<span class="o">=</span>build.sanitizer.address,build.sanitizer.undefined
</code></pre>
</div>

<p>除了 Asan，我们还提供了其他类似的 policies，用于检测线程，内存泄漏等问题。</p>

<ul>
  <li>build.sanitizer.thread</li>
  <li>build.sanitizer.memory</li>
  <li>build.sanitizer.leak</li>
  <li>build.sanitizer.undefined</li>
</ul>

<h3 id="运行前自动构建">运行前自动构建</h3>

<p>我们新增了 <code class="highlighter-rouge">run.atuobuild</code> 策略用于调整 <code class="highlighter-rouge">xmake run</code> 的行为，默认情况下，执行 <code class="highlighter-rouge">xmake run</code> 并不会自动构建目标程序，如果程序还没被编译，就是提示用户手动构建一下。</p>

<p>而开启这个策略，我们就可以在运行程序前，先自动构建对应的目标程序。</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>xmake f --policies<span class="o">=</span>run.autobuild
<span class="gp">$ </span>xmake run
</code></pre>
</div>

<p>如果想要全局生效这个策略，可以全局开启它。</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>xmake g --policies<span class="o">=</span>run.autobuild
</code></pre>
</div>

<h3 id="浅构建指定目标">浅构建指定目标</h3>

<p>当我们指定重新构建某个目标的时候，如果它有很多的依赖目标，那么通常都会全部被重新构建。</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>xmake --rebuild foo
rebuild foo
rebuild foo.dep1
rebuild foo.dep2
...
</code></pre>
</div>

<p>这对于一些大型项目，依赖了大量 target 时候，非常影响编译速度，几乎等于大半个项目都要被重新构建。</p>

<p>新版本中，我们新增了 <code class="highlighter-rouge">--shallow</code> 参数，用于告诉 Xmake，当前仅仅重新构建指定的 target，它的所有依赖不需要被全部重新编译。</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>xmake --rebuild --shallow foo
only rebuild foo
</code></pre>
</div>

<h3 id="改进警告设置">改进警告设置</h3>

<p><code class="highlighter-rouge">set_warnings</code> 接口新增 <code class="highlighter-rouge">extra</code> 和 <code class="highlighter-rouge">pedantic</code> 设置，并且支持多个警告值组合。</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="n">set_warnings</span><span class="p">(</span><span class="s2">"all"</span><span class="p">,</span> <span class="s2">"extra"</span><span class="p">)</span>
<span class="n">set_warnings</span><span class="p">(</span><span class="s2">"pedantic"</span><span class="p">)</span>
</code></pre>
</div>

<h3 id="改进-wasm-构建">改进 Wasm 构建</h3>

<p>现在，我们可以通过下面的配置，自己拉取 emscripten 工具链，并自动使用它去构建 wasm 程序。</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="k">if</span> <span class="n">is_plat</span><span class="p">(</span><span class="s2">"wasm"</span><span class="p">)</span> <span class="k">then</span>
    <span class="n">add_requires</span><span class="p">(</span><span class="s2">"emscripten"</span><span class="p">)</span>
    <span class="n">set_toolchains</span><span class="p">(</span><span class="s2">"emcc@emscripten"</span><span class="p">)</span>
<span class="k">end</span>
</code></pre>
</div>

<p>仅仅只需要执行</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>xmake f -p wasm
<span class="gp">$ </span>xmake
</code></pre>
</div>

<p>就可以完成 wasm 程序构建，用户可以不用自己手动安装 emscripten，更加的方便。</p>

<p>另外，我们也对 Qt6 for wasm 做了很好的支持。</p>

<h2 id="更新日志">更新日志</h2>

<h3 id="新特性">新特性</h3>

<ul>
  <li><a href="https://github.com/xmake-io/xmake/issues/4122">#4122</a>: 支持 Lua 调试 (EmmyLua)</li>
  <li><a href="https://github.com/xmake-io/xmake/pull/4132">#4132</a>: 支持 cppfront</li>
  <li><a href="https://github.com/xmake-io/xmake/issues/4147">#4147</a>: 添加 hlsl2spv 规则</li>
  <li>添加 lib.lua.package 模块</li>
  <li><a href="https://github.com/xmake-io/xmake/issues/4226">#4226</a>: 新增 asan 相关策略和对包的支持</li>
  <li>添加 <code class="highlighter-rouge">run.autobuild</code> 策略开启运行前自动构建</li>
  <li>添加全局策略 <code class="highlighter-rouge">xmake g --policies=</code></li>
</ul>

<h3 id="改进">改进</h3>

<ul>
  <li><a href="https://github.com/xmake-io/xmake/issues/4119">#4119</a>: 改进支持 emcc 工具链和 emscripten 包的整合</li>
  <li><a href="https://github.com/xmake-io/xmake/issues/4154">#4154</a>: 添加 <code class="highlighter-rouge">xmake -r --shallow target</code> 去改进重建目标，避免重建所有依赖目标</li>
  <li>添加全局 ccache 存储目录</li>
  <li><a href="https://github.com/xmake-io/xmake/issues/4137">#4137</a>: 改进 Qt，支持 Qt6 for Wasm</li>
  <li><a href="https://github.com/xmake-io/xmake/issues/4173">#4173</a>: 添加 recheck 参数到 on_config</li>
  <li><a href="https://github.com/xmake-io/xmake/pull/4200">#4200</a>: 改进远程构建，支持调试本地 xmake 源码</li>
  <li><a href="https://github.com/xmake-io/xmake/issues/4209">#4209</a>: 添加 extra 和 pedantic 警告</li>
</ul>

<h3 id="bugs-修复">Bugs 修复</h3>

<ul>
  <li><a href="https://github.com/xmake-io/xmake/issues/4110">#4110</a>: 修复 extrafiles</li>
  <li><a href="https://github.com/xmake-io/xmake/issues/4115">#4115</a>: 修复 compile_commands 生成器</li>
  <li><a href="https://github.com/xmake-io/xmake/pull/4199">#4199</a>: 修复 compile_commands 生成器对 c++ modules 的支持</li>
  <li>修复 os.mv 在 windows 上跨驱动盘失败问题</li>
  <li><a href="https://github.com/xmake-io/xmake/issues/4214">#4214</a>: 修复 rust workspace 构建问题</li>
</ul>

        </article>
        <hr>

        <!-- wwads -->
        
        <div class="wwads-cn wwads-horizontal" data-id="243" style="max-width:100%"></div>
        

        <!-- baidu ads -->
        

        <!-- reward -->
        <div style="text-align: center;">
            <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
              <span>赏</span>
            </button>
            <div id="QR" style="display: none;">
                <div id="wechat" style="display: inline-block">
                  <img id="wechat_qr" src="/static/img/weixin.png" alt="WeChat Pay"/>
                  <p>微信打赏</p>
                </div>
                <div id="alipay" style="display: inline-block">
                  <img id="alipay_qr" src="/static/img/alipay.png" alt="Alipay"/>
                  <p>支付宝打赏</p>
                </div>
            </div>
        </div>

        
        
            
            
                
                    
                    <h2 id="english">English</h2>
                    <ul>
                    
                    <li class="relatedPost">
                        <a href="/2023/09/26/xmake-update-v2.8.3/">Xmake v2.8.3 Released, Improve Wasm and Support Xmake Source Debugging
                        
                        </a>
                    </li>
                    
                    
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
        
            
            
                
            
        
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
        
            
            
                
            
        
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
        
            
            
                
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
        
            
        
            
            
                
            
        
            
        
            
        
            
        
            
            
                
            
        
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
        
            
        
            
            
                
            
        
            
        
            
        
            
            
                
            
        
            
        
            
        
            
            
                
            
        
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
        
            
            
                
            
        
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
        
            
        
            
            
                
            
        
            
        
            
        
            
            
                
            
        
            
        
            
        
            
            
                
            
        
            
        
            
        
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
        
            
            
                
            
        
            
        
            
        
            
        
            
        
            
            
                
            
        
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
        
            
        
            
            
                
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
        
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
        
            
            
                
            
        
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
        
            
            
                
            
        
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
        
            </ul>
        

        
        
            
        
            
        
            
            
            
                
                    
                        
                        <h2 id="similar_posts">相关文章</h2>
                        <ul>
                        
                        <li class="relatedPost">
                            <a href="/cn/2023/08/22/xmake-update-v2.8.2/">Xmake v2.8.2 发布，官方包仓库数量突破 1k
                            
                            </a>
                        </li>
                        
                        
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
            
        
            
        
            
            
            
                
                    
                        
                        <li class="relatedPost">
                            <a href="/cn/2023/07/11/xmake-update-v2.8.1/">Xmake v2.8.1 发布，大量细节特性改进
                            
                            </a>
                        </li>
                        
                        
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
            
        
            
        
            
            
            
                
                    
                        
                        <li class="relatedPost">
                            <a href="/cn/2023/04/04/xmake-update-v2.7.8/">Xmake v2.7.8 发布，改进包虚拟环境和构建速度
                            
                            </a>
                        </li>
                        
                        
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
            
        
            
        
            
            
            
                
                    
                        
                        <li class="relatedPost">
                            <a href="/cn/2023/02/23/xmake-update-v2.7.7/">Xmake v2.7.7 发布，支持 Haiku 平台，改进 API 检测和 C++ Modules 支持
                            
                            </a>
                        </li>
                        
                        
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
            
        
            
        
        
            </ul>
        

        <div class="post-recent">
    <div class="pre">

        

        

        
        
        

        

        

        
        
        <p><strong>上一篇</strong> <a href="/cn/2023/08/22/xmake-update-v2.8.2/">Xmake v2.8.2 发布，官方包仓库数量突破 1k</a></p>
        
    </div>

    <div class="nex">

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        

        

        
        
        

        

        

        

        
    </div>
</div>


        <h2 id="comments">评论</h2>
        









    </div>
    <button class="anchor"><i class="fa fa-anchor"></i></button>
    <div class="right">
        <div class="wrap">

            <!-- Content -->
            <div class="side content">
                <div>
                    内容
                </div>
                <ul id="content-side" class="content-ul">
                    <li><a href="#english">English</a></li>
                    <li><a href="#similar_posts">相关文章</a></li>
                    <li><a href="#comments">评论</a></li>
                </ul>
            </div>

            <!-- wwads -->
            
            <div class="side">
            <div class="wwads-cn wwads-vertical" data-id="243" style="max-width:255px;height:250px"></div>
            </div>
            

            <!-- baidu ads -->
            

            <br>
            <div class="side">
                <div>
                    <i class="fa fa-external-link"></i>
                    链接
                </div>
                <ul class="content-ul">
                  <li><a href="http://github.com/waruqi/tbox">tbox</a></li>
                  <li><a href="http://www.xmake.io">xmake</a></li>
                  <li><a href="https://github.com/waruqi">github</a></li>
                </ul>
            </div>

            <!-- xmake courses -->
            <br>
            <div class="side">
                <div>
                    <i class="fa fa-external-link"></i>
                    xmake 入门课程
                </div>
                <a href="https://xmake.io/#/zh-cn/about/course" target="_blank">
                <img src="/static/img/xmake-course.png" alt="course" width="256" height="193">
                </a>
            </div>

            <!-- qqgroup -->
            <br>
            <div class="side">
                <div>
                    <i class="fa fa-external-link"></i>
                    技术交流群（QQ）
                </div>
                <img src="/static/img/qqgroup.png" alt="qqgroup" width="256" height="284">
            </div>

            <!-- google ads -->
            

            <!-- baidu ads -->
            

        </div>
    </div>

    <!-- baidu ads -->
    
</div>
<script>
/**
 * target _blank
 */
(function() {
    var aTags = document.querySelectorAll('article a:not([id])')
    for (var i = 0; i < aTags.length; i++) {
        aTags[i].setAttribute('target', '_blank')
    }
}());
</script>
<script src="/js/pageContent.js " charset="utf-8"></script>



    <footer class="site-footer">
    <div class="wrapper">
        <p class="description">
             Copyright (c) 2016-latest tboox.org 
        </p>
        <p class="contact">
            
            <a href="https://github.com/waruqi" title="GitHub"><i class="fa fa-github" aria-hidden="true"></i></a> 
             
            
            <a href="mailto:waruqi@gmail.com" title="email"><i class="fa fa-envelope-o" aria-hidden="true"></i></a> 
            
            
            <a href="https://twitter.com/waruqi" title="Twitter"><i class="fa fa-twitter" aria-hidden="true"></i></a> 
            
            <a href="/feed.xml" title="feed"><i class="fa fa-feed" aria-hidden="true"></i></a> 
        </p>
        <p class="power">
            <span>
                Site powered by <a href="https://jekyllrb.com/">Jekyll</a> & <a href="https://github.com/Gaohaoyang">HyG</a> & <a href="https://pages.github.com/">Github Pages</a>.
            </span>
        </p>
    </div>
</footer>

    <div class="back-to-top">
    <a href="#top" class="scroll">
        <i class="fa fa-arrow-up" aria-hidden="true"></i>
    </a>
</div>

    <script src=" /js/main.js " charset="utf-8"></script>
    <script src=" /js/scroll.min.js " charset="utf-8"></script>
  </body>

</html>
