<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="Cache-Control" content="no-siteapp" />

    <title>Xmake v2.8.7 released, Add cosmocc toolchain support, build-once run-anywhere</title>
    <meta name="description" content="Xmake is a lightweight cross-platform build utility based on Lua.It is very lightweight and has no dependencies because it has a built-in Lua runtime.It uses...">

    
    <meta name="keywords" content="xmake,lua,C/C++,package,cosmocc,tboox" />

    <!-- qq oauth -->
    <meta property="qc:admins" content="5211601217706727767255" />

    <!--icon -->
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" sizes="192x192" href="/static/img/nice-highres.png" />
	<link rel="apple-touch-icon-precomposed" href="/static/img/apple-touch-icon-57x57-precomposed.png" />
	<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/static/img/apple-touch-icon-72x72-precomposed.png" />
	<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/static/img/apple-touch-icon-114x114-precomposed.png" />
	<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/static/img/apple-touch-icon-144x144-precomposed.png" />
	<link rel="apple-touch-icon-precomposed" sizes="180x180" href="/static/img/retinahd_icon.png" />
	<meta name="msapplication-TileImage" content="/static/img/retinahd_icon.png" />

    <link rel="stylesheet" href=" /css/fontawesome/css/font-awesome.min.css ">
    <link rel="stylesheet" href=" /css/main.css ">
    <link rel="canonical" href="https://tboox.org/2024/02/25/xmake-update-v2.8.7/">
    <link rel="alternate" type="application/rss+xml" title="TBOOX Open Source Project" href="https://tboox.org/feed.xml ">
    <link rel="alternate" hreflang="en" href="https://tboox.org/" />
    <link rel="alternate" hreflang="zh-Hans" href="https://tboox.org/cn/" />




    <script type="text/javascript">
    function isPC(){
        var userAgentInfo = navigator.userAgent;
        var Agents = new Array("Android", "iPhone", "SymbianOS", "Windows Phone", "iPad", "iPod");
        var flag = true;
        for (var v = 0; v < Agents.length; v++) {
            if (userAgentInfo.indexOf(Agents[v]) > 0) { flag = false; break; }
        }
        return flag;
    }
    </script>

<!-- wwads -->

    <script type="text/javascript" charset="UTF-8" src="https://cdn.wwads.cn/js/makemoney.js" async></script>


<!-- baidu ads -->



    <!-- baidu ads -->

</head>


  <body>

    <header id="top">
    <div class="wrapper">
        <a href="/" class="brand">TBOOX</a>
        <button id="headerMenu" class="menu"><i class="fa fa-bars"></i></button>
        <nav id="headerNav">
            <ul>
                <li>
                    
                    <a href="/cn?lang=0">
                    
                        <i class="fa fa-home"></i>中文
                    </a>
                </li>

                
                    
                     
                    
                
                    
                     
                     
                    <li>

                        
                            
                            <a href="/project/">
                            
                        
                            <i class="fa fa-bookmark"></i>Projects
                        </a>
                    </li>
                    
                    
                    
                
                    
                     
                    
                
                    
                     
                     
                    <li>

                        
                            
                            <a href="/archive/">
                            
                        
                            <i class="fa fa-archive"></i>Archives
                        </a>
                    </li>
                    
                    
                    
                
                    
                     
                    
                
                    
                     
                     
                    <li>

                        
                            
                            <a href="/category/">
                            
                        
                            <i class="fa fa-th-list"></i>Categories
                        </a>
                    </li>
                    
                    
                    
                
                    
                     
                    
                
                    
                     
                     
                    <li>

                        
                            
                            <a href="/tag/">
                            
                        
                            <i class="fa fa-tags"></i>Tags
                        </a>
                    </li>
                    
                    
                    
                
                    
                     
                     
                    <li>

                        
                            
                            <a href="/404.html/">
                            
                        
                            <i class="fa fa-heart"></i>捐助
                        </a>
                    </li>
                    
                    
                    
                
                    
                     
                    
                
                    
                     
                     
                    <li>

                        
                            
                            <a href="/docs/">
                            
                        
                            <i class="fa fa-book"></i>Documents
                        </a>
                    </li>
                    
                    
                    
                
                    
                     
                    
                
                    
                     
                     
                    <li>

                        
                            
                            <a href="https://xmake.io/#/about/contact" target="_blank" >
                            
                        
                            <i class="fa fa-forumbee"></i>Community
                        </a>
                    </li>
                    
                    
                    
                
                    
                     
                    
                
                    
                     
                     
                    <li>

                        
                            
                            <a href="/donation/">
                            
                        
                            <i class="fa fa-heart"></i>Donate
                        </a>
                    </li>
                    
                    
                    
                
                    
                     
                    
                
                    
                     
                     
                    <li>

                        
                            
                            <a href="/about/">
                            
                        
                            <i class="fa fa-user"></i>About
                        </a>
                    </li>
                    
                    
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                     
                     
                    
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            </ul>
        </nav>
    </div>
</header>



        <div class="page clearfix" post>
    <div class="left">
        <h1>Xmake v2.8.7 released, Add cosmocc toolchain support, build-once run-anywhere</h1>
        <div class="label">

            <div class="label-card">
                <i class="fa fa-calendar"></i>2024-02-25
            </div>

            <div class="label-card">
                
            </div>

            <div class="label-card">
                
            </div>

            <div class="label-card">
            


<!-- <span class="point">•</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#xmake" title="Category: xmake" rel="category">xmake</a>
    
  

  <!-- <span class="point">•</span> -->
</span>


            </div>

            <div class="label-card">
            
<!-- <span class="point">•</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <!--a href="/tag/#xmake" title="Tag: xmake" rel="tag">xmake</a-->
        <a href="/tag/#xmake" title="Tag: xmake" rel="tag">xmake</a>&nbsp;
    
        <!--a href="/tag/#lua" title="Tag: lua" rel="tag">lua</a-->
        <a href="/tag/#lua" title="Tag: lua" rel="tag">lua</a>&nbsp;
    
        <!--a href="/tag/#C%2FC%2B%2B" title="Tag: C/C++" rel="tag">C/C++</a-->
        <a href="/tag/#C/C++" title="Tag: C/C++" rel="tag">C/C++</a>&nbsp;
    
        <!--a href="/tag/#package" title="Tag: package" rel="tag">package</a-->
        <a href="/tag/#package" title="Tag: package" rel="tag">package</a>&nbsp;
    
        <!--a href="/tag/#cosmocc" title="Tag: cosmocc" rel="tag">cosmocc</a-->
        <a href="/tag/#cosmocc" title="Tag: cosmocc" rel="tag">cosmocc</a>
    
  

</span>

            </div>

        </div>
        <hr>
        <article itemscope itemtype="http://schema.org/BlogPosting">
        <p><a href="https://github.com/xmake-io/xmake">Xmake</a> is a lightweight cross-platform build utility based on Lua.</p>

<p>It is very lightweight and has no dependencies because it has a built-in Lua runtime.</p>

<p>It uses xmake.lua to maintain project builds and its configuration syntax is very simple and readable.</p>

<p>We can use it to build project directly like Make/Ninja, or generate project files like CMake/Meson, and it also has a built-in package management system to help users solve the integrated use of C/C++ dependent libraries.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Xmake = Build backend + Project Generator + Package Manager + [Remote|Distributed] Build + Cache
</code></pre>
</div>

<p>Although not very precise, we can still understand Xmake in the following way:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Xmake ≈ Make/Ninja + CMake/Meson + Vcpkg/Conan + distcc + ccache/sccache
</code></pre>
</div>

<ul>
  <li><a href="https://github.com/xmake-io/xmake">Github</a></li>
  <li><a href="https://xmake.io/">Document</a></li>
</ul>

<h2 id="introduction-of-new-features">Introduction of new features</h2>

<p>In the new version, we have added cosmocc tool chain support. Using it, we can compile once and run everywhere. In addition, we also refactored the implementation of C++ Modules and solved many C++ Modules-related problems.</p>

<h3 id="cosmocc-toolchain-support">Cosmocc toolchain support</h3>

<p>The cosmocc tool chain is the compilation tool chain provided by the <a href="https://github.com/jart/cosmopolitan">cosmopolitan</a> project. Programs compiled using this tool chain can be compiled once and run anywhere.</p>

<p>In the new version, we also support this tool chain, which can compile programs under macosx/linux/windows, and can also support automatic downloading of the cosmocc tool chain.</p>

<p>For users, they only need to configure the xmake.lua project file and then execute the <code class="highlighter-rouge">xmake</code> command to achieve one-click compilation and run it everywhere.</p>

<p>The content of xmake.lua is as follows. This is the most basic construction configuration of the hello world terminal program.</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="n">add_rules</span><span class="p">(</span><span class="s2">"mode.debug"</span><span class="p">,</span> <span class="s2">"mode.release"</span><span class="p">)</span>

<span class="n">add_requires</span><span class="p">(</span><span class="s2">"cosmocc"</span><span class="p">)</span>

<span class="n">target</span><span class="p">(</span><span class="s2">"test"</span><span class="p">)</span>
     <span class="n">set_kind</span><span class="p">(</span><span class="s2">"binary"</span><span class="p">)</span>
     <span class="n">add_files</span><span class="p">(</span><span class="s2">"src/*.c"</span><span class="p">)</span>
     <span class="n">set_toolchains</span><span class="p">(</span><span class="s2">"@cosmocc"</span><span class="p">)</span>
</code></pre>
</div>

<p>Then, we execute the xmake command, which will first download the integrated cosmocc tool chain, and then use this tool chain to compile the program.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">ruki:console$ </span>xmake
checking <span class="k">for </span>platform... linux
checking <span class="k">for </span>architecture ...x86_64
note: install or modify <span class="o">(</span>m<span class="o">)</span> these packages <span class="o">(</span>pass -y to skip confirm<span class="o">)</span>?
<span class="k">in </span>xmake-repo:
   -&gt; cosmocc 3.2.4
please input: y <span class="o">(</span>y/n/m<span class="o">)</span>

   <span class="o">=</span>&gt; install cosmocc 3.2.4 .. ok
<span class="o">[</span>25%]: cache compiling.release src/main.c
<span class="o">[</span>50%]: linking.release <span class="nb">test</span>
<span class="o">[</span>100%]: build ok, spent 1.548s
<span class="gp">ruki:console$ </span>xmake run
hello world
</code></pre>
</div>

<h3 id="c-modules-improvements">C++ Modules improvements</h3>

<p>Thank you very much @Arthapz for doing a lot of improvements to C++ Modules, making xmake better support C++ Modules construction, and also fixed many known issues, such as C++ Modules compilation support under msys2/mingw.</p>

<h3 id="improve-xmake-test">Improve xmake test</h3>

<p>Starting from version 2.8.5, we have added a built-in test command: <code class="highlighter-rouge">xmake test</code>. We only need to configure some test cases through add_tests on the target that needs to be tested to automatically execute the test.</p>

<p>The effect of execution is as follows:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>ruki-2:test ruki<span class="nv">$ </span>xmake <span class="nb">test
</span>running tests ...
<span class="o">[</span>  2%]: test_1/args        .................................... passed 7.000s
<span class="o">[</span>  5%]: test_1/default     .................................... passed 5.000s
<span class="o">[</span>  8%]: test_1/fail_output .................................... passed 5.000s
<span class="o">[</span> 11%]: test_1/pass_output .................................... passed 6.000s
<span class="o">[</span> 13%]: test_2/args        .................................... passed 7.000s
<span class="o">[</span> 16%]: test_2/default     .................................... passed 6.000s
<span class="o">[</span> 19%]: test_2/fail_output .................................... passed 6.000s
<span class="o">[</span> 22%]: test_2/pass_output .................................... passed 6.000s
<span class="o">[</span> 25%]: test_3/args        .................................... passed 7.000s
...
<span class="o">[</span> 77%]: test_7/pass_output .................................... failed 5.000s
<span class="o">[</span> 80%]: test_8/args        .................................... passed 7.000s
<span class="o">[</span> 83%]: test_8/default     .................................... passed 6.000s
<span class="o">[</span> 86%]: test_8/fail_output .................................... passed 6.000s
<span class="o">[</span> 88%]: test_8/pass_output .................................... failed 5.000s
<span class="o">[</span> 91%]: test_9/args        .................................... passed 6.000s
<span class="o">[</span> 94%]: test_9/default     .................................... passed 6.000s
<span class="o">[</span> 97%]: test_9/fail_output .................................... passed 6.000s
<span class="o">[</span>100%]: test_9/pass_output .................................... passed 6.000s

<span class="gp">80% </span>tests passed, 7 tests failed out of 36, spent 0.242s
</code></pre>
</div>

<p>In the new version, we have added test support for timeout running.</p>

<p>If some test programs run for a long time without exiting, they will get stuck. We can configure the timeout to force exit and return failure.</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="n">target</span><span class="p">(</span><span class="s2">"test_timeout"</span><span class="p">)</span>
     <span class="n">set_kind</span><span class="p">(</span><span class="s2">"binary"</span><span class="p">)</span>
     <span class="n">set_default</span><span class="p">(</span><span class="kc">false</span><span class="p">)</span>
     <span class="n">add_files</span><span class="p">(</span><span class="s2">"src/run_timeout.cpp"</span><span class="p">)</span>
     <span class="n">add_tests</span><span class="p">(</span><span class="s2">"run_timeout"</span><span class="p">,</span> <span class="p">{</span><span class="n">run_timeout</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">})</span>
</code></pre>
</div>

<p>In the above configuration, we can configure the timeout period for the specified test program to run through <code class="highlighter-rouge"><span class="p">{</span><span class="err">run_timeout</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="err">1000</span><span class="p">}</span></code>. If the run times out, the test will fail.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>xmake <span class="nb">test</span>
<span class="o">[</span>100%]: test_timeout/run_timeout ............................. failed 1.006s
run failed, <span class="nb">exit </span>code: -1, <span class="nb">exit </span>error: <span class="nb">wait </span>process timeout
</code></pre>
</div>

<h3 id="support-android-ndk-r26b">Support Android NDK r26b</h3>

<p>Since Android NDK r26b, NDK has made great changes to the structure of the internal build tool chain and completely uses llvm clang to build programs. Therefore, the new version of xmake has made some adaptations to it so that it can continue to support new N.D.K.</p>

<h3 id="improve-runtime-configuration">Improve runtime configuration</h3>

<p>In addition, we have also improved the <code class="highlighter-rouge">set_runtimes</code> interface. In addition to the previously supported <code class="highlighter-rouge">MT/MD/MTd/MDd</code> and other Windows msvc runtime library configurations, we have also added <code class="highlighter-rouge">c++_static</code>, <code class="highlighter-rouge">c++_shared</code> <code class="highlighter-rouge">, </code>stdc++_static<code class="highlighter-rouge">, </code>stdc++_shared` and other library configurations,</p>

<p>They are used in clang/gcc’s c++ runtime library configuration. For Android platform compilation, we also merged and unified the existing <code class="highlighter-rouge">xmake f --ndk_cxxstl=</code> and other configurations into <code class="highlighter-rouge">xmake f --runtimes=</code>, corresponding to <code class="highlighter-rouge">set_runtimes</code>.</p>

<p>In addition to settings, we can also obtain and determine the current runtimes library in the target through interfaces such as <code class="highlighter-rouge">target:runtimes()</code> and <code class="highlighter-rouge">target:has_runtime()</code>. In the package, the same interface is also available.</p>

<p>For example:</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="n">target</span><span class="p">(</span><span class="s2">"test"</span><span class="p">)</span>
     <span class="n">add_files</span><span class="p">(</span><span class="s2">"src/*.cpp"</span><span class="p">)</span>
     <span class="n">on_load</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="n">target</span><span class="p">)</span>
         <span class="k">if</span> <span class="n">target</span><span class="p">:</span><span class="n">has_runtime</span><span class="p">(</span><span class="s2">"c++_shared"</span><span class="p">,</span> <span class="s2">"c++_static"</span><span class="p">)</span> <span class="k">then</span>
             <span class="c1">-- TODO</span>
         <span class="k">end</span>
     <span class="k">end</span><span class="p">)</span>
</code></pre>
</div>

<p>If the <code class="highlighter-rouge">c++_static</code> configuration is in effect, flags such as <code class="highlighter-rouge">-stdlib=libc++ -static-libstdc++</code> will be automatically added when Clang is compiled, and if <code class="highlighter-rouge">stdc++_static</code> corresponds to <code class="highlighter-rouge">-stdlib=slibtdc++</code> .</p>

<h3 id="improve-script-matching-mode">Improve script matching mode</h3>

<p>All script configuration interfaces such as <code class="highlighter-rouge">on_xxx</code>, <code class="highlighter-rouge">before_xxx</code> and <code class="highlighter-rouge">after_xxx</code> in xmake can set the platform architecture mode in which the script can be run in the first parameter.</p>

<p>The configured script can be executed only if the specified mode matches the current architecture mode. Its complete filtering syntax is as follows: <code class="highlighter-rouge">plat|arch1,arch2@host|arch1,arch2</code></p>

<p>It looks very complicated, but it is actually very simple. Each stage is optional and can be partially omitted, corresponding to: <code class="highlighter-rouge">Compilation platform|Compilation architecture@Host platform|Host architecture</code></p>

<p>If you do not set any platform filter conditions, all platforms will be supported by default, and the scripts inside will take effect on all platforms, for example:</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="n">on_install</span><span class="p">(</span><span class="k">function</span> <span class="p">(</span><span class="n">package</span><span class="p">)</span>
     <span class="c1">-- TODO</span>
<span class="k">end</span><span class="p">)</span>
</code></pre>
</div>

<p>If the installation script is effective for a specific platform, then directly specify the corresponding compilation platform. You can specify multiple ones at the same time:</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="n">on_install</span><span class="p">(</span><span class="s2">"linux"</span><span class="p">,</span> <span class="s2">"macosx"</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="n">package</span><span class="p">)</span>
     <span class="c1">-- TODO</span>
<span class="k">end</span><span class="p">)</span>
</code></pre>
</div>

<p>If you need to subdivide it into a specific architecture to take effect, you can write like this:</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="n">on_install</span><span class="p">(</span><span class="s2">"linux|x86_64"</span><span class="p">,</span> <span class="s2">"iphoneos|arm64"</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="n">package</span><span class="p">)</span>
     <span class="c1">-- TODO</span>
<span class="k">end</span><span class="p">)</span>
</code></pre>
</div>

<p>If you also want to limit the execution host environment platform and architecture, you can append <code class="highlighter-rouge">@host|arch</code> behind, for example:</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="n">on_install</span><span class="p">(</span><span class="s2">"mingw@windows"</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="n">package</span><span class="p">)</span>
     <span class="c1">-- TODO</span>
<span class="k">end</span><span class="p">)</span>
</code></pre>
</div>

<p>This means that it only takes effect when compiling the mingw platform under windows.</p>

<p>We can also not specify which platform and architecture, but only set the host platform and architecture. This is usually used to describe some dependency packages related to compilation tools, which can only be run in the host environment.</p>

<p>For example, if the package we compile depends on cmake, we need to add the package description of cmake, thenThe compilation and installation environment inside can only be the host platform:</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="n">on_install</span><span class="p">(</span><span class="s2">"@windows"</span><span class="p">,</span> <span class="s2">"@linux"</span><span class="p">,</span> <span class="s2">"@macosx"</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="n">package</span><span class="p">)</span>
     <span class="c1">-- TODO</span>
<span class="k">end</span><span class="p">)</span>
</code></pre>
</div>

<p>Some other examples:</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="c1">-- `@linux`</span>
<span class="c1">-- `@linux|x86_64`</span>
<span class="c1">-- `@macosx,linux`</span>
<span class="c1">-- `android@macosx,linux`</span>
<span class="c1">-- `android|armeabi-v7a@macosx,linux`</span>
<span class="c1">-- `android|armeabi-v7a@macosx,linux|x86_64`</span>
<span class="c1">-- `android|armeabi-v7a@linux|x86_64`</span>
</code></pre>
</div>

<p>In 2.8.7, we improved pattern matching support and added the ability to exclude specified platforms and architectures, such as:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>!plat|!arch@!subhost|!subarch
</code></pre>
</div>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>@!linux
@!linux|x86_64
@!macosx,!linux
!android@macosx,!linux
android|!armeabi-v7a@macosx,!linux
android|armeabi-v7a,!iphoneos@macosx,!linux|x86_64
!android|armeabi-v7a@!linux|!x86_64
!linux|<span class="k">*</span>
</code></pre>
</div>

<p>At the same time, a built-in <code class="highlighter-rouge">native</code> architecture is also provided to match the local architecture of the current platform, mainly used to specify or exclude cross-compilation platforms.</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="n">on_install</span><span class="p">(</span><span class="s2">"macosx|native"</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</code></pre>
</div>

<p>The above configuration, if used on a macOS x86_64 device, will only match the local architecture compilation of <code class="highlighter-rouge">xmake f -a x86_64</code>.</p>

<p>If it is cross-compiled with <code class="highlighter-rouge">xmake f -a arm64</code>, it will not be matched.</p>

<p>In the same way, if you only want to match cross-compilation, you can use <code class="highlighter-rouge">macosx|!native</code> to negate and exclude.</p>

<p>This mode improvement is actually mainly used to simplify the configuration of warehouse packages and better handle the configuration support of package installation scripts on different platforms.</p>

<h2 id="changelog">Changelog</h2>

<h3 id="new-features">New features</h3>

<ul>
  <li><a href="https://github.com/xmake-io/xmake/issues/4544">#4544</a>: Support to wait process timeout for <code class="highlighter-rouge">xmake test</code></li>
  <li><a href="https://github.com/xmake-io/xmake/pull/4606">#4606</a>: Add <code class="highlighter-rouge">add_versionfiles</code> api in package</li>
  <li><a href="https://github.com/xmake-io/xmake/issues/4709">#4709</a>: Add cosmocc toolchain support</li>
  <li><a href="https://github.com/xmake-io/xmake/issues/4715">#4715</a>: Add is_cross() api in description scope</li>
  <li><a href="https://github.com/xmake-io/xmake/issues/4747">#4747</a>: Add <code class="highlighter-rouge">build.always_update_configfiles</code> policy</li>
</ul>

<h3 id="changes">Changes</h3>

<ul>
  <li><a href="https://github.com/xmake-io/xmake/issues/4575">#4575</a>: Check invalid scope name</li>
  <li>Add more loong64 support</li>
  <li>Improve dlang/dmd support for frameworks</li>
  <li><a href="https://github.com/xmake-io/xmake/issues/4571">#4571</a>: Improve <code class="highlighter-rouge">xmake test</code> output</li>
  <li><a href="https://github.com/xmake-io/xmake/issues/4609">#4609</a>: Improve to detect vs build tool envirnoments</li>
  <li><a href="https://github.com/xmake-io/xmake/issues/4614">#4614</a>: Support android ndk 26b</li>
  <li><a href="https://github.com/xmake-io/xmake/issues/4473">#4473</a>: Enable warning output by default</li>
  <li><a href="https://github.com/xmake-io/xmake/issues/4477">#4477</a>: Improve runtimes to support libc++/libstdc++</li>
  <li><a href="https://github.com/xmake-io/xmake/issues/4657">#4657</a>: Improve to select script pattern</li>
  <li><a href="https://github.com/xmake-io/xmake/pull/4673">#4673</a>: Refactor modules support</li>
  <li><a href="https://github.com/xmake-io/xmake/pull/4746">#4746</a>: Add native modules support for cmake generator</li>
</ul>

<h3 id="bugs-fixed">Bugs Fixed</h3>

<ul>
  <li><a href="https://github.com/xmake-io/xmake/issues/4596">#4596</a>: Fix remote build cache</li>
  <li><a href="https://github.com/xmake-io/xmake/issues/4689">#4689</a>: Fix deps inherit</li>
</ul>


        </article>
        <hr>

        <!-- wwads -->
        
        <div class="wwads-cn wwads-horizontal" data-id="243" style="max-width:100%"></div>
        

        <!-- baidu ads -->
        

        
        
            
        
            
            
                
                    
                    <h2 id="chinese">中文</h2>
                    <ul>
                    
                    <li class="relatedPost">
                        <a href="/cn/2024/02/25/xmake-update-v2.8.7/">Xmake v2.8.7 发布，新增 cosmocc 工具链支持，一次编译到处运行
                        
                        </a>
                    </li>
                    
                    
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
        
            
        
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
        
            </ul>
        

        
        
            
        
            
            
            
                
                    
                        
                        <h2 id="similar_posts">Similar Posts</h2>
                        <ul>
                        
                        <li class="relatedPost">
                            <a href="/2023/12/15/xmake-update-v2.8.6/">Xmake v2.8.6 released, New Packaging Plugin: XPack
                            
                            </a>
                        </li>
                        
                        
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
            
        
            
        
            
            
            
                
                    
                        
                        <li class="relatedPost">
                            <a href="/2023/11/05/xmake-update-v2.8.5/">Xmake v2.8.5 released, Support for link sorting and unit testing
                            
                            </a>
                        </li>
                        
                        
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
            
        
            
        
            
            
            
                
                    
                        
                        <li class="relatedPost">
                            <a href="/2023/09/26/xmake-update-v2.8.3/">Xmake v2.8.3 Released, Improve Wasm and Support Xmake Source Debugging
                            
                            </a>
                        </li>
                        
                        
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
            
        
            
        
            
            
            
                
                    
                        
                        <li class="relatedPost">
                            <a href="/2023/08/22/xmake-update-v2.8.2/">Xmake v2.8.2 Released, Official package repository count over 1k
                            
                            </a>
                        </li>
                        
                        
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
            
        
            
        
            
            
            
                
                    
                        
                        <li class="relatedPost">
                            <a href="/2023/07/11/xmake-update-v2.8.1/">Xmake v2.8.1 Released, Lots of Detailed Feature Improvements
                            
                            </a>
                        </li>
                        
                        
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
            
        
        
            </ul>
        

        <div class="post-recent">
    <div class="pre">

        

        

        
        
        

        

        

        
        
        <p><strong>Prev Post</strong> <a href="/2023/12/15/xmake-update-v2.8.6/">Xmake v2.8.6 released, New Packaging Plugin: XPack</a></p>
        
    </div>

    <div class="nex">

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        

        
    </div>
</div>


        <h2 id="comments">Comments</h2>
        









    </div>
    <button class="anchor"><i class="fa fa-anchor"></i></button>
    <div class="right">
        <div class="wrap">

            <!-- Content -->
            <div class="side content">
                <div>
                    Content
                </div>
                <ul id="content-side" class="content-ul">
                    <li><a href="#chinese">中文</a></li>
                    <li><a href="#similar_posts">Similar Posts</a></li>
                    <li><a href="#comments">Comments</a></li>
                </ul>
            </div>

            <!-- wwads -->
            
            <div class="side">
            <div class="wwads-cn wwads-vertical" data-id="243" style="max-width:255px;height:250px"></div>
            </div>
            

            <!-- baidu ads -->
            

            <br>
            <div class="side">
                <div>
                    <i class="fa fa-external-link"></i>
                    Links
                </div>
                <ul class="content-ul">
                  <li><a href="http://github.com/waruqi/tbox">tbox</a></li>
                  <li><a href="http://www.xmake.io">xmake</a></li>
                  <li><a href="https://github.com/waruqi">github</a></li>
                </ul>
            </div>

            <!-- google ads -->
            

            <!-- baidu ads -->
            

            <!-- chitika ads -->
            
        </div>
    </div>

    <!-- baidu ads -->
    
</div>
<script>
/**
 * target _blank
 */
(function() {
    var aTags = document.querySelectorAll('article a:not([id])')
    for (var i = 0; i < aTags.length; i++) {
        aTags[i].setAttribute('target', '_blank')
    }
}());
</script>
<script src="/js/pageContent.js " charset="utf-8"></script>



    <footer class="site-footer">
    <div class="wrapper">
        <p class="description">
             Copyright (c) 2016-latest tboox.org 
        </p>
        <p class="contact">
            
            <a href="https://github.com/waruqi" title="GitHub"><i class="fa fa-github" aria-hidden="true"></i></a> 
             
            
            <a href="mailto:waruqi@gmail.com" title="email"><i class="fa fa-envelope-o" aria-hidden="true"></i></a> 
            
            
            <a href="https://twitter.com/waruqi" title="Twitter"><i class="fa fa-twitter" aria-hidden="true"></i></a> 
            
            <a href="/feed.xml" title="feed"><i class="fa fa-feed" aria-hidden="true"></i></a> 
        </p>
        <p class="power">
            <span>
                Site powered by <a href="https://jekyllrb.com/">Jekyll</a> & <a href="https://github.com/Gaohaoyang">HyG</a> & <a href="https://pages.github.com/">Github Pages</a>.
            </span>
        </p>
    </div>
</footer>

    <div class="back-to-top">
    <a href="#top" class="scroll">
        <i class="fa fa-arrow-up" aria-hidden="true"></i>
    </a>
</div>

    <script src=" /js/main.js " charset="utf-8"></script>
    <script src=" /js/scroll.min.js " charset="utf-8"></script>
  </body>

</html>
