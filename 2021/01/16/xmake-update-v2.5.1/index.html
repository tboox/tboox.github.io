<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="Cache-Control" content="no-siteapp" />

    <title>xmake v2.5.1 released, Support for Apple Silicon and more powerful C/C++ package management</title>
    <meta name="description" content="xmake is a lightweight cross-platform build tool based on Lua. It uses xmake.lua to maintain project builds. Compared with makefile/CMakeLists.txt, the confi...">

    
    <meta name="keywords" content="xmake,lua,C/C++,toolchains,xrepo,packages,vcpkg,conan,Apple,Silicon,tboox" /> 

    <!-- qq oauth -->
    <meta property="qc:admins" content="5211601217706727767255" />

    <!--icon -->
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" sizes="192x192" href="/static/img/nice-highres.png" />
	<link rel="apple-touch-icon-precomposed" href="/static/img/apple-touch-icon-57x57-precomposed.png" />
	<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/static/img/apple-touch-icon-72x72-precomposed.png" />
	<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/static/img/apple-touch-icon-114x114-precomposed.png" />
	<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/static/img/apple-touch-icon-144x144-precomposed.png" />
	<link rel="apple-touch-icon-precomposed" sizes="180x180" href="/static/img/retinahd_icon.png" />
	<meta name="msapplication-TileImage" content="/static/img/retinahd_icon.png" />
	
    <link rel="stylesheet" href=" /css/fontawesome/css/font-awesome.min.css ">
    <link rel="stylesheet" href=" /css/main.css ">
    <link rel="canonical" href="https://tboox.org/2021/01/16/xmake-update-v2.5.1/">
    <link rel="alternate" type="application/rss+xml" title="TBOOX Open Source Project" href="https://tboox.org/feed.xml ">
    <link rel="alternate" hreflang="en" href="https://tboox.org/" />
    <link rel="alternate" hreflang="zh-Hans" href="https://tboox.org/cn/" />




    <script type="text/javascript">
    function isPC(){    
        var userAgentInfo = navigator.userAgent;  
        var Agents = new Array("Android", "iPhone", "SymbianOS", "Windows Phone", "iPad", "iPod");    
        var flag = true;    
        for (var v = 0; v < Agents.length; v++) {    
            if (userAgentInfo.indexOf(Agents[v]) > 0) { flag = false; break; }    
        }    
        return flag;    
    }
    </script>

<!-- baidu ads -->



    <!-- baidu ads -->

</head>


  <body>

    <header id="top">
    <div class="wrapper">
        <a href="/" class="brand">TBOOX</a>
        <button id="headerMenu" class="menu"><i class="fa fa-bars"></i></button>
        <nav id="headerNav">
            <ul>
                <li>
                    
                    <a href="/cn?lang=0">
                    
                        <i class="fa fa-home"></i>中文
                    </a>
                </li>

                
                    
                     
                    
                
                    
                     
                     
                    <li>

                        
                            
                            <a href="/project/">
                            
                        
                            <i class="fa fa-bookmark"></i>Projects
                        </a>
                    </li>
                    
                    
                    
                
                    
                     
                    
                
                    
                     
                     
                    <li>

                        
                            
                            <a href="/archive/">
                            
                        
                            <i class="fa fa-archive"></i>Archives
                        </a>
                    </li>
                    
                    
                    
                
                    
                     
                    
                
                    
                     
                     
                    <li>

                        
                            
                            <a href="/category/">
                            
                        
                            <i class="fa fa-th-list"></i>Categories
                        </a>
                    </li>
                    
                    
                    
                
                    
                     
                    
                
                    
                     
                     
                    <li>

                        
                            
                            <a href="/tag/">
                            
                        
                            <i class="fa fa-tags"></i>Tags
                        </a>
                    </li>
                    
                    
                    
                
                    
                
                    
                     
                    
                
                    
                     
                     
                    <li>

                        
                            
                            <a href="/docs/">
                            
                        
                            <i class="fa fa-book"></i>Documents
                        </a>
                    </li>
                    
                    
                    
                
                    
                     
                    
                
                    
                     
                     
                    <li>

                        
                            
                            <a href="https://xmake.io/#/about/contact" target="_blank" >
                            
                        
                            <i class="fa fa-forumbee"></i>Community
                        </a>
                    </li>
                    
                    
                    
                
                    
                     
                    
                
                    
                     
                     
                    <li>

                        
                            
                            <a href="/donation/">
                            
                        
                            <i class="fa fa-heart"></i>Donate
                        </a>
                    </li>
                    
                    
                    
                
                    
                     
                    
                
                    
                     
                     
                    <li>

                        
                            
                            <a href="/about/">
                            
                        
                            <i class="fa fa-user"></i>About
                        </a>
                    </li>
                    
                    
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                     
                     
                    
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            </ul>
        </nav>
    </div>
</header>



        <div class="page clearfix" post>
    <div class="left">
        <h1>xmake v2.5.1 released, Support for Apple Silicon and more powerful C/C++ package management</h1>
        <div class="label">

            <div class="label-card">
                <i class="fa fa-calendar"></i>2021-01-16
            </div>

            <div class="label-card">
                
            </div>

            <div class="label-card">
                
            </div>

            <div class="label-card">
            


<!-- <span class="point">•</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#xmake" title="Category: xmake" rel="category">xmake</a>
    
  

  <!-- <span class="point">•</span> -->
</span>


            </div>

            <div class="label-card">
            
<!-- <span class="point">•</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <!--a href="/tag/#xmake" title="Tag: xmake" rel="tag">xmake</a-->
        <a href="/tag/#xmake" title="Tag: xmake" rel="tag">xmake</a>&nbsp;
    
        <!--a href="/tag/#lua" title="Tag: lua" rel="tag">lua</a-->
        <a href="/tag/#lua" title="Tag: lua" rel="tag">lua</a>&nbsp;
    
        <!--a href="/tag/#C%2FC%2B%2B" title="Tag: C/C++" rel="tag">C/C++</a-->
        <a href="/tag/#C/C++" title="Tag: C/C++" rel="tag">C/C++</a>&nbsp;
    
        <!--a href="/tag/#toolchains" title="Tag: toolchains" rel="tag">toolchains</a-->
        <a href="/tag/#toolchains" title="Tag: toolchains" rel="tag">toolchains</a>&nbsp;
    
        <!--a href="/tag/#xrepo" title="Tag: xrepo" rel="tag">xrepo</a-->
        <a href="/tag/#xrepo" title="Tag: xrepo" rel="tag">xrepo</a>&nbsp;
    
        <!--a href="/tag/#packages" title="Tag: packages" rel="tag">packages</a-->
        <a href="/tag/#packages" title="Tag: packages" rel="tag">packages</a>&nbsp;
    
        <!--a href="/tag/#vcpkg" title="Tag: vcpkg" rel="tag">vcpkg</a-->
        <a href="/tag/#vcpkg" title="Tag: vcpkg" rel="tag">vcpkg</a>&nbsp;
    
        <!--a href="/tag/#conan" title="Tag: conan" rel="tag">conan</a-->
        <a href="/tag/#conan" title="Tag: conan" rel="tag">conan</a>&nbsp;
    
        <!--a href="/tag/#Apple" title="Tag: Apple" rel="tag">Apple</a-->
        <a href="/tag/#Apple" title="Tag: Apple" rel="tag">Apple</a>&nbsp;
    
        <!--a href="/tag/#Silicon" title="Tag: Silicon" rel="tag">Silicon</a-->
        <a href="/tag/#Silicon" title="Tag: Silicon" rel="tag">Silicon</a>
    
  

</span>

            </div>

        </div>
        <hr>
        <article itemscope itemtype="http://schema.org/BlogPosting">
        <p><a href="https://github.com/xmake-io/xmake">xmake</a> is a lightweight cross-platform build tool based on Lua. It uses xmake.lua to maintain project builds. Compared with makefile/CMakeLists.txt, the configuration syntax is more Concise and intuitive, very friendly to novices, can get started quickly in a short time, allowing users to focus more on the actual project development.</p>

<p>This is the first version of xmake this year and the first version that is fully adapted to support Apple Silicon (macOS ARM) devices.</p>

<p>In this version, we mainly improved the integrated support for C/C++ dependent packages, which is more stable, and can be more flexible to achieve customized configuration compilation.</p>

<p>In addition, we also focused on improving the vs/vsxmake two vs project generator plugins, fixing many details, and also supporting the sub-project <code class="highlighter-rouge">group</code>, and now it is possible to generate a project structure similar to the following figure.</p>

<p><img src="https://xmake.io/assets/img/manual/set_group.png" alt="" /></p>

<p>About Zig, because it has fixed a lot of problems that I have reported before in v0.7.1. Now xmake can already support the compilation of zig projects.</p>

<p>At the same time, we have newly developed a <a href="https://github.com/xmake-io/luarocks-build-xmake">luarocks-build-xmake</a> plugin to replace luarocks’ built-in build system with xmake.</p>

<p>Finally, in this version, we continue to improve the <code class="highlighter-rouge">xmake f --menu</code> graphical configuration menu, which fully supports mouse operation and scrolling support, and also supports utf8.</p>

<ul>
  <li><a href="https://github.com/xmake-io/xmake">Github</a></li>
  <li><a href="https://xmake.io/">Document</a></li>
</ul>

<h2 id="new-feature-introduction">New feature introduction</h2>

<h3 id="add-add_requireconfs-to-improve-package-configuration">Add add_requireconfs to improve package configuration</h3>

<p>Despite the previous version, we can define and configure dependent packages by <code class="highlighter-rouge">add_requires("libpng", {configs = {shared = true}})</code>.</p>

<p>However, if the user project has a huge project and many dependent packages, and each package requires different compilation configuration parameters, the configuration will still be very cumbersome and has limitations, such as the inability to rewrite the internal sub-dependent package configuration.</p>

<p>Therefore, we have added <code class="highlighter-rouge">add_requireconfs</code> to configure the configuration of each package and its sub-dependencies more flexibly and conveniently. Below we focus on several usages:</p>

<h5 id="set-the-configuration-of-the-specified-package">Set the configuration of the specified package</h5>

<p>This is the basic usage. For example, we have declared a package through <code class="highlighter-rouge">add_requires("zlib")</code>, and want to expand the configuration of this zlib later and change it to dynamic library compilation. You can configure it in the following way.</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="n">add_requires</span><span class="p">(</span><span class="s2">"zlib"</span><span class="p">)</span>
<span class="n">add_requireconfs</span><span class="p">(</span><span class="s2">"zlib"</span><span class="p">,</span> <span class="p">{</span><span class="n">configs</span> <span class="o">=</span> <span class="p">{</span><span class="n">shared</span> <span class="o">=</span> <span class="kc">true</span><span class="p">}})</span>
</code></pre>
</div>

<p>It is equivalent to</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="n">add_requires</span><span class="p">(</span><span class="s2">"zlib"</span><span class="p">,</span> <span class="p">{</span><span class="n">configs</span> <span class="o">=</span> <span class="p">{</span><span class="n">shared</span> <span class="o">=</span> <span class="kc">true</span><span class="p">}})</span>
</code></pre>
</div>

<h5 id="set-general-default-configuration">Set general default configuration</h5>

<p>The above usage, we still don’t see any practical use, but if we rely on more we can see the effect, such as the following:</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="n">add_requires</span><span class="p">(</span><span class="s2">"zlib"</span><span class="p">,</span> <span class="p">{</span><span class="n">configs</span> <span class="o">=</span> <span class="p">{</span><span class="n">shared</span> <span class="o">=</span> <span class="kc">true</span><span class="p">}})</span>
<span class="n">add_requires</span><span class="p">(</span><span class="s2">"pcre"</span><span class="p">,</span> <span class="p">{</span><span class="n">configs</span> <span class="o">=</span> <span class="p">{</span><span class="n">shared</span> <span class="o">=</span> <span class="kc">true</span><span class="p">}})</span>
<span class="n">add_requires</span><span class="p">(</span><span class="s2">"libpng"</span><span class="p">,</span> <span class="p">{</span><span class="n">configs</span> <span class="o">=</span> <span class="p">{</span><span class="n">shared</span> <span class="o">=</span> <span class="kc">true</span><span class="p">}})</span>
<span class="n">add_requires</span><span class="p">(</span><span class="s2">"libwebp"</span><span class="p">,</span> <span class="p">{</span><span class="n">configs</span> <span class="o">=</span> <span class="p">{</span><span class="n">shared</span> <span class="o">=</span> <span class="kc">true</span><span class="p">}})</span>
<span class="n">add_requires</span><span class="p">(</span><span class="s2">"libcurl"</span><span class="p">,</span> <span class="p">{</span><span class="n">configs</span> <span class="o">=</span> <span class="p">{</span><span class="n">shared</span> <span class="o">=</span> <span class="kc">false</span><span class="p">}})</span>
</code></pre>
</div>

<p>Is it very cumbersome, if we use <code class="highlighter-rouge">add_requireconfs</code> to set the default configuration, it can be greatly simplified to the following configuration:</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="n">add_requireconfs</span><span class="p">(</span><span class="s2">"*"</span><span class="p">,</span> <span class="p">{</span><span class="n">configs</span> <span class="o">=</span> <span class="p">{</span><span class="n">shared</span> <span class="o">=</span> <span class="kc">true</span><span class="p">}})</span>
<span class="n">add_requires</span><span class="p">(</span><span class="s2">"zlib"</span><span class="p">)</span>
<span class="n">add_requires</span><span class="p">(</span><span class="s2">"pcre"</span><span class="p">)</span>
<span class="n">add_requires</span><span class="p">(</span><span class="s2">"libpng"</span><span class="p">)</span>
<span class="n">add_requires</span><span class="p">(</span><span class="s2">"libwebp"</span><span class="p">)</span>
<span class="n">add_requires</span><span class="p">(</span><span class="s2">"libcurl"</span><span class="p">,</span> <span class="p">{</span><span class="n">configs</span> <span class="o">=</span> <span class="p">{</span><span class="n">shared</span> <span class="o">=</span> <span class="kc">false</span><span class="p">}})</span>
</code></pre>
</div>

<p>For the above configuration, we use pattern matching through <code class="highlighter-rouge">add_requireconfs("*", {configs = {shared = true}})</code> to set all dependent packages to compile and install dynamic libraries by default.</p>

<p>However, we used <code class="highlighter-rouge">add_requires("libcurl", {configs = {shared = false}})</code> to configure libcurl to compile and install static libraries.</p>

<p>The final configuration result is: zlib/pcre/libpng/libwebp is a shared library, and libcurl is a static library.</p>

<p>Through pattern matching, we can put some common configurations of each package into the unified <code class="highlighter-rouge">add_requireconfs</code> to pre-configure, which greatly simplifies the definition of each <code class="highlighter-rouge">add_requires</code>.</p>

<p>!&gt; By default, for the same configuration, xmake will give priority to the configuration in add_requires instead of add_requireconfs.</p>

<p>If the version is set in <code class="highlighter-rouge">add_requires("zlib 1.2.11")</code>, the configuration of add_requires will be used first, and the version configuration in add_requireconfs will be completely ignored. Of course, we can also completely override the version specified in <code class="highlighter-rouge">add_requires</code> through override .</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="n">add_requires</span><span class="p">(</span><span class="s2">"zlib 1.2.11"</span><span class="p">)</span>
<span class="n">add_requireconfs</span><span class="p">(</span><span class="s2">"zlib"</span><span class="p">,</span> <span class="p">{</span><span class="n">override</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span> <span class="n">version</span> <span class="o">=</span> <span class="s2">"1.2.10"</span><span class="p">})</span>
</code></pre>
</div>

<h5 id="rewrite-package-dependency-configuration">Rewrite package dependency configuration</h5>

<p>In fact, the biggest use of <code class="highlighter-rouge">add_requireconfs</code> is to allow users to rewrite the configuration of specific dependent packages of the installation package.</p>

<p>What does it mean? For example, our project integrates the package libpng and uses a dynamic library version, but the zlib library that libpng depends on is actually a static library version.</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="n">add_requires</span><span class="p">(</span><span class="s2">"libpng"</span><span class="p">,</span> <span class="p">{</span><span class="n">configs</span> <span class="o">=</span> <span class="p">{</span><span class="n">shared</span> <span class="o">=</span> <span class="kc">true</span><span class="p">}})</span>
</code></pre>
</div>

<p>So if we want to change the zlib package that libpng depends on to be compiled as a dynamic library, how should we configure it? This requires <code class="highlighter-rouge">add_requireconfs</code>.</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="n">add_requires</span><span class="p">(</span><span class="s2">"libpng"</span><span class="p">,</span> <span class="p">{</span><span class="n">configs</span> <span class="o">=</span> <span class="p">{</span><span class="n">shared</span> <span class="o">=</span> <span class="kc">true</span><span class="p">}})</span>
<span class="n">add_requireconfs</span><span class="p">(</span><span class="s2">"libpng.zlib"</span><span class="p">,</span> <span class="p">{</span><span class="n">configs</span> <span class="o">=</span> <span class="p">{</span><span class="n">shared</span> <span class="o">=</span> <span class="kc">true</span><span class="p">}})</span>
</code></pre>
</div>

<p>Through the writing method of <code class="highlighter-rouge">libpng.zlib</code> dependency path, specify an internal dependency and rewrite the internal dependency configuration.</p>

<p>If the dependency path is deep, such as the dependency chain of <code class="highlighter-rouge">foo -&gt; bar -&gt; xyz</code>, we can write: <code class="highlighter-rouge">foo.bar.xyz</code></p>

<p>We can also rewrite the internal zlib library version that libpng depends on:</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="n">add_requires</span><span class="p">(</span><span class="s2">"libpng"</span><span class="p">)</span>
<span class="n">add_requireconfs</span><span class="p">(</span><span class="s2">"libpng.zlib"</span><span class="p">,</span> <span class="p">{</span><span class="n">version</span> <span class="o">=</span> <span class="s2">"1.2.10"</span><span class="p">})</span>
</code></pre>
</div>

<h5 id="pattern-matching-for-cascading-dependencies">Pattern matching for cascading dependencies</h5>

<p>If a package has a lot of dependencies, and the dependency level is also very deep, what to do, for example, the package libwebp, its dependencies are:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>libwebp
  - libpng
    - zlib
    - cmake
  - libjpeg
  - libtiff
    - zlib
  - giflib
  - cmake
</code></pre>
</div>

<p>If I want to rewrite all the dependent libraries in libwebp to add specific configuration, then the configuration one by one will be very cumbersome. At this time, the recursive dependency pattern matching of <code class="highlighter-rouge">add_requireconfs()</code> is needed to support.</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="n">add_requires</span><span class="p">(</span><span class="s2">"libwebp"</span><span class="p">)</span>
<span class="n">add_requireconfs</span><span class="p">(</span><span class="s2">"libwebp.**|cmake"</span><span class="p">,</span> <span class="p">{</span><span class="n">configs</span> <span class="o">=</span> <span class="p">{</span><span class="n">cxflags</span> <span class="o">=</span> <span class="s2">"-DTEST"</span><span class="p">}})</span>
</code></pre>
</div>

<p>In the above configuration, we added <code class="highlighter-rouge">-DTEST</code> to compile all the library dependencies in libwebp, but the cmake dependency is a build tool dependency, and we can exclude it by way of <code class="highlighter-rouge">|xxx</code>.</p>

<p>The pattern matching here is very similar to <code class="highlighter-rouge">add_files()</code>.</p>

<p>We are giving a few examples. For example, this time we only rewrite the single-level dependency configuration under libwebp to enable the debugging library:</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="n">add_requires</span><span class="p">(</span><span class="s2">"libwebp"</span><span class="p">)</span>
<span class="n">add_requireconfs</span><span class="p">(</span><span class="s2">"libwebp.*|cmake"</span><span class="p">,</span> <span class="p">{</span><span class="n">debug</span> <span class="o">=</span> <span class="kc">true</span><span class="p">})</span>
</code></pre>
</div>

<h3 id="graphical-configuration-supports-mouse-and-scroll-operations">Graphical configuration supports mouse and scroll operations</h3>

<p>We upgraded the tui component library used by xmake: <a href="https://github.com/tboox/ltui">LTUI</a>, added support for the mouse, and scrolling support for some components, we can go to the graphical configuration, More flexible and convenient configuration of compilation options.</p>

<p><img src="https://tboox.org/static/img/ltui/choicebox_scrollbar.png" width="650px" /></p>

<h3 id="stdin-redirect-support">stdin redirect support</h3>

<p>In the previous version, the process execution interface such as os.execv/os.runv provided by xmake only supports stdout/stderr output redirection, but does not support stdin input redirection, so in this version, we also do it Supported.</p>

<p>The usage is as follows:</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="n">os</span><span class="p">.</span><span class="n">execv</span><span class="p">(</span><span class="s2">"foo"</span><span class="p">,</span> <span class="p">{</span><span class="s2">"arg1"</span><span class="p">,</span> <span class="s2">"arg2"</span><span class="p">},</span> <span class="p">{</span><span class="n">stdin</span> <span class="o">=</span> <span class="s2">"/tmp/a"</span><span class="p">})</span>
</code></pre>
</div>

<p>When we execute the process, we can use the /tmp/a file as the redirected input. Of course, we can also pass <code class="highlighter-rouge"><span class="p">{</span><span class="err">stdout</span><span class="w"> </span><span class="err">=</span><span class="w"> </span><span class="nt">"/tmp/out"</span><span class="err">}</span></code> as the redirected output.</p>

<h3 id="vs-project-grouping-support">vs project grouping support</h3>

<p>We have added a new interface <code class="highlighter-rouge">set_group</code> to support grouping of each target. This interface is currently only used for vs/vsxmake project generation. The subproject directory tree within the vs project is displayed in groups according to the specified structure, but it may also be Other modules increase grouping support.</p>

<p>For example, for the following grouping configuration:</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="n">add_rules</span><span class="p">(</span><span class="s2">"mode.debug"</span><span class="p">,</span> <span class="s2">"mode.release"</span><span class="p">)</span>

<span class="n">target</span><span class="p">(</span><span class="s2">"test1"</span><span class="p">)</span>
    <span class="n">set_kind</span><span class="p">(</span><span class="s2">"binary"</span><span class="p">)</span>
    <span class="n">add_files</span><span class="p">(</span><span class="s2">"src/*.cpp"</span><span class="p">)</span>
    <span class="n">set_group</span><span class="p">(</span><span class="s2">"group1"</span><span class="p">)</span>

<span class="n">target</span><span class="p">(</span><span class="s2">"test2"</span><span class="p">)</span>
    <span class="n">set_kind</span><span class="p">(</span><span class="s2">"binary"</span><span class="p">)</span>
    <span class="n">add_files</span><span class="p">(</span><span class="s2">"src/*.cpp"</span><span class="p">)</span>
    <span class="n">set_group</span><span class="p">(</span><span class="s2">"group1"</span><span class="p">)</span>

<span class="n">target</span><span class="p">(</span><span class="s2">"test3"</span><span class="p">)</span>
    <span class="n">set_kind</span><span class="p">(</span><span class="s2">"binary"</span><span class="p">)</span>
    <span class="n">add_files</span><span class="p">(</span><span class="s2">"src/*.cpp"</span><span class="p">)</span>
    <span class="n">set_group</span><span class="p">(</span><span class="s2">"group1/group2"</span><span class="p">)</span>

<span class="n">target</span><span class="p">(</span><span class="s2">"test4"</span><span class="p">)</span>
    <span class="n">set_kind</span><span class="p">(</span><span class="s2">"binary"</span><span class="p">)</span>
    <span class="n">add_files</span><span class="p">(</span><span class="s2">"src/*.cpp"</span><span class="p">)</span>
    <span class="n">set_group</span><span class="p">(</span><span class="s2">"group3/group4"</span><span class="p">)</span>

<span class="n">target</span><span class="p">(</span><span class="s2">"test5"</span><span class="p">)</span>
    <span class="n">set_kind</span><span class="p">(</span><span class="s2">"binary"</span><span class="p">)</span>
    <span class="n">add_files</span><span class="p">(</span><span class="s2">"src/*.cpp"</span><span class="p">)</span>

<span class="n">target</span><span class="p">(</span><span class="s2">"test6"</span><span class="p">)</span>
    <span class="n">set_kind</span><span class="p">(</span><span class="s2">"binary"</span><span class="p">)</span>
    <span class="n">add_files</span><span class="p">(</span><span class="s2">"src/*.cpp"</span><span class="p">)</span>
</code></pre>
</div>

<p>The effect of the generated VS project directory structure is as follows:</p>

<p><img src="https://xmake.io/assets/img/manual/set_group.png" alt="" /></p>

<p>Among them, <code class="highlighter-rouge">set_group("group1/group2")</code> can set the target to the secondary group.</p>

<h3 id="automatically-update-vs-project">Automatically update vs project</h3>

<p>If you feel that it is cumbersome to generate and update the VS project through the <code class="highlighter-rouge">xmake project -k vsxmake</code> command every time, we can now configure the <code class="highlighter-rouge">plugin.vsxmake.autoupdate</code> rule in xmake.lua to achieve automatic update.</p>

<p>Users can automatically update the VS project if there are changes to the file list or xmake.lua after each execution of the build in the VS project.</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="n">add_rules</span><span class="p">(</span><span class="s2">"plugin.vsxmake.autoupdate"</span><span class="p">)</span>

<span class="n">target</span><span class="p">(</span><span class="s2">"test"</span><span class="p">)</span>
    <span class="n">set_kind</span><span class="p">(</span><span class="s2">"binary"</span><span class="p">)</span>
    <span class="n">add_files</span><span class="p">(</span><span class="s2">"src/*.c"</span><span class="p">)</span>
</code></pre>
</div>

<h3 id="improve-vsvsxmake-project-plugin">Improve vs/vsxmake project plugin</h3>

<p>In addition to the group support and automatic updates mentioned above, in this version, we also fixed a lot of VS project-related issues, such as: intellisense prompt improvement, path truncation problem repair, full support for remote dependency packages</p>

<h3 id="improve-windows-registry-support">Improve windows registry support</h3>

<p>xmake improves the internal winos module and adds some interfaces to access the registry more conveniently and obtain the registry configuration on windows.</p>

<h4 id="winosregistry_keys">winos.registry_keys</h4>

<ul>
  <li>Get the list of registry builds</li>
</ul>

<p>Support through pattern matching, traverse to obtain the registry key path list, <code class="highlighter-rouge">*</code> is single-level path matching, <code class="highlighter-rouge">**</code> is recursive path matching.</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="kd">local</span> <span class="n">keypaths</span> <span class="o">=</span> <span class="n">winos</span><span class="p">.</span><span class="n">registry_keys</span><span class="p">(</span><span class="s2">"HKEY_LOCAL_MACHINE\\SOFTWARE\\*\\Windows NT\\*\\CurrentVersion\\AeDebug"</span><span class="p">)</span>
<span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">keypath</span> <span class="k">in</span> <span class="nb">ipairs</span><span class="p">(</span><span class="n">keypaths</span><span class="p">)</span> <span class="k">do</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">winos</span><span class="p">.</span><span class="n">registry_query</span><span class="p">(</span><span class="n">keypath</span> <span class="o">..</span> <span class="s2">";Debugger"</span><span class="p">))</span>
<span class="k">end</span>
</code></pre>
</div>

<h4 id="winosregistry_values">winos.registry_values</h4>

<ul>
  <li>Get a list of registry value names</li>
</ul>

<p>Support to obtain the value name list of the specified key path through pattern matching, and the string after the <code class="highlighter-rouge">;</code> is the specified key name pattern matching string.</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="kd">local</span> <span class="n">valuepaths</span> <span class="o">=</span> <span class="n">winos</span><span class="p">.</span><span class="n">registry_values</span><span class="p">(</span><span class="s2">"HKEY_LOCAL_MACHINE\\SOFTWARE\\xx\\AeDebug;Debug*"</span><span class="p">)</span>
<span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">valuepath</span> <span class="k">in</span> <span class="nb">ipairs</span><span class="p">(</span><span class="n">valuepaths</span><span class="p">)</span> <span class="k">do</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">winos</span><span class="p">.</span><span class="n">registry_query</span><span class="p">(</span><span class="n">valuepath</span><span class="p">))</span>
<span class="k">end</span>
</code></pre>
</div>

<h4 id="winosregistry_query">winos.registry_query</h4>

<ul>
  <li>Get the registry value</li>
</ul>

<p>Get the value under the specified registry path, if the value name is not specified, then get the default value of the key path</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="kd">local</span> <span class="n">value</span><span class="p">,</span> <span class="n">errors</span> <span class="o">=</span> <span class="n">winos</span><span class="p">.</span><span class="n">registry_query</span><span class="p">(</span><span class="s2">"HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\AeDebug"</span><span class="p">)</span>
<span class="kd">local</span> <span class="n">value</span><span class="p">,</span> <span class="n">errors</span> <span class="o">=</span> <span class="n">winos</span><span class="p">.</span><span class="n">registry_query</span><span class="p">(</span><span class="s2">"HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\AeDebug;Debugger"</span><span class="p">)</span>
</code></pre>
</div>

<h3 id="support-for-building-zig-project">Support for building Zig project</h3>

<p>In the last version, xmake has experimentally supported zig, but there were also many pitfalls during the period, especially when building on windows/macos encountered many problems.</p>

<p>Then in the latest zig 0.7.1, most of the problems I encountered have been fixed, and now xmake can already support zig project compilation.</p>

<p>We can quickly create a Zig empty project with the following command:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>xmake create -l zig console
</code></pre>
</div>

<p>The content of xmake.lua is as follows:</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="n">add_rules</span><span class="p">(</span><span class="s2">"mode.debug"</span><span class="p">,</span> <span class="s2">"mode.release"</span><span class="p">)</span>

<span class="n">target</span><span class="p">(</span><span class="s2">"console"</span><span class="p">)</span>
    <span class="n">set_kind</span><span class="p">(</span><span class="s2">"binary"</span><span class="p">)</span>
    <span class="n">add_files</span><span class="p">(</span><span class="s2">"src/*.zig"</span><span class="p">)</span>
</code></pre>
</div>

<p>As you can see, the configuration method is actually no different from C/C++. Because Zig and C have good binary compatibility, we can also use <code class="highlighter-rouge">add_requires</code> to add remote dependency support for C/C++ packages to the zig project.</p>

<p>Then execute xmake to complete the compilation.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>xmake
</code></pre>
</div>

<p>Then continue to run the run command, you can directly execute the zig program and output the running result.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>xmake run
Hello world!
</code></pre>
</div>

<p>We can also easily implement the mixed compilation support of C and Zig, just add the corresponding C code file.</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="n">add_rules</span><span class="p">(</span><span class="s2">"mode.debug"</span><span class="p">,</span> <span class="s2">"mode.release"</span><span class="p">)</span>

<span class="n">target</span><span class="p">(</span><span class="s2">"console"</span><span class="p">)</span>
    <span class="n">set_kind</span><span class="p">(</span><span class="s2">"binary"</span><span class="p">)</span>
    <span class="n">add_files</span><span class="p">(</span><span class="s2">"src/*.zig"</span><span class="p">,</span> <span class="s2">"src/*.c"</span><span class="p">)</span>
</code></pre>
</div>

<p>For complete code examples, see: <a href="https://github.com/xmake-io/xmake/blob/dev/tests/projects/zig/console_c_call_zig/xmake.lua">Zig with C</a></p>

<h3 id="luarocks-plugin">Luarocks plugin</h3>

<p><a href="https://luarocks.org/">luarocks</a> is a package management tool of lua, which provides the installation and integration of various lua modules, but it uses a built-in construction mechanism to build lua c modules.</p>

<p>For example, in its rockspec file, the builtin build type is used to describe the construction of common lua c modules:</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="n">build</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nb">type</span> <span class="o">=</span> <span class="s2">"builtin"</span><span class="p">,</span>
    <span class="n">modules</span> <span class="o">=</span> <span class="p">{</span>
        <span class="p">[</span><span class="s2">"module.hello"</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">sources</span> <span class="o">=</span> <span class="s2">"src/test.c"</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="n">copy_directories</span> <span class="o">=</span> <span class="p">{}</span>
<span class="p">}</span>
</code></pre>
</div>

<p>This is not a problem for small modules, but if the c code structure of the module is more complicated, its built-in construction rules still have many limitations and are not flexible. In addition, switching msvc / mingw tool chain and parameter configuration etc. Neither is flexible enough.</p>

<p>Therefore, xmake provides <a href="https://github.com/xmake-io/luarocks-build-xmake">luarocks=build-xmake</a> plugin to use xmake to replace the built-in build system of luarocks. The replacement method is also very simple. You only need to buildin Change the build type to xmake and add the luarocks-build-xmake dependency.</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="n">dependencies</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"lua &gt;= 5.1"</span><span class="p">,</span>
    <span class="s2">"luarocks-build-xmake"</span>
<span class="p">}</span>
<span class="n">build</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nb">type</span> <span class="o">=</span> <span class="s2">"xmake"</span><span class="p">,</span>
    <span class="n">modules</span> <span class="o">=</span> <span class="p">{</span>
        <span class="p">[</span><span class="s2">"module.hello"</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">sources</span> <span class="o">=</span> <span class="s2">"src/test.c"</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="n">copy_directories</span> <span class="o">=</span> <span class="p">{}</span>
<span class="p">}</span>
</code></pre>
</div>

<p>But this is still very cumbersome. It is still necessary to describe the rules based on the source file list in the modules in the rockspec file, and then luarocks-build-xmake will automatically generate xmake.lua according to the configuration to complete the build.</p>

<p>But since xmake is used, your own lua module can be maintained with xmake.lua, so the build configuration is more flexible, so we only need the following.</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="n">dependencies</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"lua &gt;= 5.1"</span><span class="p">,</span>
    <span class="s2">"luarocks-build-xmake"</span>
<span class="p">}</span>
<span class="n">build</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nb">type</span> <span class="o">=</span> <span class="s2">"xmake"</span><span class="p">,</span>
    <span class="n">copy_directories</span> <span class="o">=</span> <span class="p">{}</span>
<span class="p">}</span>
</code></pre>
</div>

<p>You only need to set the current switch to xmake compilation, and use the xmake.lua rules file built into the lua module project.</p>

<h3 id="support-for-deploying-qt-programs-on-windows">Support for deploying Qt programs on windows</h3>

<p>Thank you very much for the contribution of @SirLynix, xmake can already support the deployment and installation of Qt applications on windows.</p>

<p>We only need to maintain a Qt program normally, for example:</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="n">add_rules</span><span class="p">(</span><span class="s2">"mode.debug"</span><span class="p">,</span> <span class="s2">"mode.release"</span><span class="p">)</span>

<span class="n">target</span><span class="p">(</span><span class="s2">"demo"</span><span class="p">)</span>
     <span class="n">add_rules</span><span class="p">(</span><span class="s2">"qt.quickapp"</span><span class="p">)</span>
     <span class="n">add_headerfiles</span><span class="p">(</span><span class="s2">"src/*.h"</span><span class="p">)</span>
     <span class="n">add_files</span><span class="p">(</span><span class="s2">"src/*.cpp"</span><span class="p">)</span>
     <span class="n">add_files</span><span class="p">(</span><span class="s2">"src/qml.qrc"</span><span class="p">)</span>
</code></pre>
</div>

<p>Then, we only need to execute the following compile and install commands, and xmake will automatically call the windeployqt.exe program to install and deploy our Qt application.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>xmake
<span class="gp">$ </span>xmake install -o d:<span class="se">\i</span>nstalldir
</code></pre>
</div>

<p>Related patches: <a href="https://github.com/xmake-io/xmake/pull/1145">#1145</a></p>

<p>In addition, in the previous version, xmake has also supported the deployment and packaging of Qt programs for macOS and android versions. Each time only normal compilation commands are required, the QT .app/.apk installation package can be generated.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>xmake f -p android --ndk<span class="o">=</span>/xxx/android-ndk-r20b --sdk<span class="o">=</span>/xxx
<span class="gp">$ </span>xmake
</code></pre>
</div>

<h3 id="some-bug-fixes">Some bug fixes</h3>

<p>We have also fixed many problems reported by users. Here we introduce some more important bug fixes, such as:</p>

<p>We fixed the problem of empty double quotes in <code class="highlighter-rouge">add_defines("TEST=\"hello world\"")</code>, which caused errors in previous compilation.</p>

<p>In addition, we improved the search and support of the vstudio environment, and solved the problem of compilation failure caused by Chinese in the user’s home directory and environment variables.</p>

<p>We have also improved the llvm toolchain to solve the problem of the lack of isysroot configuration when using the llvm tool chain under macOS if xcode is not installed, and the occasional failure of the header file dependency compilation under msvc.</p>

<h2 id="changelog">Changelog</h2>

<h3 id="new-features">New features</h3>

<ul>
  <li><a href="https://github.com/xmake-io/xmake/issues/1035">#1035</a>: The graphics configuration menu fully supports mouse events, and support scroll bar</li>
  <li><a href="https://github.com/xmake-io/xmake/issues/1098">#1098</a>: Support stdin for os.execv</li>
  <li><a href="https://github.com/xmake-io/xmake/issues/1079">#1079</a>: Add autoupdate plugin rule for vsxmake, <code class="highlighter-rouge">add_rules("plugin.vsxmake.autoupdate")</code></li>
  <li>Add <code class="highlighter-rouge">xmake f --vs_runtime=MT</code> and <code class="highlighter-rouge">set_runtimes("MT")</code> to set vs runtime for targets and packages</li>
  <li><a href="https://github.com/xmake-io/xmake/issues/1032">#1032</a>: Support to enum registry keys and values</li>
  <li><a href="https://github.com/xmake-io/xmake/issues/1026">#1026</a>: Support group for vs/vsxmake project</li>
  <li><a href="https://github.com/xmake-io/xmake/issues/1178">#1178</a>: Add <code class="highlighter-rouge">add_requireconfs()</code> api to rewrite configs of depend packages</li>
  <li><a href="https://github.com/xmake-io/xmake/issues/1043">#1043</a>: Add <code class="highlighter-rouge">luarocks.module</code> rule for luarocks-build-xmake</li>
  <li><a href="https://github.com/xmake-io/xmake/issues/1190">#1190</a>: Support for Apple Silicon (macOS ARM)</li>
  <li><a href="https://github.com/xmake-io/xmake/pull/1145">#1145</a>: Support Qt deploy for Windows, thanks @SirLynix</li>
</ul>

<h3 id="change">Change</h3>

<ul>
  <li><a href="https://github.com/xmake-io/xmake/issues/1072">#1072</a>: Fix and improve to parse cl deps</li>
  <li>Support utf8 for ui modules and <code class="highlighter-rouge">xmake f --menu</code></li>
  <li>Improve to support zig on macOS</li>
  <li><a href="https://github.com/xmake-io/xmake/issues/1135">#1135</a>: Improve multi-toolchain and multi-platforms for targets</li>
  <li><a href="https://github.com/xmake-io/xmake/issues/1153">#1153</a>: Improve llvm toolchain to support sysroot on macOS</li>
  <li><a href="https://github.com/xmake-io/xmake/issues/1071">#1071</a>: Improve to generate vs/vsxmake project to support for remote packages</li>
  <li>Improve vs/vsxmake project plugin to support global <code class="highlighter-rouge">set_arch()</code> setting</li>
  <li><a href="https://github.com/xmake-io/xmake/issues/1164">#1164</a>: Improve to launch console programs for vsxmake project</li>
  <li><a href="https://github.com/xmake-io/xmake/issues/1179">#1179</a>: Improve llvm toolchain and add isysroot</li>
</ul>

<h3 id="bugs-fixed">Bugs fixed</h3>

<ul>
  <li><a href="https://github.com/xmake-io/xmake/issues/1091">#1091</a>: Fix incorrect ordering of inherited library dependencies</li>
  <li><a href="https://github.com/xmake-io/xmake/issues/1105">#1105</a>: Fix c++ language intellisense for vsxmake</li>
  <li><a href="https://github.com/xmake-io/xmake/issues/1132">#1132</a>: Fix TrimEnd bug for vsxmake</li>
  <li><a href="https://github.com/xmake-io/xmake/issues/1142">#1142</a>: Fix git not found when installing packages</li>
  <li>Fix macos.version bug for macOS Big Sur</li>
  <li><a href="https://github.com/xmake-io/xmake/issues/1084">#1084</a>: Fix <code class="highlighter-rouge">add_defines()</code> bug (contain spaces)</li>
  <li><a href="https://github.com/xmake-io/xmake/pull/1195">#1195</a>: Fix unicode problem for vs and improve find_vstudio/os.exec</li>
</ul>

        </article>
        <hr>

        <!-- baidu ads -->
        

        
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
                    
                    <h2 id="chinese">中文</h2>
                    <ul>
                    
                    <li class="relatedPost">
                        <a href="/cn/2021/01/16/xmake-update-v2.5.1/">xmake v2.5.1 发布, 支持 Apple Silicon 并改进 C/C++ 包依赖管理
                        
                        </a>
                    </li>
                    
                    
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
        
            
        
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
        
            </ul>
        

        
        
            
            
            
                
                    
                        
                        <h2 id="similar_posts">Similar Posts</h2>
                        <ul>
                        
                        <li class="relatedPost">
                            <a href="/2021/05/03/please-use-xmake/">C/C++ build system, I use xmake
                            
                            </a>
                        </li>
                        
                        
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
            
        
            
        
            
        
            
            
            
                
                    
                        
                        <li class="relatedPost">
                            <a href="/2021/04/08/xmake-update-v2.5.3/">xmake v2.5.3 Released, Support to build Linux bpf program and integrate Conda packages
                            
                            </a>
                        </li>
                        
                        
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
            
        
            
        
            
            
            
                
                    
                        
                        <li class="relatedPost">
                            <a href="/2021/02/27/xmake-update-v2.5.2/">xmake v2.5.2 released, Support pull remote cross-toolchain and package integration
                            
                            </a>
                        </li>
                        
                        
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
            
        
            
        
            
            
            
                
                    
                        
                        <li class="relatedPost">
                            <a href="/2021/01/22/luarocks-build-xmake-v1.0/">A luarocks build plugin for lua module with c/c++ based on xmake
                            
                            </a>
                        </li>
                        
                        
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
            
        
            
        
            
        
        
            </ul>
        

        <div class="post-recent">
    <div class="pre">

        

        

        
        
        

        

        

        
        
        

        

        

        
        
        

        

        

        
        
        <p><strong>Prev Post</strong> <a href="/2020/11/30/ltui-v2.4/">LTUI v2.4 released, A cross-platform terminal ui library based on Lua</a></p>
        
    </div>

    <div class="nex">

        

        

        
        
        

        

        

        
        
        <p><strong>Next Post</strong> <a href="/2021/01/22/luarocks-build-xmake-v1.0/">A luarocks build plugin for lua module with c/c++ based on xmake</a></p>
        
    </div>
</div>


        <h2 id="comments">Comments</h2>
        






<div id="gitalk-container"></div>
<link rel="stylesheet" href="/css/gitalk.css">
<script src="/js/gitalk.min.js"></script>

<script>
const gitalk = new Gitalk({
  clientID: '73946dc1d9e2276ad0da',
  clientSecret: '12a3cb94361ba3ebc6ecb68cf80d592bfaa8106d',
  repo: 'tboox.github.io',
  owner: 'waruqi',
  admin: ['waruqi'],
  id: location.pathname,      
  language: 'en',
  distractionFreeMode: false  
})

gitalk.render('gitalk-container')
</script>





    </div>
    <button class="anchor"><i class="fa fa-anchor"></i></button>
    <div class="right">
        <div class="wrap">


            <!-- codefund ads -->
            

            <!-- Content -->
            <div class="side content">
                <div>
                    Content
                </div>
                <ul id="content-side" class="content-ul">
                    <li><a href="#chinese">中文</a></li>
                    <li><a href="#similar_posts">Similar Posts</a></li>
                    <li><a href="#comments">Comments</a></li>
                </ul>
            </div>

            <!-- baidu ads -->
            

            <br>
            <div class="side">
                <div>
                    <i class="fa fa-external-link"></i>
                    Links
                </div>
                <ul class="content-ul">
                  <li><a href="http://github.com/waruqi/tbox">tbox</a></li>
                  <li><a href="http://www.xmake.io">xmake</a></li>
                  <li><a href="https://github.com/waruqi">github</a></li>
                </ul>
            </div> 

            <!-- google ads -->
            

            <!-- baidu ads -->
            

            <!-- chitika ads -->
            
        </div>
    </div>

    <!-- baidu ads -->
    
</div>
<script>
/**
 * target _blank
 */
(function() {
    var aTags = document.querySelectorAll('article a:not([id])')
    for (var i = 0; i < aTags.length; i++) {
        aTags[i].setAttribute('target', '_blank')
    }
}());
</script>
<script src="/js/pageContent.js " charset="utf-8"></script>



    <footer class="site-footer">
    <div class="wrapper">
        <p class="description">
             Copyright (c) 2016-2020 tboox.org 
        </p>
        <p class="contact">
            
            <a href="https://github.com/waruqi" title="GitHub"><i class="fa fa-github" aria-hidden="true"></i></a> 
             
            
            <a href="mailto:waruqi@gmail.com" title="email"><i class="fa fa-envelope-o" aria-hidden="true"></i></a> 
            
            
            <a href="https://twitter.com/waruqi" title="Twitter"><i class="fa fa-twitter" aria-hidden="true"></i></a> 
            
            <a href="/feed.xml" title="feed"><i class="fa fa-feed" aria-hidden="true"></i></a> 
        </p>
        <p class="power">
            <span>
                Site powered by <a href="https://jekyllrb.com/">Jekyll</a> & <a href="https://github.com/Gaohaoyang">HyG</a> & <a href="https://pages.github.com/">Github Pages</a>.
            </span>
        </p>
    </div>
</footer>

    <div class="back-to-top">
    <a href="#top" class="scroll">
        <i class="fa fa-arrow-up" aria-hidden="true"></i>
    </a>
</div>

    <script src=" /js/main.js " charset="utf-8"></script>
    <script src=" /js/scroll.min.js " charset="utf-8"></script>
  </body>

</html>
