<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="Cache-Control" content="no-siteapp" />

    <title>xmake v2.3.4 released, better toolchain support</title>
    <meta name="description" content="In order to make xmake better support cross-compilation, this version I refactored the entire tool chain, making the tool chain switching more convenient and...">

    
    <meta name="keywords" content="xmake,lua,C/C++,toolchains,cross-compilation,tboox" /> 

    <!-- qq oauth -->
    <meta property="qc:admins" content="5211601217706727767255" />

    <!--icon -->
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" sizes="192x192" href="/static/img/nice-highres.png" />
	<link rel="apple-touch-icon-precomposed" href="/static/img/apple-touch-icon-57x57-precomposed.png" />
	<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/static/img/apple-touch-icon-72x72-precomposed.png" />
	<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/static/img/apple-touch-icon-114x114-precomposed.png" />
	<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/static/img/apple-touch-icon-144x144-precomposed.png" />
	<link rel="apple-touch-icon-precomposed" sizes="180x180" href="/static/img/retinahd_icon.png" />
	<meta name="msapplication-TileImage" content="/static/img/retinahd_icon.png" />
	
    <link rel="stylesheet" href=" /css/fontawesome/css/font-awesome.min.css ">
    <link rel="stylesheet" href=" /css/main.css ">
    <link rel="canonical" href="http://www.tboox.org/2020/06/05/xmake-update-v2.3.4/">
    <link rel="alternate" type="application/rss+xml" title="TBOOX Open Source Project" href="http://www.tboox.org/feed.xml ">
    <link rel="alternate" hreflang="en" href="http://www.tboox.org/" />
    <link rel="alternate" hreflang="zh-Hans" href="http://www.tboox.org/cn/" />




    <script type="text/javascript">
    function isPC(){    
        var userAgentInfo = navigator.userAgent;  
        var Agents = new Array("Android", "iPhone", "SymbianOS", "Windows Phone", "iPad", "iPod");    
        var flag = true;    
        for (var v = 0; v < Agents.length; v++) {    
            if (userAgentInfo.indexOf(Agents[v]) > 0) { flag = false; break; }    
        }    
        return flag;    
    }
    </script>

<!-- baidu ads -->



    <!-- baidu ads -->

</head>


  <body>

    <header id="top">
    <div class="wrapper">
        <a href="/" class="brand">TBOOX</a>
        <button id="headerMenu" class="menu"><i class="fa fa-bars"></i></button>
        <nav id="headerNav">
            <ul>
                <li>
                    
                    <a href="/cn?lang=0">
                    
                        <i class="fa fa-home"></i>中文
                    </a>
                </li>

                
                    
                     
                    
                
                    
                     
                     
                    <li>

                        
                            
                            <a href="/project/">
                            
                        
                            <i class="fa fa-bookmark"></i>Projects
                        </a>
                    </li>
                    
                    
                    
                
                    
                     
                    
                
                    
                     
                     
                    <li>

                        
                            
                            <a href="/archive/">
                            
                        
                            <i class="fa fa-archive"></i>Archives
                        </a>
                    </li>
                    
                    
                    
                
                    
                     
                    
                
                    
                     
                     
                    <li>

                        
                            
                            <a href="/category/">
                            
                        
                            <i class="fa fa-th-list"></i>Categories
                        </a>
                    </li>
                    
                    
                    
                
                    
                     
                    
                
                    
                     
                     
                    <li>

                        
                            
                            <a href="/tag/">
                            
                        
                            <i class="fa fa-tags"></i>Tags
                        </a>
                    </li>
                    
                    
                    
                
                    
                
                    
                     
                    
                
                    
                     
                     
                    <li>

                        
                            
                            <a href="/docs/">
                            
                        
                            <i class="fa fa-book"></i>Documents
                        </a>
                    </li>
                    
                    
                    
                
                    
                     
                    
                
                    
                     
                     
                    <li>

                        
                            
                            <a href="https://www.reddit.com/r/tboox/" target="_blank" >
                            
                        
                            <i class="fa fa-forumbee"></i>Community
                        </a>
                    </li>
                    
                    
                    
                
                    
                     
                    
                
                    
                     
                     
                    <li>

                        
                            
                            <a href="/donation/">
                            
                        
                            <i class="fa fa-heart"></i>Donate
                        </a>
                    </li>
                    
                    
                    
                
                    
                     
                    
                
                    
                     
                     
                    <li>

                        
                            
                            <a href="/about/">
                            
                        
                            <i class="fa fa-user"></i>About
                        </a>
                    </li>
                    
                    
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                     
                     
                    
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            </ul>
        </nav>
    </div>
</header>



        <div class="page clearfix" post>
    <div class="left">
        <h1>xmake v2.3.4 released, better toolchain support</h1>
        <div class="label">

            <div class="label-card">
                <i class="fa fa-calendar"></i>2020-06-05
            </div>

            <div class="label-card">
                
            </div>

            <div class="label-card">
                
            </div>

            <div class="label-card">
            


<!-- <span class="point">•</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#xmake" title="Category: xmake" rel="category">xmake</a>
    
  

  <!-- <span class="point">•</span> -->
</span>


            </div>

            <div class="label-card">
            
<!-- <span class="point">•</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <!--a href="/tag/#xmake" title="Tag: xmake" rel="tag">xmake</a-->
        <a href="/tag/#xmake" title="Tag: xmake" rel="tag">xmake</a>&nbsp;
    
        <!--a href="/tag/#lua" title="Tag: lua" rel="tag">lua</a-->
        <a href="/tag/#lua" title="Tag: lua" rel="tag">lua</a>&nbsp;
    
        <!--a href="/tag/#C%2FC%2B%2B" title="Tag: C/C++" rel="tag">C/C++</a-->
        <a href="/tag/#C/C++" title="Tag: C/C++" rel="tag">C/C++</a>&nbsp;
    
        <!--a href="/tag/#toolchains" title="Tag: toolchains" rel="tag">toolchains</a-->
        <a href="/tag/#toolchains" title="Tag: toolchains" rel="tag">toolchains</a>&nbsp;
    
        <!--a href="/tag/#cross-compilation" title="Tag: cross-compilation" rel="tag">cross-compilation</a-->
        <a href="/tag/#cross-compilation" title="Tag: cross-compilation" rel="tag">cross-compilation</a>
    
  

</span>

            </div>

        </div>
        <hr>
        <article itemscope itemtype="http://schema.org/BlogPosting">
        <p>In order to make xmake better support cross-compilation, this version I refactored the entire tool chain, making the tool chain switching more convenient and fast, and now users can easily extend their tool chain in xmake.lua.</p>

<p>With regard to platform support, we have added support for *BSD systems. In addition, this version also adds a ninja theme style to achieve ninja-like compilation progress display, for example:</p>

<p><img src="https://xmake.io/assets/img/theme/ninja.png" width="60%" /></p>

<ul>
  <li><a href="https://github.com/xmake-io/xmake">Github</a></li>
  <li><a href="https://xmake.io/#/home">Documents</a></li>
</ul>

<h2 id="introduction-of-new-features">Introduction of New Features</h2>

<h3 id="toolchain-improvements">Toolchain improvements</h3>

<h4 id="toolchain-and-platform-are-completely-separated">Toolchain and platform are completely separated</h4>

<p>In previous versions, the platform and tool chain were too tightly bound. For example, the <code class="highlighter-rouge">xmake f -p windows</code> platform can only use msvc compilation by default. If you want to switch to clang or other compilers, you can only cross the compilation platform: <code class="highlighter-rouge">xmake f -p cross</code>.</p>

<p>But in this case, some settings specific to the windows platform are lost, and users cannot use <code class="highlighter-rouge">if is_plat("windows") then</code> to judge the windows platform to make specific settings.</p>

<p>In fact, the platform and the tool chain can be opened independently. After the new version has been refactored, even the windows platform and any other platforms can easily and quickly switch to other tool chains such as clang, llvm and so on.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>xmake f -p windows --toolchain<span class="o">=</span>clang
</code></pre>
</div>

<h4 id="built-in-toolchain">Built-in toolchain</h4>

<p>Although xmake’s cross-compilation configuration supports all toolchains, and also provides a certain degree of intelligent analysis and toolchain detection, the general solution needs to add various additional configurations for specific toolchain support, such as passing some <code class="highlighter-rouge">--ldflags=</code> , <code class="highlighter-rouge">--cxflags=</code> parameter or something.</p>

<p>The new version of xmake has some common tool chains built in, which can save the complicated configuration process of cross-compiling tool chains, and only need to pass the tool chain name to <code class="highlighter-rouge">--toolchain=xxx</code>.</p>

<p>Switch to the llvm tool chain:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>xmake f -p cross --toolchain<span class="o">=</span>llvm --sdk<span class="o">=</span><span class="s2">"C:</span><span class="se">\P</span><span class="s2">rogram Files</span><span class="se">\L</span><span class="s2">LVM"</span>
<span class="gp">$ </span>xmake
</code></pre>
</div>

<p>切换到GNU-RM工具链：</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>xmake f -p cross --toolchain<span class="o">=</span>gnu-rm --sdk<span class="o">=</span>/xxx/cc-arm-none-eabi-9-2019-q4-major
<span class="gp">$ </span>xmake
</code></pre>
</div>

<p>You can quickly switch the designated cross-compilation toolchain. For the built-in toolchain, you can save most of the configuration. Usually only need to be <code class="highlighter-rouge">--toolchain=</code> and <code class="highlighter-rouge">--sdk=</code>, other configurations will be automatically set Ok, make sure it compiles normally.</p>

<p>What other built-in tool chains does xmake support? We can view through the following command:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>xmake show -l toolchains
xcode         Xcode IDE
vs            VisualStudio IDE
yasm          The Yasm Modular Assembler
clang         A C language family frontend <span class="k">for </span>LLVM
go            Go Programming Language Compiler
dlang         D Programming Language Compiler
sdcc          Small Device C Compiler
cuda          CUDA Toolkit
ndk           Android NDK
rust          Rust Programming Language Compiler
llvm          A collection of modular and reusable compiler and toolchain technologies
cross         Common cross compilation toolchain
nasm          NASM Assembler
gcc           GNU Compiler Collection
mingw         Minimalist GNU <span class="k">for </span>Windows
gnu-rm        GNU Arm Embedded Toolchain
envs          Environment variables toolchain
fasm          Flat Assembler
</code></pre>
</div>

<h4 id="synchronous-switching-of-toolchain">Synchronous switching of toolchain</h4>

<p>The new version of xmake also supports full synchronous switching of the toolchain. What does this mean?</p>

<p>For example, if we want to switch from the default gcc to clang compilation, we may need to cut some toolset, <code class="highlighter-rouge">xmake f --cc=clang --cxx=clang --ld=clang++ --sh=clang++</code>, because the compiler cut , Corresponding linker, static library archiver must cut everything at the same time.</p>

<p>It’s really painful to cut one side by one, and the author himself can’t stand it, so when refactoring the tool chain, this piece has also been focused on improvement. Now only need:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>xmake f --toolchain<span class="o">=</span>clang
<span class="gp">$ </span>xmake
</code></pre>
</div>

<p>You can completely cut through all the clang tool set as a whole, so how to switch back to gcc, it is also very convenient:</p>

<p>or</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>xmake f --toolchain<span class="o">=</span>gcc
<span class="gp">$ </span>xmake
</code></pre>
</div>

<h4 id="custom-toolchain">Custom toolchain</h4>

<p>In addition, we can also customize the toolchain in xmake.lua, and then specify the switch through <code class="highlighter-rouge">xmake f --toolchain=myclang</code>, for example:</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="n">toolchain</span><span class="p">(</span><span class="s2">"myclang"</span><span class="p">)</span>
    <span class="n">set_kind</span><span class="p">(</span><span class="s2">"standalone"</span><span class="p">)</span>
    <span class="n">set_toolset</span><span class="p">(</span><span class="s2">"cc"</span><span class="p">,</span> <span class="s2">"clang"</span><span class="p">)</span>
    <span class="n">set_toolset</span><span class="p">(</span><span class="s2">"cxx"</span><span class="p">,</span> <span class="s2">"clang"</span><span class="p">,</span> <span class="s2">"clang++"</span><span class="p">)</span>
    <span class="n">set_toolset</span><span class="p">(</span><span class="s2">"ld"</span><span class="p">,</span> <span class="s2">"clang++"</span><span class="p">,</span> <span class="s2">"clang"</span><span class="p">)</span>
    <span class="n">set_toolset</span><span class="p">(</span><span class="s2">"sh"</span><span class="p">,</span> <span class="s2">"clang++"</span><span class="p">,</span> <span class="s2">"clang"</span><span class="p">)</span>
    <span class="n">set_toolset</span><span class="p">(</span><span class="s2">"ar"</span><span class="p">,</span> <span class="s2">"ar"</span><span class="p">)</span>
    <span class="n">set_toolset</span><span class="p">(</span><span class="s2">"ex"</span><span class="p">,</span> <span class="s2">"ar"</span><span class="p">)</span>
    <span class="n">set_toolset</span><span class="p">(</span><span class="s2">"strip"</span><span class="p">,</span> <span class="s2">"strip"</span><span class="p">)</span>
    <span class="n">set_toolset</span><span class="p">(</span><span class="s2">"mm"</span><span class="p">,</span> <span class="s2">"clang"</span><span class="p">)</span>
    <span class="n">set_toolset</span><span class="p">(</span><span class="s2">"mxx"</span><span class="p">,</span> <span class="s2">"clang"</span><span class="p">,</span> <span class="s2">"clang++"</span><span class="p">)</span>
    <span class="n">set_toolset</span><span class="p">(</span><span class="s2">"as"</span><span class="p">,</span> <span class="s2">"clang"</span><span class="p">)</span>

    <span class="c1">-- ...</span>
</code></pre>
</div>

<p>Among them <code class="highlighter-rouge">set_toolset</code> is used to set different tool sets one by one, such as compiler, linker, assembler, etc.</p>

<p>By default, xmake will detect tools from the sdk parameters of <code class="highlighter-rouge">xmake f --sdk=xx</code>. Of course, we can also call <code class="highlighter-rouge">set_sdk("/xxx/llvm")</code> for each custom tool chain in xmake.lua Write the toolchain SDK address.</p>

<p>For more details about this piece, you can go to the [Custom Tool Chain] (https://xmake.io/zh-cn/manual/custom_toolchain) chapter to view</p>

<p>For more details, please see: <a href="https://github.com/xmake-io/xmake/issues/780">#780</a></p>

<h4 id="set-up-a-toolchain-for-a-specific-target">Set up a toolchain for a specific target</h4>

<p>In addition to custom toolchains, we can also switch different toolchains individually for a specific target. Unlike set_toolset, this interface is an overall switchover of the complete toolchain, such as cc/ld/sh and a series of tools. set.</p>

<p>This is also a recommended practice, because most compiler tool chains like gcc/clang, the compiler and the linker are used together. To cut it, you have to cut it as a whole. Separate and scattered switch settings will be cumbersome.</p>

<p>For example, we switch the test target to two tool chains of clang+yasm:</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="n">target</span><span class="p">(</span><span class="s2">"test"</span><span class="p">)</span>
    <span class="n">set_kind</span><span class="p">(</span><span class="s2">"binary"</span><span class="p">)</span>
    <span class="n">add_files</span><span class="p">(</span><span class="s2">"src/*.c"</span><span class="p">)</span>
    <span class="n">set_toolchains</span><span class="p">(</span><span class="s2">"clang"</span><span class="p">,</span> <span class="s2">"yasm"</span><span class="p">)</span>
</code></pre>
</div>

<p>Or you can set specific tools in each target’s tool chain through <code class="highlighter-rouge">set_toolset</code>.</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="n">target</span><span class="p">(</span><span class="s2">"test"</span><span class="p">)</span>
    <span class="n">set_kind</span><span class="p">(</span><span class="s2">"binary"</span><span class="p">)</span>
    <span class="n">set_toolset</span><span class="p">(</span><span class="s2">"cxx"</span><span class="p">,</span> <span class="s2">"clang"</span><span class="p">)</span>
    <span class="n">set_toolset</span><span class="p">(</span><span class="s2">"ld"</span><span class="p">,</span> <span class="s2">"clang++"</span><span class="p">)</span>
</code></pre>
</div>

<h3 id="ninja-build-theme">ninja build theme</h3>

<p>The construction progress style is similar to ninja, using a single-line progress bar, no longer rolling back the progress, users can set according to their own preferences.</p>

<p>The configuration of the default theme is the same except that the progress is displayed differently.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>xmake g --theme<span class="o">=</span>ninja
</code></pre>
</div>

<p><img src="https://xmake.io/assets/img/theme/ninja.png" width="60%" /></p>

<h3 id="set-build-behavior-strategy">Set Build Behavior Strategy</h3>

<p>Xmake has many default behaviors, such as: automatic detection and mapping of flags, cross-target parallel construction, etc. Although it provides a certain amount of intelligent processing, it is difficult to adjust and may not meet all users’ habits and needs.</p>

<p>Therefore, starting with v2.3.4, xmake provides modified settings for the default build strategy, which is open to users to a certain degree of configurability.</p>

<p>The usage is as follows:</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="n">set_policy</span><span class="p">(</span><span class="s2">"check.auto_ignore_flags"</span><span class="p">,</span> <span class="kc">false</span><span class="p">)</span>
</code></pre>
</div>

<p>You only need to set this configuration in the project root domain to disable the automatic detection and ignore mechanism of flags. In addition, set_policy can also take effect locally for a specific target.</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="n">target</span><span class="p">(</span><span class="s2">"test"</span><span class="p">)</span>
    <span class="n">set_policy</span><span class="p">(</span><span class="s2">"check.auto_ignore_flags"</span><span class="p">,</span> <span class="kc">false</span><span class="p">)</span>
</code></pre>
</div>

<p>!&gt; In addition, if the set policy name is invalid, xmake will also have a warning prompt.</p>

<p>If you want to get a list and description of all the policy configurations supported by the current xmake, you can execute the following command:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>xmake l core.project.policy.policies
<span class="o">{</span>
  <span class="s2">"check.auto_map_flags"</span> <span class="o">=</span> <span class="o">{</span>
    <span class="nb">type</span> <span class="o">=</span> <span class="s2">"boolean"</span>,
    description <span class="o">=</span> <span class="s2">"Enable map gcc flags to the current compiler and linker automatically."</span>,
    default <span class="o">=</span> <span class="nb">true</span>
  <span class="o">}</span>,
  <span class="s2">"build.across_targets_in_parallel"</span> <span class="o">=</span> <span class="o">{</span>
    <span class="nb">type</span> <span class="o">=</span> <span class="s2">"boolean"</span>,
    description <span class="o">=</span> <span class="s2">"Enable compile the source files for each target in parallel."</span>,
    default <span class="o">=</span> <span class="nb">true</span>
  <span class="o">}</span>,
  <span class="s2">"check.auto_ignore_flags"</span> <span class="o">=</span> <span class="o">{</span>
    <span class="nb">type</span> <span class="o">=</span> <span class="s2">"boolean"</span>,
    description <span class="o">=</span> <span class="s2">"Enable check and ignore unsupported flags automatically."</span>,
    default <span class="o">=</span> <span class="nb">true</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h4 id="checkauto_ignore_flags">check.auto_ignore_flags</h4>

<p>By default, xmake will automatically detect all the original flags set by the <code class="highlighter-rouge">add_cxflags</code> and <code class="highlighter-rouge">add_ldflags</code> interfaces. If the current compiler and linker do not support them, they will be automatically ignored.</p>

<p>This is usually very useful. Like some optional compilation flags, it can be compiled normally even if it is not supported, but it is forced to be set up. When compiling, other users may have a certain degree of support due to the different strength of the compiler. The compilation failed.</p>

<p>However, because automatic detection does not guarantee 100% reliability, sometimes there will be a certain degree of misjudgment, so some users do not like this setting (especially for cross-compilation tool chains, which are more likely to fail).</p>

<p>At present, if the detection fails in v2.3.4, there will be a warning prompt to prevent users from lying inexplicably, for example:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>warning: add_ldflags<span class="o">(</span><span class="s2">"-static"</span><span class="o">)</span> is ignored, please pass <span class="sb">`</span><span class="o">{</span>force <span class="o">=</span> <span class="nb">true</span><span class="o">}</span><span class="sb">`</span> or call <span class="sb">`</span>set_policy<span class="o">(</span><span class="s2">"check.auto_ignore_flags"</span>, <span class="nb">false</span><span class="o">)</span><span class="sb">`</span> <span class="k">if </span>you want to <span class="nb">set </span>it.
</code></pre>
</div>

<p>According to the prompt, we can analyze and judge ourselves whether it is necessary to set this flags. One way is to pass:</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="n">add_ldflags</span><span class="p">(</span><span class="s2">"-static"</span><span class="p">,</span> <span class="p">{</span><span class="n">force</span> <span class="o">=</span> <span class="kc">true</span><span class="p">})</span>
</code></pre>
</div>

<p>To display the mandatory settings, skip automatic detection, which is an effective and fast way to deal with occasional flags failure, but for cross-compilation, if a bunch of flags settings cannot be detected, each set force Too tedious.</p>

<p>At this time, we can use <code class="highlighter-rouge">set_policy</code> to directly disable the default automatic detection behavior for a target or the entire project:</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="n">set_policy</span><span class="p">(</span><span class="s2">"check.auto_ignore_flags"</span><span class="p">,</span> <span class="kc">false</span><span class="p">)</span>
<span class="n">target</span><span class="p">(</span><span class="s2">"test"</span><span class="p">)</span>
    <span class="n">add_ldflags</span><span class="p">(</span><span class="s2">"-static"</span><span class="p">)</span>
</code></pre>
</div>

<p>Then we can set various original flags at will, xmake will not automatically detect and ignore them.</p>

<h4 id="checkauto_map_flags">check.auto_map_flags</h4>

<p>This is another intelligent analysis processing of flags by xmake. Usually, the configuration of xmake built-in api like <code class="highlighter-rouge">add_links</code>, <code class="highlighter-rouge">add_defines</code> has cross-platform characteristics, and different compiler platforms will automatically process them into corresponding ones. Original flags.</p>

<p>However, in some cases, users still need to set the original compilation link flags by add_cxflags, add_ldflags, these flags are not good cross compiler</p>

<p>Take <code class="highlighter-rouge">-O0</code> compiler optimization flags. Although <code class="highlighter-rouge">set_optimize</code> is used to implement cross-compiler configuration, what if the user directly sets <code class="highlighter-rouge">add_cxflags("-O0")</code>? It can be processed normally under gcc/clang, but it is not supported under msvc</p>

<p>Maybe we can use <code class="highlighter-rouge">if is_plat() then</code> to process by platform, but it is very cumbersome, so xmake has built-in automatic mapping function of flags.</p>

<p>Based on the popularity of gcc flags, xmake uses gcc’s flags naming convention to automatically map it according to different compilations, for example:</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="n">add_cxflags</span><span class="p">(</span><span class="s2">"-O0"</span><span class="p">)</span>
</code></pre>
</div>

<p>This line setting is still <code class="highlighter-rouge">-O0</code> under gcc/clang, but if it is currently msvc compiler, it will be automatically mapped to msvc corresponding to <code class="highlighter-rouge">-Od</code> compilation option to disable optimization.</p>

<p>Throughout the process, users are completely unaware, and can execute xmake directly to compile across compilers.</p>

<p>!&gt; Of course, the current implementation of automatic mapping is not very mature. There is no 100% coverage of all gcc flags, so there are still many flags that are not mapped.</p>

<p>Some users do not like this automatic mapping behavior, so we can completely disable this default behavior through the following settings:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>set_policy<span class="o">(</span><span class="s2">"check.auto_map_flags"</span>, <span class="nb">false</span><span class="o">)</span>
</code></pre>
</div>

<h4 id="buildacross_targets_in_parallel">build.across_targets_in_parallel</h4>

<p>This strategy is also enabled by default and is mainly used to perform parallel builds between targets. In versions prior to v2.3.3, parallel builds can only target all source files within a single target.
For cross-target compilation, you must wait until the previous target is fully linked before you can execute the compilation of the next target, which will affect the compilation speed to a certain extent.</p>

<p>However, the source files of each target can be completely parallelized, and finally the link process is executed together. Versions after v2.3.3 through this optimization, the construction speed is increased by 30%.</p>

<p>Of course, if the build source files in some special targets depend on previous targets (especially in the case of some custom rules, although rarely encountered), we can also disable this optimization behavior through the following settings:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code>set_policy<span class="o">(</span><span class="s2">"build.across_targets_in_parallel"</span>, <span class="nb">false</span><span class="o">)</span>
</code></pre>
</div>

<h3 id="add-compilation-mode">Add compilation mode</h3>

<h4 id="modereleasedbg">mode.releasedbg</h4>

<p>Add releasedbg compilation mode configuration rules for the current project xmake.lua, for example:</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="n">add_rules</span><span class="p">(</span><span class="s2">"mode.releasedbg"</span><span class="p">)</span>
</code></pre>
</div>

<p>!&gt; Compared with the release mode, this mode will also enable additional debugging symbols, which is usually very useful.</p>

<p>Equivalent to:</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="k">if</span> <span class="n">is_mode</span><span class="p">(</span><span class="s2">"releasedbg"</span><span class="p">)</span> <span class="k">then</span>
    <span class="n">set_symbols</span><span class="p">(</span><span class="s2">"debug"</span><span class="p">)</span>
    <span class="n">set_optimize</span><span class="p">(</span><span class="s2">"fastest"</span><span class="p">)</span>
    <span class="n">set_strip</span><span class="p">(</span><span class="s2">"all"</span><span class="p">)</span>
<span class="k">end</span>
</code></pre>
</div>

<p>We can switch to this compilation mode by: <code class="highlighter-rouge">xmake f -m releasedbg</code>.</p>

<h4 id="modeminsizerel">mode.minsizerel</h4>

<p>Add minsizerel configuration mode configuration rules for the current project xmake.lua, for example:</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="n">add_rules</span><span class="p">(</span><span class="s2">"mode.minsizerel"</span><span class="p">)</span>
</code></pre>
</div>

<p>!&gt; Compared with the release mode, this mode is more inclined to the minimum code compilation optimization, rather than speed priority.</p>

<p>Equivalent to:</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="k">if</span> <span class="n">is_mode</span><span class="p">(</span><span class="s2">"minsizerel"</span><span class="p">)</span> <span class="k">then</span>
    <span class="n">set_symbols</span><span class="p">(</span><span class="s2">"hidden"</span><span class="p">)</span>
    <span class="n">set_optimize</span><span class="p">(</span><span class="s2">"smallest"</span><span class="p">)</span>
    <span class="n">set_strip</span><span class="p">(</span><span class="s2">"all"</span><span class="p">)</span>
<span class="k">end</span>
</code></pre>
</div>

<p>We can switch to this compilation mode by: <code class="highlighter-rouge">xmake f -m minsizerel</code>.</p>

<h3 id="show-specified-information-and-list">Show specified information and list</h3>

<h4 id="show-basic-information-about-xmake-itself-and-the-current-project">Show basic information about xmake itself and the current project</h4>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>xmake show
The information of xmake:
    version: 2.3.3+202006011009
    host: macosx/x86_64
    programdir: /Users/ruki/.local/share/xmake
    programfile: /Users/ruki/.local/bin/xmake
    globaldir: /Users/ruki/.xmake
    tmpdir: /var/folders/32/w9cz0y_14hs19lkbs6v6_fm80000gn/T/.xmake501/200603
    workingdir: /Users/ruki/projects/personal/tbox
    packagedir: /Users/ruki/.xmake/packages
    packagedir<span class="o">(</span>cache<span class="o">)</span>: /Users/ruki/.xmake/cache/packages/2006

The information of project: tbox
    version: 1.6.5
    plat: macosx
    arch: x86_64
    mode: release
    buildir: build
    configdir: /Users/ruki/projects/personal/tbox/.xmake/macosx/x86_64
    projectdir: /Users/ruki/projects/personal/tbox
    projectfile: /Users/ruki/projects/personal/tbox/xmake.lua
</code></pre>
</div>

<h4 id="show-toolchains-list">Show toolchains list</h4>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>xmake show -l toolchains
xcode         Xcode IDE
vs            VisualStudio IDE
yasm          The Yasm Modular Assembler
clang         A C language family frontend <span class="k">for </span>LLVM
...
</code></pre>
</div>

<h4 id="show-the-specified-target-configuration-information">Show the specified target configuration information</h4>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>xmake show --target<span class="o">=</span>tbox
The information of target<span class="o">(</span>tbox<span class="o">)</span>:
    kind: static
    targetfile: build/macosx/x86_64/release/libtbox.a
    rules: mode.release, mode.debug, mode.profile, mode.coverage
    options: info, float, wchar, exception, force-utf8, deprecated, xml, zip, <span class="nb">hash</span>, regex, coroutine, object, charset, database
    packages: mbedtls, polarssl, openssl, pcre2, pcre, zlib, mysql, sqlite3
    links: pthread
    syslinks: pthread, dl, m, c
    cxflags: -Wno-error<span class="o">=</span>deprecated-declarations, -fno-strict-aliasing, -Wno-error<span class="o">=</span>expansion-to-defined, -fno-stack-protector
    defines: __tb_small__, <span class="nv">__tb_prefix__</span><span class="o">=</span><span class="s2">"tbox"</span>
    mxflags: -Wno-error<span class="o">=</span>deprecated-declarations, -fno-strict-aliasing, -Wno-error<span class="o">=</span>expansion-to-defined
    headerfiles: src/<span class="o">(</span>tbox/<span class="k">**</span>.h<span class="o">)</span>|<span class="k">**</span>/impl/<span class="k">**</span>.h, src/<span class="o">(</span>tbox/prefix/<span class="k">**</span>/prefix.S<span class="o">)</span>, src/<span class="o">(</span>tbox/math/impl/<span class="k">*</span>.h<span class="o">)</span>, src/<span class="o">(</span>tbox/utils/impl/<span class="k">*</span>.h<span class="o">)</span>, build/macosx/x86_64/release/tbox.config.h
    includedirs: src, build/macosx/x86_64/release
    at: /Users/ruki/projects/personal/tbox/src/tbox/xmake.lua
    sourcebatch<span class="o">(</span>cc<span class="o">)</span>: with rule<span class="o">(</span>c.build<span class="o">)</span>
      -&gt; src/tbox/string/static_string.c
         -&gt; build/.objs/tbox/macosx/x86_64/release/src/tbox/string/static_string.c.o
         -&gt; build/.deps/tbox/macosx/x86_64/release/src/tbox/string/static_string.c.o.d
      -&gt; src/tbox/platform/sched.c
         -&gt; build/.objs/tbox/macosx/x86_64/release/src/tbox/platform/sched.c.o
         -&gt; build/.deps/tbox/macosx/x86_64/release/src/tbox/platform/sched.c.o.d
      -&gt; src/tbox/stream/stream.c
         -&gt; build/.objs/tbox/macosx/x86_64/release/src/tbox/stream/stream.c.o
         -&gt; build/.deps/tbox/macosx/x86_64/release/src/tbox/stream/stream.c.o.d
      -&gt; src/tbox/utils/base32.c
         -&gt; build/.objs/tbox/macosx/x86_64/release/src/tbox/utils/base32.c.o
         -&gt; build/.deps/tbox/macosx/x86_64/release/src/tbox/utils/base32.c.o.d
</code></pre>
</div>

<h4 id="show-a-list-of-built-in-compilation-modes">Show a list of built-in compilation modes</h4>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>xmake show -l modes
</code></pre>
</div>

<h4 id="show-the-list-of-built-in-compilation-rules">Show the list of built-in compilation rules</h4>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>xmake show -l rules
</code></pre>
</div>

<h4 id="show-additional-information">Show additional information</h4>

<p>It is still being perfected, see: https://github.com/xmake-io/xmake/issues/798</p>

<p>Or run:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>xmake show --help
</code></pre>
</div>

<h3 id="new-features">New features</h3>

<ul>
  <li><a href="https://github.com/xmake-io/xmake/issues/630">#630</a>: Support *BSD system, e.g. FreeBSD, ..</li>
  <li>Add wprint builtin api to show warnings</li>
  <li><a href="https://github.com/xmake-io/xmake/issues/784">#784</a>: Add <code class="highlighter-rouge">set_policy()</code> to set and modify some builtin policies</li>
  <li><a href="https://github.com/xmake-io/xmake/issues/780">#780</a>: Add set_toolchains/set_toolsets for target and improve to detect cross-compilation toolchains</li>
  <li><a href="https://github.com/xmake-io/xmake/issues/798">#798</a>: Add <code class="highlighter-rouge">xmake show</code> plugin to show some builtin configuration values and infos</li>
  <li><a href="https://github.com/xmake-io/xmake/issues/797">#797</a>: Add ninja theme style, e.g. <code class="highlighter-rouge">xmake g --theme=ninja</code></li>
  <li><a href="https://github.com/xmake-io/xmake/issues/816">#816</a>: Add mode.releasedbg and mode.minsizerel rules</li>
  <li><a href="https://github.com/xmake-io/xmake/issues/819">#819</a>: Support ansi/vt100 terminal control</li>
</ul>

<h3 id="change">Change</h3>

<ul>
  <li><a href="https://github.com/xmake-io/xmake/issues/771">#771</a>: Check includedirs, linkdirs and frameworkdirs</li>
  <li><a href="https://github.com/xmake-io/xmake/issues/774">#774</a>: Support ltui windows resize for <code class="highlighter-rouge">xmake f --menu</code></li>
  <li><a href="https://github.com/xmake-io/xmake/issues/782">#782</a>: Add check flags failed tips for add_cxflags, ..</li>
  <li><a href="https://github.com/xmake-io/xmake/issues/808">#808</a>: Support add_frameworks for cmakelists</li>
  <li><a href="https://github.com/xmake-io/xmake/issues/820">#820</a>: Support independent working/build directory</li>
</ul>

<h3 id="bug-fixed">Bug fixed</h3>

<ul>
  <li><a href="https://github.com/xmake-io/xmake/issues/786">#786</a>: Fix check header file deps</li>
  <li><a href="https://github.com/xmake-io/xmake/issues/810">#810</a>: Fix strip debug bug for linux</li>
</ul>


        </article>
        <hr>

        <!-- baidu ads -->
        

        
        
            
        
            
            
                
            
        
            
        
            
            
                
                    
                    <h2 id="chinese">中文</h2>
                    <ul>
                    
                    <li class="relatedPost">
                        <a href="/cn/2020/06/05/xmake-update-v2.3.4/">xmake v2.3.4 发布, 更加完善的工具链支持
                        
                        </a>
                    </li>
                    
                    
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
        
            
        
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
        
            </ul>
        

        
        
            
            
            
                
                    
                        
                        <h2 id="similar_posts">Similar Posts</h2>
                        <ul>
                        
                        <li class="relatedPost">
                            <a href="/2020/06/28/xmake-update-v2.3.5/">xmake v2.3.5 released, Multi-toolchain flexible switching support
                            
                            </a>
                        </li>
                        
                        
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
            
        
            
        
            
        
            
            
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                        
                        <li class="relatedPost">
                            <a href="/2020/05/06/ltui-v1.7/">LTUI v1.7 released, A cross-platform terminal ui library based on Lua
                            
                            </a>
                        </li>
                        
                        
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
            
        
            
        
            
            
            
                
                    
                        
                        <li class="relatedPost">
                            <a href="/2020/04/27/xmake-update-v2.3.3/">xmake v2.3.3 released, Support for building iOS/MacOS Framework and App
                            
                            </a>
                        </li>
                        
                        
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
            
        
            
        
            
        
            
            
            
                
                    
                        
                        <li class="relatedPost">
                            <a href="/2020/04/17/xmake-gradle-v1.0.7/">xmake-gradle v1.0.7 released, Integrate xmake to quickly build Android JNI program
                            
                            </a>
                        </li>
                        
                        
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
            
        
            
        
        
            </ul>
        

        <div class="post-recent">
    <div class="pre">

        

        

        
        
        

        

        

        
        
        <p><strong>Prev Post</strong> <a href="/2020/05/06/ltui-v1.7/">LTUI v1.7 released, A cross-platform terminal ui library based on Lua</a></p>
        
    </div>

    <div class="nex">

        

        

        
        
        

        

        

        
        
        <p><strong>Next Post</strong> <a href="/2020/06/28/xmake-update-v2.3.5/">xmake v2.3.5 released, Multi-toolchain flexible switching support</a></p>
        
    </div>
</div>


        <h2 id="comments">Comments</h2>
        






<div id="gitalk-container"></div>
<link rel="stylesheet" href="/css/gitalk.css">
<script src="/js/gitalk.min.js"></script>

<script>
const gitalk = new Gitalk({
  clientID: '73946dc1d9e2276ad0da',
  clientSecret: '12a3cb94361ba3ebc6ecb68cf80d592bfaa8106d',
  repo: 'tboox.github.io',
  owner: 'waruqi',
  admin: ['waruqi'],
  id: location.pathname,      
  language: 'en',
  distractionFreeMode: false  
})

gitalk.render('gitalk-container')
</script>





    </div>
    <button class="anchor"><i class="fa fa-anchor"></i></button>
    <div class="right">
        <div class="wrap">


            <!-- codefund ads -->
            

            <!-- Content -->
            <div class="side content">
                <div>
                    Content
                </div>
                <ul id="content-side" class="content-ul">
                    <li><a href="#chinese">中文</a></li>
                    <li><a href="#similar_posts">Similar Posts</a></li>
                    <li><a href="#comments">Comments</a></li>
                </ul>
            </div>

            <!-- baidu ads -->
            

            <br>
            <div class="side">
                <div>
                    <i class="fa fa-external-link"></i>
                    Links
                </div>
                <ul class="content-ul">
                  <li><a href="http://github.com/waruqi/tbox">tbox</a></li>
                  <li><a href="http://www.xmake.io">xmake</a></li>
                  <li><a href="https://github.com/waruqi">github</a></li>
                </ul>
            </div> 

            <!-- google ads -->
            

            <!-- baidu ads -->
            

            <!-- chitika ads -->
            
        </div>
    </div>

    <!-- baidu ads -->
    
</div>
<script>
/**
 * target _blank
 */
(function() {
    var aTags = document.querySelectorAll('article a:not([id])')
    for (var i = 0; i < aTags.length; i++) {
        aTags[i].setAttribute('target', '_blank')
    }
}());
</script>
<script src="/js/pageContent.js " charset="utf-8"></script>



    <footer class="site-footer">
    <div class="wrapper">
        <p class="description">
             Copyright (c) 2016-2020 tboox.org 
        </p>
        <p class="contact">
            
            <a href="https://github.com/waruqi" title="GitHub"><i class="fa fa-github" aria-hidden="true"></i></a> 
             
            
            <a href="mailto:waruqi@gmail.com" title="email"><i class="fa fa-envelope-o" aria-hidden="true"></i></a> 
            
            
            <a href="https://twitter.com/waruqi" title="Twitter"><i class="fa fa-twitter" aria-hidden="true"></i></a> 
            
            <a href="/feed.xml" title="feed"><i class="fa fa-feed" aria-hidden="true"></i></a> 
        </p>
        <p class="power">
            <span>
                Site powered by <a href="https://jekyllrb.com/">Jekyll</a> & <a href="https://github.com/Gaohaoyang">HyG</a> & <a href="https://pages.github.com/">Github Pages</a>.
            </span>
        </p>
    </div>
</footer>

    <div class="back-to-top">
    <a href="#top" class="scroll">
        <i class="fa fa-arrow-up" aria-hidden="true"></i>
    </a>
</div>

    <script src=" /js/main.js " charset="utf-8"></script>
    <script src=" /js/scroll.min.js " charset="utf-8"></script>
  </body>

</html>
