<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="Cache-Control" content="no-siteapp" />

    <title>Access sql database using tbox</title>
    <meta name="description" content="tbox supports sqlite3 and mysql databases now(depends on libsqlite3.a and libmysql.a) and provides the unified api to access database.We only need pass a giv...">

    
    <meta name="keywords" content="tbox,database,sqlite3,mysql,tboox" /> 

    <!-- qq oauth -->
    <meta property="qc:admins" content="5211601217706727767255" />

    <!--icon -->
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" sizes="192x192" href="/static/img/nice-highres.png" />
	<link rel="apple-touch-icon-precomposed" href="/static/img/apple-touch-icon-57x57-precomposed.png" />
	<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/static/img/apple-touch-icon-72x72-precomposed.png" />
	<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/static/img/apple-touch-icon-114x114-precomposed.png" />
	<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/static/img/apple-touch-icon-144x144-precomposed.png" />
	<link rel="apple-touch-icon-precomposed" sizes="180x180" href="/static/img/retinahd_icon.png" />
	<meta name="msapplication-TileImage" content="/static/img/retinahd_icon.png" />
	
    <link rel="stylesheet" href=" /css/fontawesome/css/font-awesome.min.css ">
    <link rel="stylesheet" href=" /css/main.css ">
    <link rel="canonical" href="http://www.tboox.org/2016/09/18/database-usage/">
    <link rel="alternate" type="application/rss+xml" title="TBOOX Open Source Project" href="http://www.tboox.org/feed.xml ">
    <link rel="alternate" hreflang="en" href="http://www.tboox.org/" />
    <link rel="alternate" hreflang="zh-Hans" href="http://www.tboox.org/cn/" />




    <script type="text/javascript">
    function isPC(){    
        var userAgentInfo = navigator.userAgent;  
        var Agents = new Array("Android", "iPhone", "SymbianOS", "Windows Phone", "iPad", "iPod");    
        var flag = true;    
        for (var v = 0; v < Agents.length; v++) {    
            if (userAgentInfo.indexOf(Agents[v]) > 0) { flag = false; break; }    
        }    
        return flag;    
    }
    </script>

<!-- baidu ads -->



    <!-- baidu ads -->

</head>


  <body>

    <header id="top">
    <div class="wrapper">
        <a href="/" class="brand">TBOOX</a>
        <button id="headerMenu" class="menu"><i class="fa fa-bars"></i></button>
        <nav id="headerNav">
            <ul>
                <li>
                    
                    <a href="/cn?lang=0">
                    
                        <i class="fa fa-home"></i>中文
                    </a>
                </li>

                
                    
                     
                    
                
                    
                     
                     
                    <li>

                        
                            
                            <a href="/project/">
                            
                        
                            <i class="fa fa-bookmark"></i>Projects
                        </a>
                    </li>
                    
                    
                    
                
                    
                     
                    
                
                    
                     
                     
                    <li>

                        
                            
                            <a href="/archive/">
                            
                        
                            <i class="fa fa-archive"></i>Archives
                        </a>
                    </li>
                    
                    
                    
                
                    
                     
                    
                
                    
                     
                     
                    <li>

                        
                            
                            <a href="/category/">
                            
                        
                            <i class="fa fa-th-list"></i>Categories
                        </a>
                    </li>
                    
                    
                    
                
                    
                     
                    
                
                    
                     
                     
                    <li>

                        
                            
                            <a href="/tag/">
                            
                        
                            <i class="fa fa-tags"></i>Tags
                        </a>
                    </li>
                    
                    
                    
                
                    
                
                    
                     
                    
                
                    
                     
                     
                    <li>

                        
                            
                            <a href="/docs/">
                            
                        
                            <i class="fa fa-book"></i>Documents
                        </a>
                    </li>
                    
                    
                    
                
                    
                     
                    
                
                    
                     
                     
                    <li>

                        
                            
                            <a href="https://www.reddit.com/r/tboox/" target="_blank" >
                            
                        
                            <i class="fa fa-forumbee"></i>Community
                        </a>
                    </li>
                    
                    
                    
                
                    
                     
                    
                
                    
                     
                     
                    <li>

                        
                            
                            <a href="/donation/">
                            
                        
                            <i class="fa fa-heart"></i>Donate
                        </a>
                    </li>
                    
                    
                    
                
                    
                     
                    
                
                    
                     
                     
                    <li>

                        
                            
                            <a href="/about/">
                            
                        
                            <i class="fa fa-user"></i>About
                        </a>
                    </li>
                    
                    
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                     
                     
                    
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            </ul>
        </nav>
    </div>
</header>



        <div class="page clearfix" post>
    <div class="left">
        <h1>Access sql database using tbox</h1>
        <div class="label">

            <div class="label-card">
                <i class="fa fa-calendar"></i>2016-09-18
            </div>

            <div class="label-card">
                
            </div>

            <div class="label-card">
                
            </div>

            <div class="label-card">
            


<!-- <span class="point">•</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#tbox" title="Category: tbox" rel="category">tbox</a>
    
  

  <!-- <span class="point">•</span> -->
</span>


            </div>

            <div class="label-card">
            
<!-- <span class="point">•</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <!--a href="/tag/#tbox" title="Tag: tbox" rel="tag">tbox</a-->
        <a href="/tag/#tbox" title="Tag: tbox" rel="tag">tbox</a>&nbsp;
    
        <!--a href="/tag/#database" title="Tag: database" rel="tag">database</a-->
        <a href="/tag/#database" title="Tag: database" rel="tag">database</a>&nbsp;
    
        <!--a href="/tag/#sqlite3" title="Tag: sqlite3" rel="tag">sqlite3</a-->
        <a href="/tag/#sqlite3" title="Tag: sqlite3" rel="tag">sqlite3</a>&nbsp;
    
        <!--a href="/tag/#mysql" title="Tag: mysql" rel="tag">mysql</a-->
        <a href="/tag/#mysql" title="Tag: mysql" rel="tag">mysql</a>
    
  

</span>

            </div>

        </div>
        <hr>
        <article itemscope itemtype="http://schema.org/BlogPosting">
        <p>tbox supports sqlite3 and mysql databases now(depends on libsqlite3.a and libmysql.a) and provides the unified api to access database.</p>

<p>We only need pass a given url for connecting and accessing it.</p>

<p>A simple example:</p>

<div class="language-c highlighter-rouge"><pre class="highlight"><code>    <span class="cm">/* init a mysql database
     *
     * mysql database url:
     *
     * - "sql://localhost:3306/?type=mysql&amp;username=xxxx&amp;password=xxxx&amp;database=xxxx"
     *
     * sqlite3 database url:
     *
     * - "sql:///home/file.sqlitedb?type=sqlite3"
     * - "/home/file.sqlite3"
     * - "file:///home/file.sqlitedb"
     * - "C://home/file.sqlite3"
     */</span>
    <span class="n">tb_database_sql_ref_t</span> <span class="n">database</span> <span class="o">=</span> <span class="n">tb_database_sql_init</span><span class="p">(</span><span class="s">"sql://localhost/?type=mysql&amp;username=xxxx&amp;password=xxxx&amp;database=test"</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">database</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// open database
</span>        <span class="k">if</span> <span class="p">(</span><span class="n">tb_database_sql_open</span><span class="p">(</span><span class="n">database</span><span class="p">))</span>
        <span class="p">{</span>
            <span class="c1">// execute sql statement
</span>            <span class="k">if</span> <span class="p">(</span><span class="n">tb_database_sql_done</span><span class="p">(</span><span class="n">database</span><span class="p">,</span> <span class="s">"select * from test"</span><span class="p">))</span>
            <span class="p">{</span>
                <span class="c1">// load all results only for the select statement
</span>                <span class="n">tb_iterator_ref_t</span> <span class="n">result</span> <span class="o">=</span> <span class="n">tb_database_sql_result_load</span><span class="p">(</span><span class="n">database</span><span class="p">,</span> <span class="n">tb_true</span><span class="p">);</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">result</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="c1">// trace
</span>                    <span class="n">tb_trace_i</span><span class="p">(</span><span class="s">"row: size: %lu"</span><span class="p">,</span> <span class="n">tb_iterator_size</span><span class="p">(</span><span class="n">result</span><span class="p">));</span>
                    
                    <span class="c1">// walk all rows
</span>                    <span class="n">tb_for_all_if</span> <span class="p">(</span><span class="n">tb_iterator_ref_t</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">result</span><span class="p">,</span> <span class="n">row</span><span class="p">)</span>
                    <span class="p">{</span>
                        <span class="c1">// trace
</span>                        <span class="n">tb_trace_i</span><span class="p">(</span><span class="s">"[row: %lu, col: size: %lu]: "</span><span class="p">,</span> <span class="n">row_itor</span><span class="p">,</span> <span class="n">tb_iterator_size</span><span class="p">(</span><span class="n">row</span><span class="p">));</span>
                        
                        <span class="c1">// walk all values
</span>                        <span class="n">tb_for_all_if</span> <span class="p">(</span><span class="n">tb_database_sql_value_t</span><span class="o">*</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
                        <span class="p">{</span>
                            <span class="c1">// trace
</span>                            <span class="n">tb_tracet_i</span><span class="p">(</span><span class="s">"[%s:%s] "</span><span class="p">,</span> <span class="n">tb_database_sql_value_name</span><span class="p">(</span><span class="n">value</span><span class="p">),</span> <span class="n">tb_database_sql_value_text</span><span class="p">(</span><span class="n">value</span><span class="p">));</span>
                        <span class="p">}</span>
                    <span class="p">}</span>
                    <span class="n">tb_database_sql_result_exit</span><span class="p">(</span><span class="n">database</span><span class="p">,</span> <span class="n">result</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="p">}</span>
            <span class="k">else</span> <span class="n">tb_trace_e</span><span class="p">(</span><span class="s">"done %s failed, error: %s"</span><span class="p">,</span> <span class="n">sql</span><span class="p">,</span> <span class="n">tb_state_cstr</span><span class="p">(</span><span class="n">tb_database_sql_state</span><span class="p">(</span><span class="n">database</span><span class="p">)));</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="n">tb_trace_e</span><span class="p">(</span><span class="s">"open failed: %s"</span><span class="p">,</span> <span class="n">tb_state_cstr</span><span class="p">(</span><span class="n">tb_database_sql_state</span><span class="p">(</span><span class="n">database</span><span class="p">)));</span>
        
        <span class="c1">// exit database
</span>        <span class="n">tb_database_sql_exit</span><span class="p">(</span><span class="n">database</span><span class="p">);</span>
    <span class="p">}</span>
</code></pre>
</div>

<p>We also access binary data using the statement.</p>

<div class="language-c highlighter-rouge"><pre class="highlight"><code>    <span class="n">tb_database_sql_statement_ref_t</span>     <span class="n">stmt</span> <span class="o">=</span> <span class="n">tb_null</span><span class="p">;</span>
    <span class="n">tb_stream_ref_t</span>                     <span class="n">stream</span> <span class="o">=</span> <span class="n">tb_null</span><span class="p">;</span>
    <span class="k">do</span>
    <span class="p">{</span>
        <span class="c1">// init a insert statement
</span>        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="n">stmt</span> <span class="o">=</span> <span class="n">tb_database_sql_statement_init</span><span class="p">(</span><span class="n">database</span><span class="p">,</span> <span class="s">"insert into table2 values(?, ?, ?, ?, ?, ?, ?)"</span><span class="p">)))</span>
        <span class="p">{</span>
            <span class="c1">// trace
</span>            <span class="n">tb_trace_e</span><span class="p">(</span><span class="s">"stmt: init %s failed, error: %s"</span><span class="p">,</span> <span class="n">sql</span><span class="p">,</span> <span class="n">tb_state_cstr</span><span class="p">(</span><span class="n">tb_database_sql_state</span><span class="p">(</span><span class="n">database</span><span class="p">)));</span>
            <span class="k">break</span> <span class="p">;</span>
        <span class="p">}</span>
        
        <span class="c1">// init a large image stream
</span>        <span class="n">stream</span> <span class="o">=</span> <span class="n">tb_stream_init_from_url</span><span class="p">(</span><span class="s">"/tmp/large_image.png"</span><span class="p">);</span>
        <span class="n">tb_assert_and_check_break</span><span class="p">(</span><span class="n">stream</span><span class="p">);</span>
        
        <span class="c1">// open stream
</span>        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">tb_stream_open</span><span class="p">(</span><span class="n">stream</span><span class="p">))</span> <span class="k">break</span><span class="p">;</span>
        
        <span class="c1">// init argument list
</span>        <span class="n">tb_database_sql_value_t</span> <span class="n">list</span><span class="p">[</span><span class="mi">7</span><span class="p">];</span>
        <span class="n">tb_database_sql_value_set_text</span><span class="p">(</span><span class="o">&amp;</span><span class="n">list</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s">"hello"</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
        <span class="n">tb_database_sql_value_set_blob16</span><span class="p">(</span><span class="o">&amp;</span><span class="n">list</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">data</span><span class="p">,</span> <span class="n">size</span><span class="p">);</span>
        <span class="n">tb_database_sql_value_set_blob8</span><span class="p">(</span><span class="o">&amp;</span><span class="n">list</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">data</span><span class="p">,</span> <span class="n">size</span><span class="p">);</span>
        <span class="n">tb_database_sql_value_set_blob32</span><span class="p">(</span><span class="o">&amp;</span><span class="n">list</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">data</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">tb_null</span><span class="p">);</span>
        <span class="n">tb_database_sql_value_set_blob32</span><span class="p">(</span><span class="o">&amp;</span><span class="n">list</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">tb_null</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">stream</span><span class="p">);</span>
        <span class="n">tb_database_sql_value_set_int32</span><span class="p">(</span><span class="o">&amp;</span><span class="n">list</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">number</span><span class="p">);</span>
        <span class="n">tb_database_sql_value_set_int16</span><span class="p">(</span><span class="o">&amp;</span><span class="n">list</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span> <span class="n">snumber</span><span class="p">);</span>
        
        <span class="c1">// bind argument list
</span>        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">tb_database_sql_statement_bind</span><span class="p">(</span><span class="n">database</span><span class="p">,</span> <span class="n">stmt</span><span class="p">,</span> <span class="n">list</span><span class="p">,</span> <span class="n">tb_arrayn</span><span class="p">(</span><span class="n">list</span><span class="p">)))</span>
        <span class="p">{</span>
            <span class="c1">// trace
</span>            <span class="n">tb_trace_e</span><span class="p">(</span><span class="s">"stmt: bind %s failed, error: %s"</span><span class="p">,</span> <span class="n">sql</span><span class="p">,</span> <span class="n">tb_state_cstr</span><span class="p">(</span><span class="n">tb_database_sql_state</span><span class="p">(</span><span class="n">database</span><span class="p">)));</span>
            <span class="k">break</span> <span class="p">;</span>
        <span class="p">}</span>
        
        <span class="c1">// execute this statement
</span>        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">tb_database_sql_statement_done</span><span class="p">(</span><span class="n">database</span><span class="p">,</span> <span class="n">stmt</span><span class="p">))</span>
        <span class="p">{</span>
            <span class="c1">// trace
</span>            <span class="n">tb_trace_e</span><span class="p">(</span><span class="s">"stmt: done %s failed, error: %s"</span><span class="p">,</span> <span class="n">sql</span><span class="p">,</span> <span class="n">tb_state_cstr</span><span class="p">(</span><span class="n">tb_database_sql_state</span><span class="p">(</span><span class="n">database</span><span class="p">)));</span>
            <span class="k">break</span> <span class="p">;</span>
        <span class="p">}</span>
        
    <span class="p">}</span> <span class="k">while</span> <span class="p">(</span><span class="mi">0</span><span class="p">);</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">stmt</span><span class="p">)</span> <span class="n">tb_database_sql_statement_exit</span><span class="p">(</span><span class="n">database</span><span class="p">,</span> <span class="n">stmt</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">stream</span><span class="p">)</span> <span class="n">tb_stream_exit</span><span class="p">(</span><span class="n">stream</span><span class="p">);</span>
</code></pre>
</div>

<p>And we read results:</p>

<div class="language-c highlighter-rouge"><pre class="highlight"><code>    <span class="n">tb_iterator_ref_t</span> <span class="n">result</span> <span class="o">=</span> <span class="n">tb_database_sql_result_load</span><span class="p">(</span><span class="n">database</span><span class="p">,</span> <span class="n">tb_false</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">result</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">tb_for_all_if</span> <span class="p">(</span><span class="n">tb_iterator_ref_t</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">result</span><span class="p">,</span> <span class="n">row</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">tb_database_sql_value_t</span> <span class="k">const</span><span class="o">*</span> <span class="n">name</span> <span class="o">=</span> <span class="n">tb_iterator_item</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
            <span class="n">tb_assert_and_check_break</span><span class="p">(</span><span class="n">name</span><span class="p">);</span>
            <span class="n">tb_tracet_i</span><span class="p">(</span><span class="s">"[%s:%s] "</span><span class="p">,</span> <span class="n">tb_database_sql_value_name</span><span class="p">(</span><span class="n">name</span><span class="p">),</span> <span class="n">tb_database_sql_value_text</span><span class="p">(</span><span class="n">name</span><span class="p">));</span>
            
            <span class="n">tb_database_sql_value_t</span> <span class="k">const</span><span class="o">*</span> <span class="n">data</span> <span class="o">=</span> <span class="n">tb_iterator_item</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
            <span class="n">tb_assert_and_check_break</span><span class="p">(</span><span class="n">data</span><span class="p">);</span>
            <span class="n">tb_tracet_i</span><span class="p">(</span><span class="s">"[%s:%s] "</span><span class="p">,</span> <span class="n">tb_database_sql_value_name</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">tb_database_sql_value_blob</span><span class="p">(</span><span class="n">data</span><span class="p">));</span>
            
            <span class="n">tb_database_sql_value_t</span> <span class="k">const</span><span class="o">*</span> <span class="n">ldata</span> <span class="o">=</span> <span class="n">tb_iterator_item</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="mi">4</span><span class="p">);</span>
            <span class="n">tb_assert_and_check_break</span><span class="p">(</span><span class="n">ldata</span><span class="p">);</span>
            <span class="p">{</span>
                <span class="c1">// attempt to read small data first fastly
</span>                <span class="n">tb_stream_ref_t</span> <span class="n">stream</span> <span class="o">=</span> <span class="n">tb_null</span><span class="p">;</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">tb_database_sql_value_blob</span><span class="p">(</span><span class="n">ldata</span><span class="p">))</span>
                <span class="p">{</span>
                    <span class="n">tb_byte_t</span> <span class="k">const</span><span class="o">*</span>    <span class="n">data</span> <span class="o">=</span> <span class="n">tb_database_sql_value_blob</span><span class="p">(</span><span class="n">ldata</span><span class="p">);</span>
                    <span class="n">tb_size</span>             <span class="n">size</span> <span class="o">=</span> <span class="n">tb_database_sql_value_size</span><span class="p">(</span><span class="n">ldata</span><span class="p">);</span>
                    <span class="c1">// ...
</span>
                <span class="p">}</span>
                <span class="c1">// read large data stream
</span>                <span class="k">else</span> <span class="k">if</span> <span class="p">((</span><span class="n">stream</span> <span class="o">=</span> <span class="n">tb_database_sql_value_blob_stream</span><span class="p">(</span><span class="n">ldata</span><span class="p">)))</span>
                <span class="p">{</span>
                    <span class="c1">// read data from this stream
</span>                    <span class="c1">// ...
</span>                <span class="p">}</span>
            <span class="p">}</span>
            
            <span class="n">tb_database_sql_value_t</span> <span class="k">const</span><span class="o">*</span> <span class="n">number</span> <span class="o">=</span> <span class="n">tb_iterator_item</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="mi">5</span><span class="p">);</span>
            <span class="n">tb_assert_and_check_break</span><span class="p">(</span><span class="n">number</span><span class="p">);</span>
            <span class="n">tb_tracet_i</span><span class="p">(</span><span class="s">"[%s:%d] "</span><span class="p">,</span> <span class="n">tb_database_sql_value_name</span><span class="p">(</span><span class="n">number</span><span class="p">),</span> <span class="n">tb_database_sql_value_int32</span><span class="p">(</span><span class="n">number</span><span class="p">));</span>
            
        <span class="p">}</span>
        
        <span class="n">tb_database_sql_result_exit</span><span class="p">(</span><span class="n">database</span><span class="p">,</span> <span class="n">result</span><span class="p">);</span>
    <span class="p">}</span>
</code></pre>
</div>

        </article>
        <hr>

        <!-- baidu ads -->
        

        
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
                    
                    <h2 id="chinese">中文</h2>
                    <ul>
                    
                    <li class="relatedPost">
                        <a href="/cn/2016/09/18/database-usage/">tbox中数据库的使用
                        
                        </a>
                    </li>
                    
                    
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
        
            
        
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
        
            </ul>
        

        
        
            
            
            
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
            
            
        
            
        
            
            
            
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
            
            
        
            
        
            
            
            
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
            
            
        
            
        
            
            
            
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
            
            
        
            
        
            
        
            
            
            
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
            
            
        
        

        <div class="post-recent">
    <div class="pre">

        

        

        
        
        

        

        

        
        
        

        

        

        
        
        <p><strong>Prev Post</strong> <a href="/2016/08/29/update-v2.0.4/">xmake v2.0.4 released!</a></p>
        
    </div>

    <div class="nex">

        

        

        
        
        

        

        

        
        
        

        

        

        
        
        

        

        

        
        
        

        

        

        
        
        <p><strong>Next Post</strong> <a href="/2016/10/28/benchbox-coroutine/">The benchmark reports of coroutine</a></p>
        
    </div>
</div>


        <h2 id="comments">Comments</h2>
        






<div id="gitalk-container"></div>
<link rel="stylesheet" href="/css/gitalk.css">
<script src="/js/gitalk.min.js"></script>

<script>
const gitalk = new Gitalk({
  clientID: '73946dc1d9e2276ad0da',
  clientSecret: '12a3cb94361ba3ebc6ecb68cf80d592bfaa8106d',
  repo: 'tboox.github.io',
  owner: 'waruqi',
  admin: ['waruqi'],
  id: location.pathname,      
  language: 'en',
  distractionFreeMode: false  
})

gitalk.render('gitalk-container')
</script>





    </div>
    <button class="anchor"><i class="fa fa-anchor"></i></button>
    <div class="right">
        <div class="wrap">


            <!-- codefund ads -->
            

            <!-- Content -->
            <div class="side content">
                <div>
                    Content
                </div>
                <ul id="content-side" class="content-ul">
                    <li><a href="#chinese">中文</a></li>
                    <li><a href="#similar_posts">Similar Posts</a></li>
                    <li><a href="#comments">Comments</a></li>
                </ul>
            </div>

            <!-- baidu ads -->
            

            <br>
            <div class="side">
                <div>
                    <i class="fa fa-external-link"></i>
                    Links
                </div>
                <ul class="content-ul">
                  <li><a href="http://github.com/waruqi/tbox">tbox</a></li>
                  <li><a href="http://www.xmake.io">xmake</a></li>
                  <li><a href="https://github.com/waruqi">github</a></li>
                </ul>
            </div> 

            <!-- google ads -->
            

            <!-- baidu ads -->
            

            <!-- chitika ads -->
            
        </div>
    </div>

    <!-- baidu ads -->
    
</div>
<script>
/**
 * target _blank
 */
(function() {
    var aTags = document.querySelectorAll('article a:not([id])')
    for (var i = 0; i < aTags.length; i++) {
        aTags[i].setAttribute('target', '_blank')
    }
}());
</script>
<script src="/js/pageContent.js " charset="utf-8"></script>



    <footer class="site-footer">
    <div class="wrapper">
        <p class="description">
             Copyright (c) 2016-2020 tboox.org 
        </p>
        <p class="contact">
            
            <a href="https://github.com/waruqi" title="GitHub"><i class="fa fa-github" aria-hidden="true"></i></a> 
             
            
            <a href="mailto:waruqi@gmail.com" title="email"><i class="fa fa-envelope-o" aria-hidden="true"></i></a> 
            
            
            <a href="https://twitter.com/waruqi" title="Twitter"><i class="fa fa-twitter" aria-hidden="true"></i></a> 
            
            <a href="/feed.xml" title="feed"><i class="fa fa-feed" aria-hidden="true"></i></a> 
        </p>
        <p class="power">
            <span>
                Site powered by <a href="https://jekyllrb.com/">Jekyll</a> & <a href="https://github.com/Gaohaoyang">HyG</a> & <a href="https://pages.github.com/">Github Pages</a>.
            </span>
        </p>
    </div>
</footer>

    <div class="back-to-top">
    <a href="#top" class="scroll">
        <i class="fa fa-arrow-up" aria-hidden="true"></i>
    </a>
</div>

    <script src=" /js/main.js " charset="utf-8"></script>
    <script src=" /js/scroll.min.js " charset="utf-8"></script>
  </body>

</html>
