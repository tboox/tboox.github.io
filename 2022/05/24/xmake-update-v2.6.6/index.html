<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="Cache-Control" content="no-siteapp" />

    <title>Xmake v2.6.6 Released, Support Distributed Compilation and Build Cache</title>
    <meta name="description" content="Xmake is a lightweight cross-platform build utility based on Lua.It is very lightweight and has no dependencies because it has a built-in Lua runtime.It uses...">

    
    <meta name="keywords" content="xmake,lua,C/C++,remote,ccache,distributed-compilation,tboox" /> 

    <!-- qq oauth -->
    <meta property="qc:admins" content="5211601217706727767255" />

    <!--icon -->
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" sizes="192x192" href="/static/img/nice-highres.png" />
	<link rel="apple-touch-icon-precomposed" href="/static/img/apple-touch-icon-57x57-precomposed.png" />
	<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/static/img/apple-touch-icon-72x72-precomposed.png" />
	<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/static/img/apple-touch-icon-114x114-precomposed.png" />
	<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/static/img/apple-touch-icon-144x144-precomposed.png" />
	<link rel="apple-touch-icon-precomposed" sizes="180x180" href="/static/img/retinahd_icon.png" />
	<meta name="msapplication-TileImage" content="/static/img/retinahd_icon.png" />
	
    <link rel="stylesheet" href=" /css/fontawesome/css/font-awesome.min.css ">
    <link rel="stylesheet" href=" /css/main.css ">
    <link rel="canonical" href="https://tboox.org/2022/05/24/xmake-update-v2.6.6/">
    <link rel="alternate" type="application/rss+xml" title="TBOOX Open Source Project" href="https://tboox.org/feed.xml ">
    <link rel="alternate" hreflang="en" href="https://tboox.org/" />
    <link rel="alternate" hreflang="zh-Hans" href="https://tboox.org/cn/" />




    <script type="text/javascript">
    function isPC(){    
        var userAgentInfo = navigator.userAgent;  
        var Agents = new Array("Android", "iPhone", "SymbianOS", "Windows Phone", "iPad", "iPod");    
        var flag = true;    
        for (var v = 0; v < Agents.length; v++) {    
            if (userAgentInfo.indexOf(Agents[v]) > 0) { flag = false; break; }    
        }    
        return flag;    
    }
    </script>

<!-- baidu ads -->



    <!-- baidu ads -->

</head>


  <body>

    <header id="top">
    <div class="wrapper">
        <a href="/" class="brand">TBOOX</a>
        <button id="headerMenu" class="menu"><i class="fa fa-bars"></i></button>
        <nav id="headerNav">
            <ul>
                <li>
                    
                    <a href="/cn?lang=0">
                    
                        <i class="fa fa-home"></i>中文
                    </a>
                </li>

                
                    
                     
                    
                
                    
                     
                     
                    <li>

                        
                            
                            <a href="/project/">
                            
                        
                            <i class="fa fa-bookmark"></i>Projects
                        </a>
                    </li>
                    
                    
                    
                
                    
                     
                    
                
                    
                     
                     
                    <li>

                        
                            
                            <a href="/archive/">
                            
                        
                            <i class="fa fa-archive"></i>Archives
                        </a>
                    </li>
                    
                    
                    
                
                    
                     
                    
                
                    
                     
                     
                    <li>

                        
                            
                            <a href="/category/">
                            
                        
                            <i class="fa fa-th-list"></i>Categories
                        </a>
                    </li>
                    
                    
                    
                
                    
                     
                    
                
                    
                     
                     
                    <li>

                        
                            
                            <a href="/tag/">
                            
                        
                            <i class="fa fa-tags"></i>Tags
                        </a>
                    </li>
                    
                    
                    
                
                    
                
                    
                     
                    
                
                    
                     
                     
                    <li>

                        
                            
                            <a href="/docs/">
                            
                        
                            <i class="fa fa-book"></i>Documents
                        </a>
                    </li>
                    
                    
                    
                
                    
                     
                    
                
                    
                     
                     
                    <li>

                        
                            
                            <a href="https://xmake.io/#/about/contact" target="_blank" >
                            
                        
                            <i class="fa fa-forumbee"></i>Community
                        </a>
                    </li>
                    
                    
                    
                
                    
                     
                    
                
                    
                     
                     
                    <li>

                        
                            
                            <a href="/donation/">
                            
                        
                            <i class="fa fa-heart"></i>Donate
                        </a>
                    </li>
                    
                    
                    
                
                    
                     
                    
                
                    
                     
                     
                    <li>

                        
                            
                            <a href="/about/">
                            
                        
                            <i class="fa fa-user"></i>About
                        </a>
                    </li>
                    
                    
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                     
                     
                    
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            </ul>
        </nav>
    </div>
</header>



        <div class="page clearfix" post>
    <div class="left">
        <h1>Xmake v2.6.6 Released, Support Distributed Compilation and Build Cache</h1>
        <div class="label">

            <div class="label-card">
                <i class="fa fa-calendar"></i>2022-05-24
            </div>

            <div class="label-card">
                
            </div>

            <div class="label-card">
                
            </div>

            <div class="label-card">
            


<!-- <span class="point">•</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#xmake" title="Category: xmake" rel="category">xmake</a>
    
  

  <!-- <span class="point">•</span> -->
</span>


            </div>

            <div class="label-card">
            
<!-- <span class="point">•</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <!--a href="/tag/#xmake" title="Tag: xmake" rel="tag">xmake</a-->
        <a href="/tag/#xmake" title="Tag: xmake" rel="tag">xmake</a>&nbsp;
    
        <!--a href="/tag/#lua" title="Tag: lua" rel="tag">lua</a-->
        <a href="/tag/#lua" title="Tag: lua" rel="tag">lua</a>&nbsp;
    
        <!--a href="/tag/#C%2FC%2B%2B" title="Tag: C/C++" rel="tag">C/C++</a-->
        <a href="/tag/#C/C++" title="Tag: C/C++" rel="tag">C/C++</a>&nbsp;
    
        <!--a href="/tag/#remote" title="Tag: remote" rel="tag">remote</a-->
        <a href="/tag/#remote" title="Tag: remote" rel="tag">remote</a>&nbsp;
    
        <!--a href="/tag/#ccache" title="Tag: ccache" rel="tag">ccache</a-->
        <a href="/tag/#ccache" title="Tag: ccache" rel="tag">ccache</a>&nbsp;
    
        <!--a href="/tag/#distributed-compilation" title="Tag: distributed-compilation" rel="tag">distributed-compilation</a-->
        <a href="/tag/#distributed-compilation" title="Tag: distributed-compilation" rel="tag">distributed-compilation</a>
    
  

</span>

            </div>

        </div>
        <hr>
        <article itemscope itemtype="http://schema.org/BlogPosting">
        <p><a href="https://github.com/xmake-io/xmake">Xmake</a> is a lightweight cross-platform build utility based on Lua.</p>

<p>It is very lightweight and has no dependencies because it has a built-in Lua runtime.</p>

<p>It uses xmake.lua to maintain project builds and its configuration syntax is very simple and readable.</p>

<p>We can use it to build project directly like Make/Ninja, or generate project files like CMake/Meson, and it also has a built-in package management system to help users solve the integrated use of C/C++ dependent libraries.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Xmake = Build backend + Project Generator + Package Manager + [Remote|Distributed] Build + Cache
</code></pre>
</div>

<p>Although not very precise, we can still understand Xmake in the following way:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Xmake ~= Make/Ninja + CMake/Meson + Vcpkg/Conan + distcc + ccache/sccache
</code></pre>
</div>

<ul>
  <li><a href="https://github.com/xmake-io/xmake">Github</a></li>
  <li><a href="https://xmake.io/">Document</a></li>
</ul>

<h2 id="introduction-of-new-features">Introduction of new features</h2>

<p>In this version, we have added a lot of heavyweight new features:</p>

<ul>
  <li>Distributed compilation</li>
  <li>Local compilation cache</li>
  <li>Remote compilation cache</li>
</ul>

<p>With these features, we can compile large C/C++ projects faster.</p>

<p>In addition, they are completely cross-platform, support not only gcc/clang but also msvc,
and there is no any third-party dependency except the compiler, which is very convenient to use.</p>

<p>Therefore, using Xmake is equivalent to using <code class="highlighter-rouge">distcc/ccache/sccache</code> at the same time.</p>

<p>Compared with these third-party tools, Xmake fully supports Windows and msvc,
which eliminates platform differences, independent process calls, and the overhead of additional daemon processes.</p>

<p>In addition to these features, the new version of Xmake also adds support for compiling Keil/C51 projects,
as well as support for the nvc/nvc++/nvfortran compilers in the nvidia-hpc-sdk toolchain.</p>

<h3 id="support-user-authentication-for-remote-compilation">Support user authentication for remote compilation</h3>

<p>In the last version, we initially supported remote compilation, but did not provide user authentication support,
which would bring some security issues. Therefore, in this version, we added user authentication support.</p>

<p>At present, Xmake mainly provides the following authentication mechanisms. In addition, it is also effective for distributed compilation and remote caching.</p>

<ol>
  <li>Token authentication</li>
  <li>Password authentication</li>
  <li>Trusted host verification</li>
</ol>

<h4 id="token-authentication">Token authentication</h4>

<p>This is also the default recommended method, which is more secure, more convenient to configure and connect,
and does not need to enter a password every time you connect.</p>

<p>When we execute the <code class="highlighter-rouge">xmake service</code> command, a server and client configuration file will be generated by default,
and a default token will be automatically generated, so the local direct connection does not require any configuration.</p>

<h5 id="server-authentication-configuration">Server authentication configuration</h5>

<p>The server can configure multiple tokens for authorizing connections to different user hosts.</p>

<p>Of course, we can also share single token.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>cat ~/.xmake/service/server.conf
<span class="o">{</span>
    known_hosts <span class="o">=</span> <span class="o">{</span> <span class="o">}</span>,
    logfile <span class="o">=</span> <span class="s2">"/Users/ruki/.xmake/service/server/logs.txt"</span>,
    remote_build <span class="o">=</span> <span class="o">{</span>
        listen <span class="o">=</span> <span class="s2">"0.0.0.0:9691"</span>,
        workdir <span class="o">=</span> <span class="s2">"/Users/ruki/.xmake/service/server/remote_build"</span>
    <span class="o">}</span>,
    tokens <span class="o">=</span> <span class="o">{</span>
        <span class="s2">"e438d816c95958667747c318f1532c0f"</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h5 id="client-authentication-configuration">Client authentication configuration</h5>

<p>The client only needs to add the token on the server to the corresponding client configuration.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>cat ~/.xmake/service/client.conf
<span class="o">{</span>
    remote_build <span class="o">=</span> <span class="o">{</span>
        connect <span class="o">=</span> <span class="s2">"127.0.0.1:9691"</span>,
        token <span class="o">=</span> <span class="s2">"e438d816c95958667747c318f1532c0f"</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h5 id="manually-generate-new-token">Manually generate new token</h5>

<p>We can also execute the following command to manually generate a new token and add it to the server configuration ourselves.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>xmake service --gen-token
New token a7b9fc2d3bfca1472aabc38bb5f5d612 is generated!
</code></pre>
</div>

<h4 id="password-authentication">Password authentication</h4>

<p>We also provide password authentication. Compared with token authentication,
it requires users to enter a password every time they connect, and can only be connected after the verification is passed.</p>

<h5 id="server-authentication-configuration-1">Server authentication configuration</h5>

<p>For password authentication, we do not need to manually configure the token, just execute the following command to add a user.
During the adding process, the user will be prompted to enter a password.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>xmake service --add-user<span class="o">=</span>ruki
Please input user ruki password:
123456
Add user ruki ok!
</code></pre>
</div>

<p>Then, xmake will generate a new token from the username and password and add it to the token list of the server configuration.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>cat ~/.xmake/service/server.conf
<span class="o">{</span>
    known_hosts <span class="o">=</span> <span class="o">{</span> <span class="o">}</span>,
    logfile <span class="o">=</span> <span class="s2">"/Users/ruki/.xmake/service/server/logs.txt"</span>,
    remote_build <span class="o">=</span> <span class="o">{</span>
        listen <span class="o">=</span> <span class="s2">"0.0.0.0:9691"</span>,
        workdir <span class="o">=</span> <span class="s2">"/Users/ruki/.xmake/service/server/remote_build"</span>
    <span class="o">}</span>,
    tokens <span class="o">=</span> <span class="o">{</span>
        <span class="s2">"e438d816c95958667747c318f1532c0f"</span>,
        <span class="s2">"7889e25402413e93fd37395a636bf942"</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<p>Of course, we can also delete the specified user and password.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="nv">$xmake</span> service --rm-user<span class="o">=</span>ruki
Please input user ruki password:
123456
Remove user ruki ok!
</code></pre>
</div>

<h5 id="client-authentication-configuration-1">Client authentication configuration</h5>

<p>For the client, we no longer need to set the token of the server.
We only need to add the user name that needs to be connected in the connection configuration to enable password authentication.</p>

<p>The format is: <code class="highlighter-rouge">user@address:port</code></p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>cat ~/.xmake/service/client.conf
<span class="o">{</span>
    remote_build <span class="o">=</span> <span class="o">{</span>
        connect <span class="o">=</span> <span class="s2">"root@127.0.0.1:9691"</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<p>If the username is removed and the token is not configured, it is anonymous mode.
If the server is not configured with a token, the authentication is completely disabled and the connection is made directly.</p>

<h4 id="trusted-host-verification">Trusted host verification</h4>

<p>In addition, in order to further improve security, we also provide server-side trusted host verification.</p>

<p>If the server-configured known_hosts list is configured with the ip address of the client host that can be connected.</p>

<p>Then only these hosts can successfully connect to this server, and other hosts’ connections to it will be prompted to be untrusted and refuse the connection,
even if token and password authentication are OK.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>cat ~/.xmake/service/server.conf
<span class="o">{</span>
    logfile <span class="o">=</span> <span class="s2">"/Users/ruki/.xmake/service/logs.txt"</span>,
    server <span class="o">=</span> <span class="o">{</span>
        tokens <span class="o">=</span> <span class="o">{</span>
            <span class="s2">"4b928c7563a0cba10ff4c3f5ca0c8e24"</span>
        <span class="o">}</span>,
        known_hosts <span class="o">=</span> <span class="o">{</span> <span class="s2">"127.0.0.1"</span>, <span class="s2">"xx.xx.xx.xx"</span><span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h4 id="connect-to-remote-server">Connect to remote server</h4>

<p>Next, we only need to enter the root directory of the project that needs to be compiled remotely,
and execute the <code class="highlighter-rouge">xmake service --connect</code> command to connect.</p>

<p>If it is the token authentication mode, then no additional password input is required, and the connection is directly connected.</p>

<div class="language-console highlighter-rouge"><pre class="highlight"><code><span class="w">$ </span><span class="nc">xmake</span><span class="kv"> create test
</span><span class="w">$ </span><span class="nc">cd</span><span class="kv"> test
</span><span class="w">$ </span><span class="nc">xmake</span><span class="kv"> service --connect
</span>&lt;remote_build_client&gt;: connect 192.168.56.110:9091 ..
&lt;remote_build_client&gt;: connected!
&lt;remote_build_client&gt;: sync files in 192.168.56.110:9091 ..
Scanning files ..
Comparing 3 files ..
    [+]: src/main.cpp
    [+]: .gitignore
    [+]: xmake.lua
3 files has been changed!
Archiving files ..
Uploading files with 1372 bytes ..
&lt;remote_build_client&gt;: sync files ok!
</code></pre>
</div>

<p>If it is password authentication, the user will be prompted to enter the password to continue the connection.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>xmake service --connect
Please input user root password:
000000
&lt;remote_build_client&gt;: connect 127.0.0.1:9691 ..
&lt;remote_build_client&gt;: connected!
&lt;remote_build_client&gt;: sync files <span class="k">in </span>127.0.0.1:9691 ..
Scanning files ..
Comparing 3 files ..
    <span class="o">[</span>+]: xmake.lua
    <span class="o">[</span>+]: .gitignore
    <span class="o">[</span>+]: src/main.cpp
3 files has been changed!
Archiving files ..
Uploading files with 1591 bytes ..
&lt;remote_build_client&gt;: sync files ok!
</code></pre>
</div>

<p>If the password is incorrect, an error message will be displayed.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>xmake service --connect
Please input user root password:
123
&lt;remote_build_client&gt;: connect 127.0.0.1:9691 ..
&lt;remote_build_client&gt;: connect 127.0.0.1:9691 failed, user and password are incorrect!
</code></pre>
</div>

<h3 id="distributed-compilation-support">Distributed compilation support</h3>

<p>Xmake provides a built-in distributed compilation service,
usually it can cooperate with local compilation cache and remote compilation cache to achieve optimal compilation acceleration.</p>

<p>Also, it is fully cross-platform supported, we not only support gcc/clang, but also Windows and msvc well.</p>

<p>For cross-compilation, as long as the cross-toolchain supports, we do not require the system environment of the server.
Even if the server resources of linux, macOS and Windows are mixed, distributed compilation can be well realized.</p>

<h4 id="start-service">Start service</h4>

<p>We can specify the <code class="highlighter-rouge">--distcc</code> parameter to enable the distributed compilation service.
Of course, if this parameter is not specified, xmake will enable all server-configured services by default.</p>

<div class="language-console highlighter-rouge"><pre class="highlight"><code><span class="w">$ </span><span class="nc">xmake</span><span class="kv"> service --distcc
</span>&lt;distcc_build_server&gt;: listening 0.0.0.0:9093 ..
</code></pre>
</div>

<p>We can also start the service and echo detailed log information.</p>

<div class="language-console highlighter-rouge"><pre class="highlight"><code><span class="w">$ </span><span class="nc">xmake</span><span class="kv"> service --distcc -vD
</span>&lt;distcc_build_server&gt;: listening 0.0.0.0:9093 ..
</code></pre>
</div>

<h4 id="start-the-service-in-daemon-mode">Start the service in daemon mode</h4>

<div class="language-console highlighter-rouge"><pre class="highlight"><code><span class="w">$ </span><span class="nc">xmake</span><span class="kv"> service --distcc --start
</span><span class="w">$ </span><span class="nc">xmake</span><span class="kv"> service --distcc --restart
</span><span class="w">$ </span><span class="nc">xmake</span><span class="kv"> service --distcc --stop
</span></code></pre>
</div>

<h4 id="configure-the-server">Configure the server</h4>

<p>We first, run the <code class="highlighter-rouge">xmake service</code> command, it will automatically generate a default <code class="highlighter-rouge">server.conf</code> configuration file,
stored in <code class="highlighter-rouge">~/.xmake/service/server.conf</code>.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>xmake service
generating the config file to /Users/ruki/.xmake/service/server.conf ..
an token<span class="o">(</span>590234653af52e91b9e438ed860f1a2b<span class="o">)</span> is generated, we can use this token to connect service.
generating the config file to /Users/ruki/.xmake/service/client.conf ..
&lt;distcc_build_server&gt;: listening 0.0.0.0:9693 ..
</code></pre>
</div>

<p>Then, we edit it, fixing the server’s listening port (optional).</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>cat ~/.xmake/service/server.conf
<span class="o">{</span>
    distcc_build <span class="o">=</span> <span class="o">{</span>
        listen <span class="o">=</span> <span class="s2">"0.0.0.0:9693"</span>,
        workdir <span class="o">=</span> <span class="s2">"/Users/ruki/.xmake/service/server/distcc_build"</span>
    <span class="o">}</span>,
    known_hosts <span class="o">=</span> <span class="o">{</span> <span class="o">}</span>,
    logfile <span class="o">=</span> <span class="s2">"/Users/ruki/.xmake/service/server/logs.txt"</span>,
    tokens <span class="o">=</span> <span class="o">{</span>
        <span class="s2">"590234653af52e91b9e438ed860f1a2b"</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h4 id="configure-the-client">Configure the client</h4>

<p>The client configuration file is in <code class="highlighter-rouge">~/.xmake/service/client.conf</code>, where we can configure the server address that the client needs to connect to.</p>

<p>We can configure multiple server addresses and corresponding tokens in the hosts list.</p>

<p>For distributed compilation, it is recommended to use the token authentication mode,
because the password mode requires a password to be entered for each server connection, which is very cumbersome.</p>

<div class="language-console highlighter-rouge"><pre class="highlight"><code>$cat ~/.xmake/service/client.conf
{
    distcc_build = {
        hosts = {
            {
                connect = "127.0.0.1:9693",
                token = "590234653af52e91b9e438ed860f1a2b"
            }
        }
    }
}
</code></pre>
</div>

<h4 id="connect-to-the-server">Connect to the server</h4>

<p>After configuring the authentication and server address, you can enter the following command to connect the current project to the configured server.</p>

<p>We need to enter <code class="highlighter-rouge">--distcc</code> when connecting to specify that only distributed services are connected.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span><span class="nb">cd </span>projectdir
<span class="gp">$ </span>xmake service --connect --distcc
&lt;client&gt;: connect 127.0.0.1:9693 ..
&lt;client&gt;: 127.0.0.1:9693 connected!
</code></pre>
</div>

<p>We can also connect to multiple services at the same time, such as distributed compilation and remote compilation cache services.</p>

<pre><code class="language-hash">$ xmake service --connect --distcc --ccache
</code></pre>

<p>!&gt; If there is no parameter, the default connection is the remote compilation service.</p>

<h4 id="distributed-compilation-project">Distributed compilation project</h4>

<p>After connecting to the server, we can perform distributed compilation like normal local compilation, for example:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>xmake
...
<span class="o">[</span> 93%]: ccache compiling.release src/demo/network/unix_echo_client.c ----&gt; <span class="nb">local </span>job
<span class="o">[</span> 93%]: ccache compiling.release src/demo/network/ipv6.c
<span class="o">[</span> 93%]: ccache compiling.release src/demo/network/ping.c
<span class="o">[</span> 93%]: distcc compiling.release src/demo/network/unix_echo_server.c. ----&gt; distcc job
<span class="o">[</span>93%]: distcc compiling.release src/demo/network/http.c
<span class="o">[</span> 93%]: distcc compiling.release src/demo/network/unixaddr.c
<span class="o">[</span> 93%]: distcc compiling.release src/demo/network/ipv4.c
<span class="o">[</span> 94%]: distcc compiling.release src/demo/network/ipaddr.c
<span class="o">[</span>94%]: distcc compiling.release src/demo/math/fixed.c
<span class="o">[</span>94%]: distcc compiling.release src/demo/libm/float.c
<span class="o">[</span> 95%]: ccache compiling.release src/demo/libm/double.c
<span class="o">[</span> 95%]: ccache compiling.release src/demo/other/test.cpp
<span class="o">[</span> 98%]: archiving.release libtbox.a
<span class="o">[</span>99%]: linking.release demo
<span class="o">[</span>100%]: build ok!
</code></pre>
</div>

<p>Among them, the words with distcc are remote compilation tasks, and the others are local compilation tasks.
By default, xmake also enables local compilation caching to cache distributed compilation results to avoid frequent requests to the server.</p>

<p>In addition, we can also open the remote compilation cache and share the compilation cache with others to further accelerate the compilation of multi-person collaborative development.</p>

<h4 id="disconnect-server">Disconnect server</h4>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>xmake service --disconnect --distcc
</code></pre>
</div>

<h4 id="specify-the-number-of-parallel-compilation-tasks">Specify the number of parallel compilation tasks</h4>

<p>Let’s briefly introduce the number of parallel tasks currently calculated by default based on the number of host cpu cores:</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="kd">local</span> <span class="n">default_njob</span> <span class="o">=</span> <span class="nb">math.ceil</span><span class="p">(</span><span class="n">ncpu</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
</code></pre>
</div>

<p>Therefore, if distributed compilation is not enabled, the default maximum number of parallel compilation tasks is this <code class="highlighter-rouge">default_njob</code>.</p>

<p>If distributed compilation is enabled, the default number of parallel compilation tasks is:</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="kd">local</span> <span class="n">maxjobs</span> <span class="o">=</span> <span class="n">default_njob</span> <span class="o">+</span> <span class="n">server_count</span> <span class="o">*</span> <span class="n">server_default_njob</span>
</code></pre>
</div>

<h5 id="modify-the-number-of-local-parallel-tasks">Modify the number of local parallel tasks</h5>

<p>We only need to pass <code class="highlighter-rouge">-jN</code> to specify the number of local parallel tasks, but it will not affect the number of parallel tasks on the server side.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>xmake -jN
</code></pre>
</div>

<h5 id="modify-the-number-of-parallel-tasks-on-the-server-side">Modify the number of parallel tasks on the server side</h5>

<p>If you want to modify the number of parallel tasks on the server, you need to modify the configuration file of the client.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="nv">$cat</span> ~/.xmake/service/client.conf
<span class="o">{</span>
    distcc_build <span class="o">=</span> <span class="o">{</span>
        hosts <span class="o">=</span> <span class="o">{</span>
            <span class="o">{</span>
                connect <span class="o">=</span> <span class="s2">"127.0.0.1:9693"</span>,
                token <span class="o">=</span> <span class="s2">"590234653af52e91b9e438ed860f1a2b"</span>,
                njob <span class="o">=</span> 8 &lt;------- modify here
            <span class="o">}</span>,
            <span class="o">{</span>
                connect <span class="o">=</span> <span class="s2">"192.168.01:9693"</span>,
                token <span class="o">=</span> <span class="s2">"590234653af52e91b9e438ed860f1a2b"</span>,
                njob <span class="o">=</span> 4
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<p>For each server host, add the <code class="highlighter-rouge">njob = N</code> parameter configuration to specify the number of parallel jobs that this server can provide.</p>

<h4 id="distributed-compilation-of-android-projects">Distributed compilation of Android projects</h4>

<p>The distributed compilation service provided by xmake is completely cross-platform
and supports Windows, Linux, macOS, Android, iOS and even cross-compilation.</p>

<p>If you want to compile the Android project, you only need to add the <code class="highlighter-rouge">toolchains</code> toolchain configuration in the server configuration,
and provide the path of the NDK.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>cat ~/.xmake/service/server.conf
<span class="o">{</span>
    distcc_build <span class="o">=</span> <span class="o">{</span>
        listen <span class="o">=</span> <span class="s2">"0.0.0.0:9693"</span>,
        toolchains <span class="o">=</span> <span class="o">{</span>
            ndk <span class="o">=</span> <span class="o">{</span>
                ndk <span class="o">=</span> <span class="s2">"~/files/android-ndk-r21e"</span> &lt;------------ here
            <span class="o">}</span>
        <span class="o">}</span>,
        workdir <span class="o">=</span> <span class="s2">"/Users/ruki/.xmake/service/server/distcc_build"</span>
    <span class="o">}</span>,
    known_hosts <span class="o">=</span> <span class="o">{</span> <span class="o">}</span>,
    logfile <span class="o">=</span> <span class="s2">"/Users/ruki/.xmake/service/server/logs.txt"</span>,
    tokens <span class="o">=</span> <span class="o">{</span>
        <span class="s2">"590234653af52e91b9e438ed860f1a2b"</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<p>Then, we can compile the Android project in a distributed way like normal local compilation,
and even configure multiple Windows, macOS, Linux and other different server hosts as resources of the distributed compilation service to compile it.</p>

<p>Just download the NDK for the corresponding platform.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>xmake f -p android --ndk<span class="o">=</span>~/files/xxxx
<span class="gp">$ </span>xmake
</code></pre>
</div>

<h4 id="distributed-compilation-of-ios-projects">Distributed compilation of iOS projects</h4>

<p>Compiling iOS projects is easier, because Xmake can usually automatically detect Xcode, so just switch the platform to ios like a normal local.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>xmake f -p iphoneos
<span class="gp">$ </span>xmake
</code></pre>
</div>

<h4 id="distributed-cross-compilation-configuration">Distributed cross compilation configuration</h4>

<p>If we want to distribute cross-compilation, we need to configure the toolchain sdk path on the server, for example:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>cat ~/.xmake/service/server.conf
<span class="o">{</span>
    distcc_build <span class="o">=</span> <span class="o">{</span>
        listen <span class="o">=</span> <span class="s2">"0.0.0.0:9693"</span>,
        toolchains <span class="o">=</span> <span class="o">{</span>
            cross <span class="o">=</span> <span class="o">{</span>
                sdkdir <span class="o">=</span> <span class="s2">"~/files/arm-linux-xxx"</span> &lt;------------ here
            <span class="o">}</span>
        <span class="o">}</span>,
        workdir <span class="o">=</span> <span class="s2">"/Users/ruki/.xmake/service/server/distcc_build"</span>
    <span class="o">}</span>,
    known_hosts <span class="o">=</span> <span class="o">{</span> <span class="o">}</span>,
    logfile <span class="o">=</span> <span class="s2">"/Users/ruki/.xmake/service/server/logs.txt"</span>,
    tokens <span class="o">=</span> <span class="o">{</span>
        <span class="s2">"590234653af52e91b9e438ed860f1a2b"</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<p>Among them, under toolchains, each item corresponds to a toolchain,
here is configured as <code class="highlighter-rouge">cross = {}</code> cross toolchain, corresponding to <code class="highlighter-rouge">toolchain("cross")</code>.</p>

<p>In the toolchain, we can configure <code class="highlighter-rouge">sdkdir</code>, <code class="highlighter-rouge">bindir</code>, <code class="highlighter-rouge">cross</code>, etc.,
corresponding to the interface configuration of <code class="highlighter-rouge">set_sdkdir</code>, <code class="highlighter-rouge">set_bindir</code> and <code class="highlighter-rouge">set_cross</code> in <code class="highlighter-rouge">toolchain("cross")</code>.</p>

<p>If cross toolchain comparisonSpecification, we usually only need to configure <code class="highlighter-rouge">sdkdir</code>, xmake can automatically detect it.</p>

<p>And client-side compilation only needs to specify the sdk directory.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>xmake f -p cross --sdk<span class="o">=</span>/xxx/arm-linux-xxx
<span class="gp">$ </span>xmake
</code></pre>
</div>

<h4 id="clean-server-cache">Clean server cache</h4>

<p>The compilation of each project on the server side will generate some cache files,
which are stored separately according to the project granularity.</p>

<p>We can use the following command to clear the cache corresponding to each server for the current project.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>xmake service --clean --distcc
</code></pre>
</div>

<h4 id="some-optimizations">Some optimizations</h4>

<ol>
  <li>Cache server-side compilation results to avoid repeated compilation</li>
  <li>Local cache, remote cache optimization, avoid unnecessary server communication</li>
  <li>Server load balancing scheduling, rational allocation of server resources</li>
  <li>Small files are compiled directly locally after preprocessing, which is usually faster</li>
  <li>Real-time compression and transmission of large files, based on lz4 fast compression</li>
  <li>Internal state maintenance, compared to independent tools such as distcc, avoids frequent independent process loading and time-consuming, and avoids additional communication with the daemon process</li>
</ol>

<h3 id="local-compilation-cache-support">Local compilation cache support</h3>

<p>By default, Xmake will enable the local cache. The version before 2.6.5 uses the external ccache by default,
and after 2.6.6, Xmake provides a built-in cross-platform local cache solution.</p>

<p>Compared with third-party independent processes such as ccache, xmake’s internal state maintenance is easier to optimize,
and it also avoids frequent independent process loading and time-consuming, and avoids additional communication with the daemon process.</p>

<p>In addition, the built-in cache can better support cross-platform, and msvc on Windows can also support well, while ccache only supports gcc/clang.</p>

<p>Of course, we can also disable the cache with the following command.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>xmake f --ccache<span class="o">=</span>n
</code></pre>
</div>

<p>Note: Regardless of whether the built-in local cache is used, the configuration name is <code class="highlighter-rouge">--ccache=</code>,
which means the c/c++ build cache, not just the name of the ccache tool.</p>

<p>If we want to continue to use other external caching tools, we can also configure it in the following way.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>xmake f --ccache<span class="o">=</span>n --cxx<span class="o">=</span><span class="s2">"ccache gcc"</span> --cc<span class="o">=</span><span class="s2">"ccache gcc"</span>
<span class="gp">$ </span>xmake
</code></pre>
</div>

<h3 id="remote-compilation-cache-support">Remote compilation cache support</h3>

<p>In addition to local caching, we also provide remote caching services, similar to mozilla’s sscache,
which is usually not used if it is only for personal development.</p>

<p>However, if a large-scale project is developed collaboratively by multiple people within the company,
distributed compilation and local caching alone are not enough. We also need to cache the compiled object files to a separate server for sharing.</p>

<p>In this way, even if other people compile it for the first time,
they do not need to compile it distributedly every time, and directly pull the cache from the remote to speed up the compilation.</p>

<p>In addition, the remote cache service provided by Xmake is also supported by all platforms, not only gcc/clang but also msvc.</p>

<h4 id="start-service-1">Start service</h4>

<p>We can specify the <code class="highlighter-rouge">--ccache</code> parameter to enable the remote compilation cache service.</p>

<p>Of course, if this parameter is not specified, xmake will enable all server-configured services by default.</p>

<div class="language-console highlighter-rouge"><pre class="highlight"><code><span class="w">$ </span><span class="nc">xmake</span><span class="kv"> service --ccache
</span>&lt;remote_cache_server&gt;: listening 0.0.0.0:9092 ..
</code></pre>
</div>

<p>We can also start the service and echo detailed log information.</p>

<div class="language-console highlighter-rouge"><pre class="highlight"><code><span class="w">$ </span><span class="nc">xmake</span><span class="kv"> service --ccache -vD
</span>&lt;remote_cache_server&gt;: listening 0.0.0.0:9092 ..
</code></pre>
</div>

<h4 id="start-the-service-in-daemon-mode-1">Start the service in daemon mode</h4>

<div class="language-console highlighter-rouge"><pre class="highlight"><code><span class="w">$ </span><span class="nc">xmake</span><span class="kv"> service --ccache --start
</span><span class="w">$ </span><span class="nc">xmake</span><span class="kv"> service --ccache --restart
</span><span class="w">$ </span><span class="nc">xmake</span><span class="kv"> service --ccache --stop
</span></code></pre>
</div>

<h4 id="configure-the-server-1">Configure the server</h4>

<p>We first, run the <code class="highlighter-rouge">xmake service</code> command, it will automatically generate a default <code class="highlighter-rouge">server.conf</code> configuration file,
stored in <code class="highlighter-rouge">~/.xmake/service/server.conf</code>.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>xmake service
generating the config file to /Users/ruki/.xmake/service/server.conf ..
an token<span class="o">(</span>590234653af52e91b9e438ed860f1a2b<span class="o">)</span> is generated, we can use this token to connect service.
generating the config file to /Users/ruki/.xmake/service/client.conf ..
&lt;remote_cache_server&gt;: listening 0.0.0.0:9692 ..
</code></pre>
</div>

<p>Then, we edit it, fixing the server’s listening port (optional).</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>cat ~/.xmake/service/server.conf
<span class="o">{</span>
    distcc_build <span class="o">=</span> <span class="o">{</span>
        listen <span class="o">=</span> <span class="s2">"0.0.0.0:9692"</span>,
        workdir <span class="o">=</span> <span class="s2">"/Users/ruki/.xmake/service/server/remote_cache"</span>
    <span class="o">}</span>,
    known_hosts <span class="o">=</span> <span class="o">{</span> <span class="o">}</span>,
    logfile <span class="o">=</span> <span class="s2">"/Users/ruki/.xmake/service/server/logs.txt"</span>,
    tokens <span class="o">=</span> <span class="o">{</span>
        <span class="s2">"590234653af52e91b9e438ed860f1a2b"</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h4 id="configure-the-client-1">Configure the client</h4>

<p>The client configuration file is in <code class="highlighter-rouge">~/.xmake/service/client.conf</code>, where we can configure the server address that the client needs to connect to.</p>

<p>We can configure multiple server addresses and corresponding tokens in the hosts list.</p>

<div class="language-console highlighter-rouge"><pre class="highlight"><code>$cat ~/.xmake/service/client.conf
{
    remote_cache = {
            connect = "127.0.0.1:9692,
            token = "590234653af52e91b9e438ed860f1a2b"
        }
    }
}
</code></pre>
</div>

<h4 id="connect-to-the-server-1">Connect to the server</h4>

<p>After configuring the authentication and server address, you can enter the following command to connect the current project to the configured server.</p>

<p>We need to enter <code class="highlighter-rouge">--ccache</code> when connecting to specify that only the remote compilation cache service is connected.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span><span class="nb">cd </span>projectdir
<span class="gp">$ </span>xmake service --connect --ccache
&lt;client&gt;: connect 127.0.0.1:9692 ..
&lt;client&gt;: 127.0.0.1:9692 connected!
</code></pre>
</div>

<p>We can also connect to multiple services at the same time, such as distributed compilation and remote compilation cache services.</p>

<pre><code class="language-hash">$ xmake service --connect --distcc --ccache
</code></pre>

<p>!&gt; If there is no parameter, the default connection is the remote compilation service.</p>

<h4 id="disconnect-server-1">Disconnect server</h4>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>xmake service --disconnect --ccache
</code></pre>
</div>

<h4 id="clean-server-cache-1">Clean server cache</h4>

<p>We can also use the following command to clear the cache on the remote server corresponding to the current project.</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>xmake service --clean --ccache
</code></pre>
</div>

<p>And if we execute <code class="highlighter-rouge">xmake clean --all</code>, when the remote service is connected, all caches will be automatically cleaned up.</p>

<h4 id="some-optimizations-1">Some optimizations</h4>

<ol>
  <li>Pull the snapshot of the remote cache and send it back to the local through bloom filter + lz4,
 which is used to quickly determine whether the cache exists and avoid frequently querying the server cache information</li>
  <li>With the local cache, you can avoid frequent requests to the remote server and pull the cache.</li>
  <li>Internal state maintenance, compared with independent tools such as sscache,
 avoids frequent independent process loading and time-consuming, and avoids additional communication with the daemon process</li>
</ol>

<h3 id="keilc51-project-support">Keil/C51 project support</h3>

<p>We only need to bind to the c51 toolchain, Xmake can automatically detect the Keil/C51 SDK toolchain environment installed on the system,
and then use it to compile.</p>

<div class="language-lua highlighter-rouge"><pre class="highlight"><code><span class="n">target</span><span class="p">(</span><span class="s2">"hello"</span><span class="p">)</span>
    <span class="n">add_rules</span><span class="p">(</span><span class="s2">"c51.binary"</span><span class="p">)</span>
    <span class="n">set_toolchains</span><span class="p">(</span><span class="s2">"c51"</span><span class="p">)</span>
    <span class="n">add_files</span><span class="p">(</span><span class="s2">"src/main.c"</span><span class="p">)</span>
</code></pre>
</div>

<p>Of course, if you don’t set the toolchain through <code class="highlighter-rouge">set_toolchains("c51")</code>,
we can also manually switch to the c51 toolchain through <code class="highlighter-rouge">xmake f --toolchain=c51</code>.</p>

<h2 id="changelog">Changelog</h2>

<h3 id="new-features">New features</h3>

<ul>
  <li><a href="https://github.com/xmake-io/xmake/issues/2327">#2327</a>: Support nvc/nvc++/nvfortran in nvidia-hpc-sdk</li>
  <li>Add path instance interfaces</li>
  <li><a href="https://github.com/xmake-io/xmake/pull/2334">#2334</a>: Add lz4 compress module</li>
  <li><a href="https://github.com/xmake-io/xmake/pull/2349">#2349</a>: Add keil/c51 project support</li>
  <li><a href="https://github.com/xmake-io/xmake/issues/274">#274</a>: Distributed compilation support</li>
  <li>Use builtin local cache instead of ccache</li>
</ul>

<h3 id="changes">Changes</h3>

<ul>
  <li><a href="https://github.com/xmake-io/xmake/issues/2309">#2309</a>: Support user authorization for remote compilation</li>
  <li>Improve remote compilation to support lz4 compression</li>
</ul>

<h3 id="bugs-fixed">Bugs fixed</h3>

<ul>
  <li>Fix lua stack when select package versions</li>
</ul>

        </article>
        <hr>

        <!-- baidu ads -->
        

        
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
                    
                    <h2 id="chinese">中文</h2>
                    <ul>
                    
                    <li class="relatedPost">
                        <a href="/cn/2022/05/24/xmake-update-v2.6.6/">Xmake v2.6.6 发布，分布式编译和缓存支持
                        
                        </a>
                    </li>
                    
                    
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
        
            
        
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
            
        
            
            
                
            
        
        
            </ul>
        

        
        
            
            
            
                
                    
                        
                        <h2 id="similar_posts">Similar Posts</h2>
                        <ul>
                        
                        <li class="relatedPost">
                            <a href="/2023/04/04/xmake-update-v2.7.8/">Xmake v2.7.8 released, Improve package virtual environment and build speed
                            
                            </a>
                        </li>
                        
                        
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
            
        
            
        
            
            
            
            
        
            
        
            
            
            
            
        
            
        
            
            
            
                
                    
                        
                        <li class="relatedPost">
                            <a href="/2022/11/08/xmake-update-v2.7.3/">Xmake v2.7.3 Released, Package Components and C++ Modules Incremental Build Support
                            
                            </a>
                        </li>
                        
                        
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
            
        
            
        
            
            
            
                
                    
                        
                        <li class="relatedPost">
                            <a href="/2022/10/09/xmake-update-v2.7.2/">Xmake v2.7.2 released, build third-party libraries more intelligently
                            
                            </a>
                        </li>
                        
                        
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            
            
        
            
        
        
            </ul>
        

        <div class="post-recent">
    <div class="pre">

        

        

        
        
        

        

        

        
        
        

        

        

        
        
        <p><strong>Prev Post</strong> <a href="/2022/04/24/xmake-update-v2.6.5/">Xmake v2.6.5 released, Support remote compilation</a></p>
        
    </div>

    <div class="nex">

        

        

        
        
        

        

        

        
        
        <p><strong>Next Post</strong> <a href="/2022/08/25/xmake-update-v2.7.1/">Xmake v2.7.1 Released, Better C++ Modules Support</a></p>
        
    </div>
</div>


        <h2 id="comments">Comments</h2>
        









    </div>
    <button class="anchor"><i class="fa fa-anchor"></i></button>
    <div class="right">
        <div class="wrap">

            <!-- Content -->
            <div class="side content">
                <div>
                    Content
                </div>
                <ul id="content-side" class="content-ul">
                    <li><a href="#chinese">中文</a></li>
                    <li><a href="#similar_posts">Similar Posts</a></li>
                    <li><a href="#comments">Comments</a></li>
                </ul>
            </div>

            <!-- wwads -->
            
            <div class="side">
            <div class="wwads-cn wwads-vertical" data-id="243" style="max-width:200px"></div>
            <script type="text/javascript" charset="UTF-8" src="https://cdn.wwads.cn/js/makemoney.js" async></script>
            </div>
            

            <!-- baidu ads -->
            

            <br>
            <div class="side">
                <div>
                    <i class="fa fa-external-link"></i>
                    Links
                </div>
                <ul class="content-ul">
                  <li><a href="http://github.com/waruqi/tbox">tbox</a></li>
                  <li><a href="http://www.xmake.io">xmake</a></li>
                  <li><a href="https://github.com/waruqi">github</a></li>
                </ul>
            </div>

            <!-- google ads -->
            

            <!-- baidu ads -->
            

            <!-- chitika ads -->
            
        </div>
    </div>

    <!-- baidu ads -->
    
</div>
<script>
/**
 * target _blank
 */
(function() {
    var aTags = document.querySelectorAll('article a:not([id])')
    for (var i = 0; i < aTags.length; i++) {
        aTags[i].setAttribute('target', '_blank')
    }
}());
</script>
<script src="/js/pageContent.js " charset="utf-8"></script>



    <footer class="site-footer">
    <div class="wrapper">
        <p class="description">
             Copyright (c) 2016-latest tboox.org 
        </p>
        <p class="contact">
            
            <a href="https://github.com/waruqi" title="GitHub"><i class="fa fa-github" aria-hidden="true"></i></a> 
             
            
            <a href="mailto:waruqi@gmail.com" title="email"><i class="fa fa-envelope-o" aria-hidden="true"></i></a> 
            
            
            <a href="https://twitter.com/waruqi" title="Twitter"><i class="fa fa-twitter" aria-hidden="true"></i></a> 
            
            <a href="/feed.xml" title="feed"><i class="fa fa-feed" aria-hidden="true"></i></a> 
        </p>
        <p class="power">
            <span>
                Site powered by <a href="https://jekyllrb.com/">Jekyll</a> & <a href="https://github.com/Gaohaoyang">HyG</a> & <a href="https://pages.github.com/">Github Pages</a>.
            </span>
        </p>
    </div>
</footer>

    <div class="back-to-top">
    <a href="#top" class="scroll">
        <i class="fa fa-arrow-up" aria-hidden="true"></i>
    </a>
</div>

    <script src=" /js/main.js " charset="utf-8"></script>
    <script src=" /js/scroll.min.js " charset="utf-8"></script>
  </body>

</html>
