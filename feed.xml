<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>TBOOX Open Source Project</title>
    <description>Focus on cross-platform development using c language</description>
    <link>https://tboox.org/</link>
    <atom:link href="https://tboox.org/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Mon, 19 Oct 2020 09:40:36 +0800</pubDate>
    <lastBuildDate>Mon, 19 Oct 2020 09:40:36 +0800</lastBuildDate>
    <generator>Jekyll v3.1.0</generator>
    
      <item>
        <title>LTUI v2.2 released, A cross-platform terminal ui library based on Lua</title>
        <description>&lt;p&gt;LTUI is a lua-based cross-platform character terminal UI interface library.&lt;/p&gt;

&lt;p&gt;This framework is derived from the requirement of graphical menu configuration in &lt;a href=&quot;https://github.com/xmake-io/xmake&quot;&gt;xmake&lt;/a&gt;, similar to the menuconf of linux kernel to configure compilation parameters, so based on curses and lua, a complete set of cross- The character terminal ui library of the platform.
And the style style basically refers to kconfig-frontends, of course, users can also customize different ui styles.&lt;/p&gt;

&lt;p&gt;In addition, LTUI is completely cross-platform, and the terminal terminal on windows is also fully supported. On windows, ltui will use pdcurses to draw windows.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/tboox/ltui&quot;&gt;Github&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;changelog&quot;&gt;Changelog&lt;/h3&gt;

&lt;p&gt;In the new version, we mainly added support for mouse events. In addition to curses/ncurses, we also support pdcurses on windows. Here we are very grateful for the contribution of &lt;a href=&quot;https://github.com/laelnasan&quot;&gt;@laelnasan&lt;/a&gt; .&lt;/p&gt;

&lt;p&gt;In addition, we have added a test case of &lt;code class=&quot;highlighter-rouge&quot;&gt;tests/events.lua&lt;/code&gt; to test various input events.&lt;/p&gt;

&lt;div class=&quot;language-console highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;w&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;xmake&lt;/span&gt;&lt;span class=&quot;kv&quot;&gt; run test events
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;We can get and display all mouse input events of the user through this test example.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://tboox.org/static/img/ltui/mouses.png&quot; width=&quot;70%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;We can override Ê»on_event` on a custom view to get all event input, including all mouse input events:&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;local&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;demo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;application&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;demo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;application&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;demo&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;background_set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;black&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;demo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;on_event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;btn_code&quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;
        &lt;span class=&quot;nb&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;btn_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;application&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;on_event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;demo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;installation-and-usage&quot;&gt;Installation and usage&lt;/h3&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;`console
$ luarocks install ltui
&lt;/code&gt; `&lt;/p&gt;

&lt;p&gt;If you want to run the built-in test, you need to install &lt;a href=&quot;https://www.lua.org/&quot;&gt;lua&lt;/a&gt; or &lt;a href=&quot;http://luajit.org/&quot;&gt;luajit&lt;/a&gt; program to load and run the ltui source repository test program:&lt;/p&gt;

&lt;div class=&quot;language-console highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;w&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;lua&lt;/span&gt;&lt;span class=&quot;kv&quot;&gt; tests/dialog.lua
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;lua&lt;/span&gt;&lt;span class=&quot;kv&quot;&gt; tests/window.lua
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;lua&lt;/span&gt;&lt;span class=&quot;kv&quot;&gt; tests/desktop.lua
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;lua&lt;/span&gt;&lt;span class=&quot;kv&quot;&gt; tests/inputdialog.lua
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;lua&lt;/span&gt;&lt;span class=&quot;kv&quot;&gt; tests/mconfdialog.lua
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Or&lt;/p&gt;

&lt;div class=&quot;language-console highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;w&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;luajit&lt;/span&gt;&lt;span class=&quot;kv&quot;&gt; tests/dialog.lua
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;luajit&lt;/span&gt;&lt;span class=&quot;kv&quot;&gt; tests/window.lua
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;luajit&lt;/span&gt;&lt;span class=&quot;kv&quot;&gt; tests/desktop.lua
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;luajit&lt;/span&gt;&lt;span class=&quot;kv&quot;&gt; tests/inputdialog.lua
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;luajit&lt;/span&gt;&lt;span class=&quot;kv&quot;&gt; tests/mconfdialog.lua
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;source-compilation&quot;&gt;Source compilation&lt;/h3&gt;

&lt;p&gt;Usually as long as luarocks is installed, it can be used. If you want to debug locally, you can also run the test directly after the source code is compiled. First, we need to install the cross-platform build tool: &lt;a href=&quot;https://github.com/xmake-io/xmake&quot;&gt;xmake&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;language-console highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;w&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;xmake&lt;/span&gt;&lt;span class=&quot;kv&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;xmake will automatically download lua, ncurses and other related dependencies, then we can directly load related test programs through &lt;code class=&quot;highlighter-rouge&quot;&gt;xmake run&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-console highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;w&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;xmake&lt;/span&gt;&lt;span class=&quot;kv&quot;&gt; run test dialog
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;xmake&lt;/span&gt;&lt;span class=&quot;kv&quot;&gt; run test window
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;xmake&lt;/span&gt;&lt;span class=&quot;kv&quot;&gt; run test desktop
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;xmake&lt;/span&gt;&lt;span class=&quot;kv&quot;&gt; run test inputdialog
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;xmake&lt;/span&gt;&lt;span class=&quot;kv&quot;&gt; run test mconfdialog
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;application&quot;&gt;Application&lt;/h3&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;local&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ltui&lt;/span&gt;        &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ltui&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;local&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;application&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ltui&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;application&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;local&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;event&lt;/span&gt;       &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ltui&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;event&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;local&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rect&lt;/span&gt;        &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ltui&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rect&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;local&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;window&lt;/span&gt;      &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ltui&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;window&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;local&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;demo&lt;/span&gt;        &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;application&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;demo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;application&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;demo&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;background_set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;blue&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;insert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;window&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;window.main&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rect&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;main window&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;demo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;label&quot;&gt;Label&lt;/h3&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;local&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lab&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;title&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rect&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;hello ltui!&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;textattr_set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;white&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;button&quot;&gt;Button&lt;/h3&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;local&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;btn&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;button&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;yes&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rect&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&amp;lt; Yes &amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;textattr_set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;white&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;input&quot;&gt;Input&lt;/h3&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;demo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;-- ...&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;local&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dialog_input&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;inputdialog&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;dialog.input&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rect&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;dialog_input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;text_set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;please input text:&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;dialog_input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;button_add&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;no&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&amp;lt; No &amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dialog_input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;quit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;dialog_input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;button_add&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;yes&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&amp;lt; Yes &amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dialog_input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;quit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;insert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dialog_input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;centerx&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;centery&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;widgets&quot;&gt;Widgets&lt;/h3&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Views&lt;/th&gt;
      &lt;th&gt;Dialogs&lt;/th&gt;
      &lt;th&gt;Other&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;view&lt;/td&gt;
      &lt;td&gt;dialog&lt;/td&gt;
      &lt;td&gt;event&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;panel&lt;/td&gt;
      &lt;td&gt;boxdialog&lt;/td&gt;
      &lt;td&gt;action&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;label&lt;/td&gt;
      &lt;td&gt;textdialog&lt;/td&gt;
      &lt;td&gt;canvas&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;button&lt;/td&gt;
      &lt;td&gt;inputdialog&lt;/td&gt;
      &lt;td&gt;curses&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;border&lt;/td&gt;
      &lt;td&gt;mconfdialog&lt;/td&gt;
      &lt;td&gt;program&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;window&lt;/td&gt;
      &lt;td&gt;choicedialog&lt;/td&gt;
      &lt;td&gt;application&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;menubar&lt;/td&gt;
      &lt;td&gt;Â &lt;/td&gt;
      &lt;td&gt;point&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;menuconf&lt;/td&gt;
      &lt;td&gt;Â &lt;/td&gt;
      &lt;td&gt;rect&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;textedit&lt;/td&gt;
      &lt;td&gt;Â &lt;/td&gt;
      &lt;td&gt;object&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;textarea&lt;/td&gt;
      &lt;td&gt;Â &lt;/td&gt;
      &lt;td&gt;Â &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;statusbar&lt;/td&gt;
      &lt;td&gt;Â &lt;/td&gt;
      &lt;td&gt;Â &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;choicebox&lt;/td&gt;
      &lt;td&gt;Â &lt;/td&gt;
      &lt;td&gt;Â &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;desktop&lt;/td&gt;
      &lt;td&gt;Â &lt;/td&gt;
      &lt;td&gt;Â &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&quot;menu-configuration&quot;&gt;Menu configuration&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;https://tboox.org/static/img/ltui/menuconf.png&quot; width=&quot;70%&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;input-1&quot;&gt;Input&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;https://tboox.org/static/img/ltui/inputdialog.png&quot; width=&quot;70%&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;textarea&quot;&gt;Textarea&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;https://tboox.org/static/img/ltui/textarea.png&quot; width=&quot;70%&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;windows&quot;&gt;Windows&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;https://tboox.org/static/img/ltui/windows.png&quot; width=&quot;70%&quot; /&gt;&lt;/p&gt;

</description>
        <pubDate>Mon, 19 Oct 2020 00:00:00 +0800</pubDate>
        <link>https://tboox.org/2020/10/19/ltui-v2.2/</link>
        <guid isPermaLink="true">https://tboox.org/2020/10/19/ltui-v2.2/</guid>
        
        <category>ltui</category>
        
        <category>curses</category>
        
        <category>lua</category>
        
        <category>xmake</category>
        
        <category>ui</category>
        
        
        <category>ltui</category>
        
      </item>
    
      <item>
        <title>LTUI v2.2 åå¸, ä¸ä¸ªåºäºluaçè·¨å¹³å°å­ç¬¦ç»ç«¯UIçé¢åº</title>
        <description>&lt;p&gt;LTUIæ¯ä¸ä¸ªåºäºluaçè·¨å¹³å°å­ç¬¦ç»ç«¯UIçé¢åºã&lt;/p&gt;

&lt;p&gt;æ­¤æ¡æ¶æºäº&lt;a href=&quot;https://github.com/xmake-io/xmake&quot;&gt;xmake&lt;/a&gt;ä¸­å¾å½¢åèåéç½®çéæ±ï¼ç±»ä¼¼linux kernelçmenuconfå»éç½®ç¼è¯åæ°ï¼å æ­¤åºäºcursesåluaå®ç°äºä¸æ´å¥è·¨å¹³å°çå­ç¬¦ç»ç«¯uiåºã
èæ ·å¼é£æ ¼åºæ¬ä¸å®å¨åç§çkconfig-frontendsï¼å½ç¶ç¨æ·ä¹å¯ä»¥èªå·±å®å¶ä¸åçuié£æ ¼ã&lt;/p&gt;

&lt;p&gt;å¦å¤ï¼LTUIæ¯å®å¨è·¨å¹³å°çï¼windowsä¸çterminalç»ç«¯ä¹æ¯å®å¨æ¯æçï¼å¨windowsä¸ltuiä¼éç¨pdcursesæ¥è¿è¡çªå£ç»å¶ã&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/tboox/ltui&quot;&gt;Github&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;æ´æ°åå®¹&quot;&gt;æ´æ°åå®¹&lt;/h3&gt;

&lt;p&gt;æ°çæ¬ä¸­ï¼æä»¬ä¸»è¦å¢å äºå¯¹é¼ æ äºä»¶çæ¯æï¼é¤äº curses/ncursesï¼æä»¬è¿å¯¹ windows ä¸ pdcurses ä¹åäºæ¯æï¼è¿éæä»¬éå¸¸æè°¢ &lt;a href=&quot;https://github.com/laelnasan&quot;&gt;@laelnasan&lt;/a&gt; è´¡ç®ã&lt;/p&gt;

&lt;p&gt;å¦å¤æä»¬æ°å¢ä¸ä¸ª &lt;code class=&quot;highlighter-rouge&quot;&gt;tests/events.lua&lt;/code&gt; æµè¯ç¨ä¾ï¼ä¸é¨ç¨æ¥æµè¯åç§è¾å¥äºä»¶ã&lt;/p&gt;

&lt;div class=&quot;language-console highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;w&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;xmake&lt;/span&gt;&lt;span class=&quot;kv&quot;&gt; run test events
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;æä»¬å¯ä»¥éè¿è¿ä¸ªæµè¯ä¾å­ï¼è·åå¹¶æ¾ç¤ºç¨æ·çææé¼ æ è¾å¥äºä»¶ã&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://tboox.org/static/img/ltui/mouses.png&quot; width=&quot;70%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;æä»¬å¯ä»¥å¨èªå®ä¹çviewä¸ï¼éå&lt;code class=&quot;highlighter-rouge&quot;&gt;on_event&lt;/code&gt;æ¥è·åææäºä»¶è¾å¥ï¼åæ¬ææçé¼ æ è¾å¥äºä»¶ï¼&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;local&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;demo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;application&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;demo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;application&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;demo&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;background_set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;black&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;demo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;on_event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;btn_code&quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;
        &lt;span class=&quot;nb&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;btn_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;application&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;on_event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;demo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;å®è£ä½¿ç¨&quot;&gt;å®è£ä½¿ç¨&lt;/h3&gt;

&lt;div class=&quot;language-console highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;w&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;luarocks&lt;/span&gt;&lt;span class=&quot;kv&quot;&gt; install ltui
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;å¦æè¦è¿è¡èªå¸¦çæµè¯ï¼ä½ éè¦åå®è£&lt;a href=&quot;https://www.lua.org/&quot;&gt;lua&lt;/a&gt;æè&lt;a href=&quot;http://luajit.org/&quot;&gt;luajit&lt;/a&gt;ç¨åºå»å è½½è¿è¡ltuiæºç ä»åºä¸­çæµè¯ç¨åºï¼&lt;/p&gt;

&lt;div class=&quot;language-console highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;w&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;lua&lt;/span&gt;&lt;span class=&quot;kv&quot;&gt; tests/dialog.lua
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;lua&lt;/span&gt;&lt;span class=&quot;kv&quot;&gt; tests/window.lua
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;lua&lt;/span&gt;&lt;span class=&quot;kv&quot;&gt; tests/desktop.lua
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;lua&lt;/span&gt;&lt;span class=&quot;kv&quot;&gt; tests/inputdialog.lua
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;lua&lt;/span&gt;&lt;span class=&quot;kv&quot;&gt; tests/mconfdialog.lua
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;æè&lt;/p&gt;

&lt;div class=&quot;language-console highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;w&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;luajit&lt;/span&gt;&lt;span class=&quot;kv&quot;&gt; tests/dialog.lua
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;luajit&lt;/span&gt;&lt;span class=&quot;kv&quot;&gt; tests/window.lua
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;luajit&lt;/span&gt;&lt;span class=&quot;kv&quot;&gt; tests/desktop.lua
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;luajit&lt;/span&gt;&lt;span class=&quot;kv&quot;&gt; tests/inputdialog.lua
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;luajit&lt;/span&gt;&lt;span class=&quot;kv&quot;&gt; tests/mconfdialog.lua
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;æºç ç¼è¯&quot;&gt;æºç ç¼è¯&lt;/h3&gt;

&lt;p&gt;éå¸¸åªè¦luarockså®è£å¥½åå°±å¯ä»¥ä½¿ç¨ï¼å¦ææ³è¦æ¬å°è°è¯ï¼ä¹å¯ä»¥æºç ç¼è¯åç´æ¥è¿è¡æµè¯ï¼é¦åæä»¬éè¦åå®è£è·¨å¹³å°æå»ºå·¥å·ï¼&lt;a href=&quot;https://github.com/xmake-io/xmake&quot;&gt;xmake&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;language-console highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;w&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;xmake&lt;/span&gt;&lt;span class=&quot;kv&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;xmakeä¼èªå¨ä¸è½½lua, ncursesç­ç¸å³ä¾èµï¼ç¶åæä»¬ç´æ¥éè¿&lt;code class=&quot;highlighter-rouge&quot;&gt;xmake run&lt;/code&gt;å è½½ç¸å³æµè¯ç¨åºå³å¯ï¼&lt;/p&gt;

&lt;div class=&quot;language-console highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;w&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;xmake&lt;/span&gt;&lt;span class=&quot;kv&quot;&gt; run test dialog
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;xmake&lt;/span&gt;&lt;span class=&quot;kv&quot;&gt; run test window
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;xmake&lt;/span&gt;&lt;span class=&quot;kv&quot;&gt; run test desktop
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;xmake&lt;/span&gt;&lt;span class=&quot;kv&quot;&gt; run test inputdialog
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;xmake&lt;/span&gt;&lt;span class=&quot;kv&quot;&gt; run test mconfdialog
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;åºç¨ç¨åº&quot;&gt;åºç¨ç¨åº&lt;/h3&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;local&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ltui&lt;/span&gt;        &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ltui&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;local&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;application&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ltui&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;application&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;local&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;event&lt;/span&gt;       &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ltui&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;event&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;local&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rect&lt;/span&gt;        &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ltui&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rect&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;local&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;window&lt;/span&gt;      &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ltui&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;window&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;local&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;demo&lt;/span&gt;        &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;application&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;demo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;application&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;demo&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;background_set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;blue&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;insert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;window&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;window.main&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rect&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;main window&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;demo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;æ ç­¾&quot;&gt;æ ç­¾&lt;/h3&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;local&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lab&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;title&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rect&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;hello ltui!&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;textattr_set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;white&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;æé®&quot;&gt;æé®&lt;/h3&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;local&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;btn&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;button&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;yes&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rect&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&amp;lt; Yes &amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;textattr_set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;white&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;è¾å¥æ¡&quot;&gt;è¾å¥æ¡&lt;/h3&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;demo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;-- ...&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;local&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dialog_input&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;inputdialog&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;dialog.input&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rect&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;dialog_input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;text_set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;please input text:&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;dialog_input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;button_add&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;no&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&amp;lt; No &amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dialog_input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;quit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;dialog_input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;button_add&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;yes&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&amp;lt; Yes &amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dialog_input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;quit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;insert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dialog_input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;centerx&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;centery&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;ç»ä»¶&quot;&gt;ç»ä»¶&lt;/h3&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;è§å¾&lt;/th&gt;
      &lt;th&gt;å¯¹è¯æ¡&lt;/th&gt;
      &lt;th&gt;å¶ä»&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;view&lt;/td&gt;
      &lt;td&gt;dialog&lt;/td&gt;
      &lt;td&gt;event&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;panel&lt;/td&gt;
      &lt;td&gt;boxdialog&lt;/td&gt;
      &lt;td&gt;action&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;label&lt;/td&gt;
      &lt;td&gt;textdialog&lt;/td&gt;
      &lt;td&gt;canvas&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;button&lt;/td&gt;
      &lt;td&gt;inputdialog&lt;/td&gt;
      &lt;td&gt;curses&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;border&lt;/td&gt;
      &lt;td&gt;mconfdialog&lt;/td&gt;
      &lt;td&gt;program&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;window&lt;/td&gt;
      &lt;td&gt;choicedialog&lt;/td&gt;
      &lt;td&gt;application&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;menubar&lt;/td&gt;
      &lt;td&gt;Â &lt;/td&gt;
      &lt;td&gt;point&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;menuconf&lt;/td&gt;
      &lt;td&gt;Â &lt;/td&gt;
      &lt;td&gt;rect&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;textedit&lt;/td&gt;
      &lt;td&gt;Â &lt;/td&gt;
      &lt;td&gt;object&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;textarea&lt;/td&gt;
      &lt;td&gt;Â &lt;/td&gt;
      &lt;td&gt;Â &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;statusbar&lt;/td&gt;
      &lt;td&gt;Â &lt;/td&gt;
      &lt;td&gt;Â &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;choicebox&lt;/td&gt;
      &lt;td&gt;Â &lt;/td&gt;
      &lt;td&gt;Â &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;desktop&lt;/td&gt;
      &lt;td&gt;Â &lt;/td&gt;
      &lt;td&gt;Â &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&quot;èåéç½®&quot;&gt;èåéç½®&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;https://tboox.org/static/img/ltui/menuconf.png&quot; width=&quot;70%&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;è¾å¥æ¡-1&quot;&gt;è¾å¥æ¡&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;https://tboox.org/static/img/ltui/inputdialog.png&quot; width=&quot;70%&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;ææ¬åºå&quot;&gt;ææ¬åºå&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;https://tboox.org/static/img/ltui/textarea.png&quot; width=&quot;70%&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;windowså¹³å°&quot;&gt;Windowså¹³å°&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;https://tboox.org/static/img/ltui/windows.png&quot; width=&quot;70%&quot; /&gt;&lt;/p&gt;

</description>
        <pubDate>Mon, 19 Oct 2020 00:00:00 +0800</pubDate>
        <link>https://tboox.org/cn/2020/10/19/ltui-v2.2/</link>
        <guid isPermaLink="true">https://tboox.org/cn/2020/10/19/ltui-v2.2/</guid>
        
        <category>ltui</category>
        
        <category>curses</category>
        
        <category>lua</category>
        
        <category>xmake</category>
        
        <category>ui</category>
        
        
        <category>ltui</category>
        
      </item>
    
      <item>
        <title>xmake v2.3.8 released, Add Intel C++/Fortran Compiler Support</title>
        <description>&lt;p&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake&quot;&gt;xmake&lt;/a&gt; is a lightweight cross-platform build tool based on Lua. It uses xmake.lua to maintain project builds. Compared with makefile/CMakeLists.txt, the configuration syntax is more Concise and intuitive, very friendly to novices, can get started quickly in a short time, allowing users to focus more on the actual project development.&lt;/p&gt;

&lt;p&gt;In this new version, we have made full platform support for the Intel series of C++ and Fortran compilers, and improved the Wasm tool chain support added in the previous version, and also supported the Qt SDK for Wasm.&lt;/p&gt;

&lt;p&gt;In addition, we have also upgraded luajit to the latest v2.1 version. In terms of cross-platform, xmake has also made great improvements and added support for mips64 architecture.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake&quot;&gt;Project source code&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://xmake.io/&quot;&gt;Official Document&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;new-feature-introduction&quot;&gt;New feature introduction&lt;/h2&gt;

&lt;h3 id=&quot;add-intel-c-compiler-support&quot;&gt;Add Intel C++ Compiler support&lt;/h3&gt;

&lt;p&gt;On this version, we have made full platform support for the Intel series of C++ compilers, including icl on windows and icc/icpc under linux/macOS.&lt;/p&gt;

&lt;p&gt;To enable the Intel C++ compiler, we only need to switch to the corresponding toolchain through the &lt;code class=&quot;highlighter-rouge&quot;&gt;--toolchain=icc&lt;/code&gt; parameter on the system where the Intel compiler is installed.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;xmake f --toolchain&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;icc
&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;xmake
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;add-intel-fortran-compiler-support&quot;&gt;Add Intel Fortran Compiler support&lt;/h3&gt;

&lt;p&gt;In the previous version, xmake only supported the gfortran compiler. In this version, we also support the Intel Fortran compiler, which is ifort. We only need to switch to the corresponding ifort tool chain to use it.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;xmake f --toolchain&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;ifort
&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;xmake
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;add-wasm-platform-and-qtwasm-support&quot;&gt;Add Wasm platform and Qt/Wasm support&lt;/h3&gt;

&lt;p&gt;In the last version, we added the &lt;code class=&quot;highlighter-rouge&quot;&gt;--toolchain=emcc&lt;/code&gt; toolchain to support the compilation of wasm programs, but just specifying the toolchain does not adjust the extension of the target program well, for example, for &lt;code class=&quot;highlighter-rouge&quot;&gt;*.js&lt;/code&gt; and The file of &lt;code class=&quot;highlighter-rouge&quot;&gt;*.wasm&lt;/code&gt; is generated.&lt;/p&gt;

&lt;p&gt;In the new version, we continue to add the &lt;code class=&quot;highlighter-rouge&quot;&gt;xmake f -p wasm&lt;/code&gt; platform, the built-in emcc tool chain is enabled, and the surrounding configuration has been improved again based on it.&lt;/p&gt;

&lt;p&gt;As long as you switch to the wasm platform, xmake will generate &lt;code class=&quot;highlighter-rouge&quot;&gt;*.js&lt;/code&gt; and corresponding &lt;code class=&quot;highlighter-rouge&quot;&gt;*.wasm&lt;/code&gt; and other target files by default, and additionally generate &lt;code class=&quot;highlighter-rouge&quot;&gt;*.html&lt;/code&gt; pages that can load js to run the wasm program.&lt;/p&gt;

&lt;p&gt;In addition, we also support Qt SDK for Wasm, for example, we create a Qt QuickApp project.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;xmake create -t qt.quickapp_static quickapp
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Here, we noticed that what we created is a Qt project that requires a static link. Because of the wasm version of the Qt library, we need to force a static link to the program to use it normally.&lt;/p&gt;

&lt;p&gt;The content of the generated project file xmake.lua is roughly as follows:&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;add_rules&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;mode.debug&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;mode.release&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;includes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;qt_add_static_plugins.lua&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;demo&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_rules&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;qt.quickapp_static&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_headerfiles&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;src/*.h&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_files&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;src/*.cpp&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_files&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;src/qml.qrc&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_frameworks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;QtQuickControls2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;QtQuickTemplates2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;qt_add_static_plugins&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;QtQuick2Plugin&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;linkdirs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;qml/QtQuick.2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;links&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;qtquick2plugin&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;qt_add_static_plugins&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;QtQuick2WindowPlugin&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;linkdirs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;qml/QtQuick/Window.2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;links&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;windowplugin&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;qt_add_static_plugins&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;QtQuickControls2Plugin&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;linkdirs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;qml/QtQuick/Controls.2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;links&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;qtquickcontrols2plugin&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;qt_add_static_plugins&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;QtQuickTemplates2Plugin&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;linkdirs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;qml/QtQuick/Templates.2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;links&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;qtquicktemplates2plugin&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;In the above configuration, in addition to enabling the &lt;code class=&quot;highlighter-rouge&quot;&gt;qt.quickapp_static&lt;/code&gt; compilation rules, we also configure some necessary Qt plugins through &lt;code class=&quot;highlighter-rouge&quot;&gt;qt_add_static_plugins&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Next, we only need to switch to the wasm platform and make sure that the Qt SDK is set to complete the compilation.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;xmake f -p wasm &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;--qt&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;~/Qt]
&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;xmake
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;After the compilation is completed, xmake will generate demo.html and the corresponding demo.js/demo.wasm program in the build directory. We can open the demo.html page to run the Qt program we compiled. The display effect is as follows:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/static/img/xmake/xmake-qt-wasm.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;For a more detailed description of Qt/Wasm, see: &lt;a href=&quot;https://github.com/xmake-io/xmake/issues/956&quot;&gt;Issue #956&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;add-mathfloat-point-compilation-optimization-settings&quot;&gt;Add Math/Float-point compilation optimization settings&lt;/h3&gt;

&lt;p&gt;We have added a new &lt;code class=&quot;highlighter-rouge&quot;&gt;set_fpmodels()&lt;/code&gt; setting interface, which is used to set the floating-point compilation mode and the compilation abstraction settings for the optimization of mathematical calculations. It provides several commonly used levels such as fast, strict, except, precise, and some Set at the same time, some conflicts, the last setting takes effect.&lt;/p&gt;

&lt;p&gt;For the description of these levels, you can refer to the Microsoft document: &lt;a href=&quot;https://docs.microsoft.com/en-us/cpp/build/reference/fp-specify-floating-point-behavior ?view=vs-2019&quot;&gt;Specify floating-point behavior&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Of course, for other compilers such as gcc/icc, xmake will map to different compilation flags.&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;set_fpmodels&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;fast&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;set_fpmodels&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;strict&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;set_fpmodels&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;fast&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;except&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;set_fpmodels&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;precise&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;default&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;For details on this, see: &lt;a href=&quot;https://github.com/xmake-io/xmake/issues/981&quot;&gt;Issue #981&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;add-openmp-support&quot;&gt;Add OpenMP Support&lt;/h3&gt;

&lt;p&gt;In order to enable the openmp feature more abstractly and simply, we can set it through the newly added &lt;code class=&quot;highlighter-rouge&quot;&gt;c.openmp&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;c++.openmp&lt;/code&gt; rules. In addition, we need additional libomp libraries on linux and macOS, so we can pass Ê»Add_requires(âlibompâ)` for quick reference and integration.&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;add_requires&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;libomp&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;optional&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;loop&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;set_kind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;binary&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_files&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;src/*.cpp&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_rules&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;c++.openmp&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;libomp&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;If it is c code, you need to enable Ê»add_rules(âc.openmpâ)`. If it is c/c++ mixed compilation, then these two rules must be set.&lt;/p&gt;

&lt;h3 id=&quot;add-c11c17-support&quot;&gt;Add c11/c17 support&lt;/h3&gt;

&lt;p&gt;In the new version, xmake has also made improvements to &lt;code class=&quot;highlighter-rouge&quot;&gt;set_languages&lt;/code&gt;, adding new c11/c17 settings, and at the same time adapting and adapting &lt;code class=&quot;highlighter-rouge&quot;&gt;/std:c11&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;/std:c17&lt;/code&gt; provided by the latest version of msvc. stand by.&lt;/p&gt;

&lt;p&gt;We only need simple settings:&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;set_languages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;c17&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;You can enable the c17 standard to compile, even if the lower version of msvc and other compilers do not support it, xmake will automatically ignore the settings.&lt;/p&gt;

&lt;h3 id=&quot;better-mingw-support&quot;&gt;Better Mingw support&lt;/h3&gt;

&lt;p&gt;Regarding this improvement, several aspects are involved. The first is the improvement of the automatic detection of the Mingw SDK root directory under Windows. In most cases, we do not need to configure the &lt;code class=&quot;highlighter-rouge&quot;&gt;--mingw=&lt;/code&gt; parameter to specify the path explicitly, and it can also It was automatically detected.&lt;/p&gt;

&lt;p&gt;For details on this, see: &lt;a href=&quot;https://github.com/xmake-io/xmake/issues/977&quot;&gt;Issue #977&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;In addition, in addition to Msys2/Mingw as well as macOS, linux/Mingw, we additionally support &lt;a href=&quot;https://github.com/mstorsjo/llvm-mingw&quot;&gt;llvm-mingw&lt;/a&gt; this SDK in the new version, so that we can use mingw to compile the program of arm/arm64 architecture.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;xmake f -p mingw -a arm64
&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;xmake
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;In addition, in the automatic compilation and integration of remote dependency packages, there are now third-party libraries with cmakelists. Even on the mingw platform, xmake can be automatically compiled and integrated for direct use, which is very fast and convenient.&lt;/p&gt;

&lt;p&gt;Recently, in the &lt;a href=&quot;https://github.com/xmake-io/xmake-repo&quot;&gt;xmake-repo&lt;/a&gt; official C/C++ package repository, we have also added a lot of new libraries that support the mingw platform, which can be used directly .&lt;/p&gt;

&lt;h3 id=&quot;better-cross-platform-operation&quot;&gt;Better cross-platform operation&lt;/h3&gt;

&lt;p&gt;We have added support for mips64-based Linux system operation, and improved the stability of xmake under arm/arm64. By incorporating the latest luajit v2.1, we have solved many problems left by luajit, such as the bad of lightuserdata under arm64. Pointer and other issues.&lt;/p&gt;

&lt;h3 id=&quot;add-macos-sierra-for-arm64-support&quot;&gt;Add macOS Sierra for arm64 support&lt;/h3&gt;

&lt;p&gt;xmake has also adapted the latest Xcode-beta, and added macOs for arm64 target program compilation support, just switch to the arm64 architecture compilation.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;xmake f -a arm64 &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;--xcode&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;Applications/Xcode-beta.app/]
&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;xmake
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Of course, the premise is to run under macOS and use the latest Xcode-beta version that supports the Developer Transition Kit (DTK).&lt;/p&gt;

&lt;h3 id=&quot;add-more-cc-libraries-for-the-official-repository&quot;&gt;Add more C/C++ libraries for the official repository&lt;/h3&gt;

&lt;p&gt;In the official C/C++ repository of xmake &lt;a href=&quot;https://github.com/xmake-io/xmake-repo&quot;&gt;xmake-repo&lt;/a&gt;, we have recently added dozens of commonly used C/C++ libraries, and also The libraries of the libx11 series are all included.&lt;/p&gt;

&lt;p&gt;Although the warehouse package maintenance workload is huge, the current development trend is also becoming more and more active. We have received more and more usersâ contributions and improved maintenance to the warehouse package.&lt;/p&gt;

&lt;p&gt;And, now our official warehouse can be quickly integrated: linux, macOS, windows, mingw, bsd, msys, iphoneos, android and other eight common platform libraries, to achieve true cross-platform C/C++ remote dependency library integration and use support.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/static/img/xmake/xmake-packages.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Currently we have included a list of some packages and supporting platforms, you can view from here: &lt;a href=&quot;https://github.com/xmake-io/xmake-repo/blob/master/PKGLIST.md&quot;&gt;PKGLIST.md&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;We have been working hard to solve the problems of messy C/C++ library ecology and cumbersome integration and use, and provide quick and consistent automatic integration and compilation solutions. xmake not only supports the integration of third-party official warehouse packages such as vcpkg/conan/clib/homebrew, but also We are working hard to improve our self-built official warehouse to achieve a better integrated experience.&lt;/p&gt;

&lt;p&gt;for example:&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;add_requires&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;tbox &amp;gt;1.6.1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;libuv master&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;vcpkg::ffmpeg&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;brew::pcre2/libpcre2-8&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;add_requires&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;conan::openssl/1.1.1g&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;openssl&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;optional&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;debug&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;set_kind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;binary&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_files&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;src/*.c&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;tbox&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;libuv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;vcpkg::ffmpeg&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;brew::pcre2/libpcre2-8&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;openssl&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Packages with namespaces such as &lt;code class=&quot;highlighter-rouge&quot;&gt;vcpkg::&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;brew::&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;conan::&lt;/code&gt; will automatically switch to the corresponding third-party package warehouse to download and integrate, and the default &lt;code class=&quot;highlighter-rouge&quot;&gt;tbox &amp;gt;1.6.1&lt;/code&gt; etc. Library, the package provided in the official xmake-repo repository will be used by default.&lt;/p&gt;

&lt;p&gt;The usage and integration methods are exactly the same, xmake will automatically download, compile, integrate and link.&lt;/p&gt;

&lt;p&gt;For more detailed instructions on the dependency integration of remote packages, we can look at the relevant documentation: &lt;a href=&quot;https://xmake.io/#/package/remote_package&quot;&gt;Remote dependency library integration and use&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;At the same time, we also welcome more people to participate to help improve the construction of the C/C++ library ecology, and provide a concise and consistent library experience. I believe that C/C++ package management and library ecology are not worse than Rust/Go.&lt;/p&gt;

&lt;h3 id=&quot;more-release-version-installation-support&quot;&gt;More release version installation support&lt;/h3&gt;

&lt;p&gt;In the new version, we submitted xmake to the Ubuntu PPA source, so in addition to the existing script installation method, we can also quickly install xmake through apt.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo add-apt-repository ppa:xmake-io/xmake
sudo apt update
sudo apt install xmake
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;At the same time, we also submitted the package to the Copr package management repository, so that we can also quickly install xmake through dnf in Fedora, RHEL, OpenSUSE, CentOS and other distributions.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo dnf copr &lt;span class=&quot;nb&quot;&gt;enable &lt;/span&gt;waruqi/xmake
sudo dnf install xmake
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;changelog&quot;&gt;Changelog&lt;/h2&gt;

&lt;h3 id=&quot;new-features&quot;&gt;New features&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/955&quot;&gt;#955&lt;/a&gt;: Add zig project templates&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/956&quot;&gt;#956&lt;/a&gt;: Add wasm platform and support Qt/Wasm SDK&lt;/li&gt;
  &lt;li&gt;Upgrade luajit vm and support for runing on mips64 device&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/972&quot;&gt;#972&lt;/a&gt;: Add &lt;code class=&quot;highlighter-rouge&quot;&gt;depend.on_changed()&lt;/code&gt; api to simplify adding dependent files&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/981&quot;&gt;#981&lt;/a&gt;: Add &lt;code class=&quot;highlighter-rouge&quot;&gt;set_fpmodels()&lt;/code&gt; for math optimization mode&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/980&quot;&gt;#980&lt;/a&gt;: Support Intel C/C++ and Fortran Compiler&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/986&quot;&gt;#986&lt;/a&gt;: Support for &lt;code class=&quot;highlighter-rouge&quot;&gt;c11&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;c17&lt;/code&gt; for MSVC Version 16.8 and Above&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/979&quot;&gt;#979&lt;/a&gt;: Add Abstraction for OpenMP. &lt;code class=&quot;highlighter-rouge&quot;&gt;add_rules(&quot;c++.openmp&quot;)&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;change&quot;&gt;Change&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/958&quot;&gt;#958&lt;/a&gt;: Improve mingw platform to support llvm-mingw toolchain&lt;/li&gt;
  &lt;li&gt;Improve &lt;code class=&quot;highlighter-rouge&quot;&gt;add_requires(&quot;zlib~xxx&quot;)&lt;/code&gt; to support for installing multi-packages at same time&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/977&quot;&gt;#977&lt;/a&gt;: Improve find_mingw for windows&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/978&quot;&gt;#978&lt;/a&gt;: Improve toolchain flags order&lt;/li&gt;
  &lt;li&gt;Improve Xcode toolchain to support for macOS/arm64&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;bugs-fixed&quot;&gt;Bugs fixed&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/951&quot;&gt;#951&lt;/a&gt;: Fix emcc support for windows&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/992&quot;&gt;#992&lt;/a&gt;: Fix filelock bug&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Sat, 17 Oct 2020 00:00:00 +0800</pubDate>
        <link>https://tboox.org/2020/10/17/xmake-update-v2.3.8/</link>
        <guid isPermaLink="true">https://tboox.org/2020/10/17/xmake-update-v2.3.8/</guid>
        
        <category>xmake</category>
        
        <category>lua</category>
        
        <category>C/C++</category>
        
        <category>toolchains</category>
        
        <category>wasm</category>
        
        <category>emscripten</category>
        
        <category>qt</category>
        
        <category>intel</category>
        
        <category>icc</category>
        
        <category>fortran</category>
        
        
        <category>xmake</category>
        
      </item>
    
      <item>
        <title>xmake v2.3.8 åå¸, æ°å¢ Intel C++/Fortran ç¼è¯å¨æ¯æ</title>
        <description>&lt;p&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake&quot;&gt;xmake&lt;/a&gt; æ¯ä¸ä¸ªåºäº Lua çè½»éçº§è·¨å¹³å°æå»ºå·¥å·ï¼ä½¿ç¨ xmake.lua ç»´æ¤é¡¹ç®æå»ºï¼ç¸æ¯ makefile/CMakeLists.txtï¼éç½®è¯­æ³æ´å ç®æ´ç´è§ï¼å¯¹æ°æéå¸¸åå¥½ï¼ç­æ¶é´åå°±è½å¿«éå¥é¨ï¼è½å¤è®©ç¨æ·ææ´å¤çç²¾åéä¸­å¨å®éçé¡¹ç®å¼åä¸ã&lt;/p&gt;

&lt;p&gt;å¨è¿ä¸ªæ°çæ¬ä¸­ï¼æä»¬å¯¹ Intel ç³»åç C++ å Fortran ç¼è¯å¨åäºå¨å¹³å°æ¯æï¼å¹¶ä¸æ¹è¿äºä¸ä¸ªçæ¬æ°å ç Wasm å·¥å·é¾æ¯æï¼åæ¶å¯¹ Qt SDK for Wasm ä¹è¿è¡äºæ¯æã&lt;/p&gt;

&lt;p&gt;å¦å¤ï¼æä»¬è¿å° luajit åçº§å°ææ°ç v2.1 çæ¬ï¼å¨è·¨å¹³å°æ¹é¢ï¼xmake ä¹åäºå¾å¤§çå®åï¼å¢å äº mips64 æ¶æçè¿è¡æ¯æã&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake&quot;&gt;é¡¹ç®æºç &lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://xmake.io/#/zh-cn/&quot;&gt;å®æ¹ææ¡£&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://xmake.io/#/zh-cn/about/course&quot;&gt;å¥é¨è¯¾ç¨&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;å¥é¨è¯¾ç¨&quot;&gt;å¥é¨è¯¾ç¨&lt;/h2&gt;

&lt;p&gt;è¿æï¼æä»¬ä¹ä¸çº¿äºå®æ¹ç xmake å¥é¨è¯¾ç¨ï¼&lt;a href=&quot;ttps://xmake.io/#/zh-cn/about/course&quot;&gt;Xmake å¸¦ä½ è½»æ¾æå»º C/C++ é¡¹ç®&lt;/a&gt; ä»¥è¾¹å­¦è¾¹åå®éªçæ¹å¼å¿«éå­¦ä¹  xmake çä½¿ç¨ã&lt;/p&gt;

&lt;h2 id=&quot;æ°ç¹æ§ä»ç»&quot;&gt;æ°ç¹æ§ä»ç»&lt;/h2&gt;

&lt;h3 id=&quot;intel-c-ç¼è¯å¨æ¯æ&quot;&gt;Intel C++ ç¼è¯å¨æ¯æ&lt;/h3&gt;

&lt;p&gt;è¿ä¸ªçæ¬ä¸ï¼æä»¬å¯¹ Intel ç³»åç C++ ç¼è¯å¨åäºå¨å¹³å°æ¯æï¼åæ¬ windowsä¸ç icl ä»¥å linux/macOS ä¸ç icc/icpcã&lt;/p&gt;

&lt;p&gt;è¦æ³å¯ç¨ Intel C++ ç¼è¯å¨ï¼æä»¬åªéè¦å¨å®è£äºç Intel ç¼è¯å¨çç³»ç»ä¸ï¼éè¿ &lt;code class=&quot;highlighter-rouge&quot;&gt;--toolchain=icc&lt;/code&gt; åæ°åæ¢å°å¯¹åºçå·¥å·é¾å³å¯ã&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;xmake f --toolchain&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;icc
&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;xmake
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;intel-fortran-ç¼è¯å¨æ¯æ&quot;&gt;Intel Fortran ç¼è¯å¨æ¯æ&lt;/h3&gt;

&lt;p&gt;ä¹åççæ¬ï¼xmake ä»ä»æ¯æ gfortran ç¼è¯å¨ï¼èè¿ä¸ªçæ¬ï¼æä»¬ä¹æ¯æäº Intel Fortran ç¼è¯å¨ï¼ä¹å°±æ¯ ifortï¼æä»¬ä¹åªéè¦åæ¢å°å¯¹åºç ifort å·¥å·é¾å³å¯ä½¿ç¨ã&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;xmake f --toolchain&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;ifort
&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;xmake
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;wasm-å¹³å°å-qtwasm-æ¯æ&quot;&gt;Wasm å¹³å°å Qt/Wasm æ¯æ&lt;/h3&gt;

&lt;p&gt;ä¸ä¸ªçæ¬ï¼æä»¬æ°å¢äº &lt;code class=&quot;highlighter-rouge&quot;&gt;--toolchain=emcc&lt;/code&gt; å·¥å·é¾æ¥æ¯æ wasm ç¨åºçç¼è¯ï¼ä½æ¯ä»ä»æå®å·¥å·é¾ï¼å¹¶ä¸è½å¾å¥½çè°æ´ç®æ ç¨åºçæ©å±åï¼ä¾å¦å¯¹ &lt;code class=&quot;highlighter-rouge&quot;&gt;*.js&lt;/code&gt; å &lt;code class=&quot;highlighter-rouge&quot;&gt;*.wasm&lt;/code&gt; çæä»¶çæã&lt;/p&gt;

&lt;p&gt;èæ°çæ¬ï¼æä»¬ç»§ç»­æ°å¢äº &lt;code class=&quot;highlighter-rouge&quot;&gt;xmake f -p wasm&lt;/code&gt; å¹³å°ï¼åç½®å¯ç¨ emcc å·¥å·é¾ï¼å¹¶ä¸åæ¬¡åºç¡ä¸å¯¹å¨è¾¹çéç½®åäºæ´å¥½çå®åã&lt;/p&gt;

&lt;p&gt;åªè¦åæ¢å° wasm å¹³å°ï¼xmake ä¼é»è®¤çæ &lt;code class=&quot;highlighter-rouge&quot;&gt;*.js&lt;/code&gt; ä»¥åå¯¹åº &lt;code class=&quot;highlighter-rouge&quot;&gt;*.wasm&lt;/code&gt; ç­ç®æ æä»¶ï¼è¿ä¼é¢å¤çæå¯ä»¥å è½½ js æ¥è¿è¡ wasm ç¨åºç &lt;code class=&quot;highlighter-rouge&quot;&gt;*.html&lt;/code&gt; é¡µé¢ã&lt;/p&gt;

&lt;p&gt;å¦å¤ï¼æä»¬è¿å¯¹ Qt SDK for Wasm ä¹åäºæ¯æï¼æ¯å¦æä»¬åå»ºä¸ä¸ª Qt QuickApp å·¥ç¨ã&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;xmake create -t qt.quickapp_static quickapp
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;è¿éï¼æä»¬æ³¨æå°ï¼æä»¬åå»ºçæ¯éè¦éælinkçQtå·¥ç¨ï¼å ä¸º wasm çæ¬ç Qt åºï¼æä»¬éè¦å¼ºå¶éæé¾æ¥å°ç¨åºæè½æ­£å¸¸ä½¿ç¨ã&lt;/p&gt;

&lt;p&gt;çæçå·¥ç¨æä»¶ xmake.lua åå®¹å¤§æ¦å¦ä¸ï¼&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;add_rules&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;mode.debug&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;mode.release&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;includes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;qt_add_static_plugins.lua&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;demo&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_rules&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;qt.quickapp_static&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_headerfiles&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;src/*.h&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_files&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;src/*.cpp&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_files&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;src/qml.qrc&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_frameworks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;QtQuickControls2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;QtQuickTemplates2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;qt_add_static_plugins&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;QtQuick2Plugin&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;linkdirs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;qml/QtQuick.2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;links&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;qtquick2plugin&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;qt_add_static_plugins&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;QtQuick2WindowPlugin&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;linkdirs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;qml/QtQuick/Window.2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;links&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;windowplugin&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;qt_add_static_plugins&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;QtQuickControls2Plugin&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;linkdirs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;qml/QtQuick/Controls.2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;links&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;qtquickcontrols2plugin&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;qt_add_static_plugins&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;QtQuickTemplates2Plugin&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;linkdirs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;qml/QtQuick/Templates.2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;links&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;qtquicktemplates2plugin&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;ä¸é¢çéç½®ä¸­ï¼æä»¬é¤äºå¯ç¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;qt.quickapp_static&lt;/code&gt; ç¼è¯è§åï¼è¿éè¿ &lt;code class=&quot;highlighter-rouge&quot;&gt;qt_add_static_plugins&lt;/code&gt; éç½®äºä¸äºå¿é¡»ç Qt æä»¶ã&lt;/p&gt;

&lt;p&gt;æ¥ä¸æ¥ï¼æä»¬åªéè¦åæ¢å° wasm å¹³å°ï¼å¹¶ç¡®ä¿ Qt SDK å·²è®¾ç½®ï¼å³å¯å®æç¼è¯ã&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;xmake f -p wasm &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;--qt&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;~/Qt]
&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;xmake
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;å®æç¼è¯åï¼xmake ä¼å¨ build ç®å½ä¸çæ demo.html ä»¥åå¯¹åºç demo.js/demo.wasm ç¨åºï¼æä»¬æå¼ demo.html é¡µé¢å³å¯è¿è¡æä»¬ç¼è¯ç Qt ç¨åºï¼æ¾ç¤ºææå¦ä¸å¾ï¼&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/static/img/xmake/xmake-qt-wasm.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å³äº Qt/Wasm æ´å è¯¦ç»çè¯´æï¼è§ï¼&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/956&quot;&gt;Issue #956&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;æ°å¢-mathfloat-point-ç¼è¯ä¼åè®¾ç½®&quot;&gt;æ°å¢ Math/Float-point ç¼è¯ä¼åè®¾ç½®&lt;/h3&gt;

&lt;p&gt;æä»¬æ°å¢äºä¸ä¸ª &lt;code class=&quot;highlighter-rouge&quot;&gt;set_fpmodels()&lt;/code&gt; è®¾ç½®æ¥å£ï¼ç¨äºè®¾ç½®æµ®ç¹çç¼è¯æ¨¡å¼ï¼å¯¹æ°å­¦è®¡ç®ç¸å³ä¼åçç¼è¯æ½è±¡è®¾ç½®ï¼æä¾ï¼fast, strict, except, precise ç­å ç§å¸¸ç¨ççº§å«ï¼æäºå¯åæ¶è®¾ç½®ï¼æäºæ¯æå²çªçï¼æåè®¾ç½®ççæã&lt;/p&gt;

&lt;p&gt;å³äºè¿äºçº§å«çè¯´æï¼å¯ä»¥åèä¸å¾®è½¯çææ¡£ï¼&lt;a href=&quot;https://docs.microsoft.com/en-us/cpp/build/reference/fp-specify-floating-point-behavior?view=vs-2019&quot;&gt;Specify floating-point behavior&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;å½ç¶ï¼å¯¹åºgcc/iccç­å¶ä»ç¼è¯å¨ï¼xmake ä¼æ å°å°ä¸åçç¼è¯flagsã&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;set_fpmodels&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;fast&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;set_fpmodels&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;strict&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;set_fpmodels&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;fast&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;except&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;set_fpmodels&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;precise&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;-- default&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;å³äºè¿åè¯¦æè§ï¼&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/981&quot;&gt;Issue #981&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;openmp-æ¯æ&quot;&gt;OpenMP æ¯æ&lt;/h3&gt;

&lt;p&gt;ä¸ºäºæ´å æ½è±¡ç®åçå¯ç¨ openmp ç¹æ§ï¼æä»¬å¯ä»¥éè¿æ°å¢ç &lt;code class=&quot;highlighter-rouge&quot;&gt;c.openmp&lt;/code&gt; å &lt;code class=&quot;highlighter-rouge&quot;&gt;c++.openmp&lt;/code&gt; è¿ä¸¤ä¸ªè§åæ¥è®¾ç½®ï¼å¦å¤ linuxãmacOS ä¸æä»¬éè¦é¢å¤ç libomp åºæè¡ï¼å æ­¤å¯ä»¥éè¿ &lt;code class=&quot;highlighter-rouge&quot;&gt;add_requires(&quot;libomp&quot;)&lt;/code&gt; æ¥å¿«éå¼ç¨åéæã&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;add_requires&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;libomp&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;optional&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;loop&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;set_kind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;binary&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_files&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;src/*.cpp&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_rules&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;c++.openmp&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;libomp&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;å¦ææ¯cä»£ç ï¼éè¦å¯ç¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;add_rules(&quot;c.openmp&quot;)&lt;/code&gt;ï¼å¦ææ¯ c/c++ æ··åç¼è¯ï¼é£ä¹è¿ä¸¤ä¸ªè§åé½è¦è®¾ç½®ã&lt;/p&gt;

&lt;h3 id=&quot;c11c17-çæ¯æ&quot;&gt;c11/c17 çæ¯æ&lt;/h3&gt;

&lt;p&gt;æ°çæ¬ä¸­ï¼xmake å¯¹ &lt;code class=&quot;highlighter-rouge&quot;&gt;set_languages&lt;/code&gt; ä¹åäºæ¹è¿ï¼å¢å äºæ°ç c11/c17 è®¾ç½®é¡¹ï¼åæ¶å¯¹ææ°çæ¬ msvc æä¾ç &lt;code class=&quot;highlighter-rouge&quot;&gt;/std:c11&lt;/code&gt; å &lt;code class=&quot;highlighter-rouge&quot;&gt;/std:c17&lt;/code&gt; ä¹åäºééåæ¯æã&lt;/p&gt;

&lt;p&gt;æä»¬åªéè¦ç®åçè®¾ç½®ï¼&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;set_languages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;c17&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;å³å¯å¯ç¨ c17 æ åæ¥ç¼è¯ï¼å³ä½¿ä½çæ¬ msvc ç­ç¼è¯å¨ä¸æ¯æï¼xmake ä¹ä¼èªå¨å¿½ç¥è®¾ç½®ã&lt;/p&gt;

&lt;h3 id=&quot;æ´å¥½ç-mingw-æ¯æ&quot;&gt;æ´å¥½ç Mingw æ¯æ&lt;/h3&gt;

&lt;p&gt;å³äºè¿åçæ¹è¿ï¼æ¶åå ä¸ªæ¹é¢ï¼é¦åæ¯ Windows ä¸ Mingw SDK æ ¹ç®å½çèªå¨æ¢æµçæ¹è¿ï¼å¤§é¨åæåµä¸ï¼æä»¬é½ä¸éè¦é¢å¤éç½® &lt;code class=&quot;highlighter-rouge&quot;&gt;--mingw=&lt;/code&gt; åæ°æ¾å¼æå®è·¯å¾ï¼ä¹è½å¤èªå¨æ£æµå°äºã&lt;/p&gt;

&lt;p&gt;å³äºè¿åè¯¦æï¼è§ï¼&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/977&quot;&gt;Issue #977&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;å¦å¤ï¼é¤äº Msys2/Mingw è¿æ macOS,linux/Mingwï¼æä»¬å¨æ°çæ¬ä¸­è¿é¢å¤æ¯æäº &lt;a href=&quot;https://github.com/mstorsjo/llvm-mingw&quot;&gt;llvm-mingw&lt;/a&gt; è¿ä¸ª SDKï¼ä½¿å¾æä»¬å¯ä»¥ä½¿ç¨ mingw æ¥ç¼è¯ arm/arm64 æ¶æçç¨åºã&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;xmake f -p mingw -a arm64
&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;xmake
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;å¦å¤ï¼å¨è¿ç¨ä¾èµåçèªå¨ç¼è¯éæä¸ï¼ç°å¨å¸¦æ cmakelists çç¬¬ä¸æ¹åºï¼å³ä½¿æ¯ mingw å¹³å°ï¼xmake ä¹è½èªå¨ç¼è¯éæè¿æ¥ç´æ¥ä½¿ç¨ï¼éå¸¸çå¿«éæ¹ä¾¿ã&lt;/p&gt;

&lt;p&gt;èæè¿ &lt;a href=&quot;https://github.com/xmake-io/xmake-repo&quot;&gt;xmake-repo&lt;/a&gt; å®æ¹ C/C++ åä»åºä¸­ï¼æä»¬ä¹æ°å¢æ¶å¥äºä¸å°æ¯æ mingw å¹³å°çæ°åºï¼å¯ç´æ¥ä½¿ç¨ã&lt;/p&gt;

&lt;h3 id=&quot;æ´å¥½çè·¨å¹³å°è¿è¡&quot;&gt;æ´å¥½çè·¨å¹³å°è¿è¡&lt;/h3&gt;

&lt;p&gt;æä»¬æ°å¢äºå¯¹ mips64 æ¶æç linux ç³»ç»è¿è¡æ¯æï¼å¦å¤æ¹è¿äº arm/arm64 ä¸ xmake çè¿è¡ç¨³å®æ§ï¼éè¿åå¥ææ°ç luajit v2.1 ï¼è§£å³äºå¾å¤ luajit éççé®é¢ï¼æ¯å¦ arm64 ä¸ lightuserdata ç bad pointer ç­é®é¢ã&lt;/p&gt;

&lt;h3 id=&quot;æ°å¢-macos-sierra-for-arm64-æ¯æ&quot;&gt;æ°å¢ macOS Sierra for arm64 æ¯æ&lt;/h3&gt;

&lt;p&gt;xmake è¿å¯¹ææ°ç Xcode-beta è¿è¡äºééï¼æ°å¢äº macOs for arm64 çç®æ ç¨åºç¼è¯æ¯æï¼åªéè¦åå° arm64 æ¶æç¼è¯å³å¯ã&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;xmake f -a arm64 &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;--xcode&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;Applications/Xcode-beta.app/]
&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;xmake
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;å½ç¶ï¼åææ¯å¨ macOS ä¸è¿è¡ï¼å¹¶ä¸ä½¿ç¨ææ°æ¯æ Developer Transition Kit (DTK) ç Xcode-beta çæ¬æè¡ã&lt;/p&gt;

&lt;h3 id=&quot;å®æ¹ä»åºæ¶å½æ´å¤ç-cc-åº&quot;&gt;å®æ¹ä»åºæ¶å½æ´å¤ç C/C++ åº&lt;/h3&gt;

&lt;p&gt;å¨ xmake çå®æ¹ C/C++ ä»åº &lt;a href=&quot;https://github.com/xmake-io/xmake-repo&quot;&gt;xmake-repo&lt;/a&gt; ä¸­ï¼æä»¬æè¿æ°å¢äºå åä¸ªå¸¸ç¨ç C/C++ åºï¼å¹¶ä¸è¿å¯¹ libx11 ç³»åçåºé½å¨é¨è¿è¡äºæ¶å½ã&lt;/p&gt;

&lt;p&gt;è½ç¶ï¼ä»åºçåç»´æ¤å·¥ä½éå·¨å¤§ï¼ä½æ¯ç®åçåå±è¶å¿ä¹æ¥è¶æ´»è·ï¼æä»¬æ¶å°äºè¶æ¥è¶å¤çç¨æ·å¯¹ä»åºåçè´¡ç®åæ¹è¿ç»´æ¤ã&lt;/p&gt;

&lt;p&gt;å¹¶ä¸ï¼ç°å¨æä»¬çå®æ¹ä»åºå·²ç»å¯ä»¥å¿«ééæï¼linux, macOS, windows, mingw, bsd, msys, iphoneos, android ç­å«å¤§å¸¸ç¨å¹³å°çåºï¼å®ç°çæ­£çè·¨å¹³å° C/C++ è¿ç¨ä¾èµåºéæåä½¿ç¨æ¯æã&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/static/img/xmake/xmake-packages.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ç®åæä»¬æ¶å½çä¸äºååè¡¨åæ¯æå¹³å°ï¼å¯ä»¥ä»è¿éæ¥çï¼&lt;a href=&quot;https://github.com/xmake-io/xmake-repo/blob/master/PKGLIST.md&quot;&gt;PKGLIST.md&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;æä»¬ä¸ç´å¨åªåè§£å³ C/C++ åºçæçæä¹±ãéæä½¿ç¨ç¹çç­é®é¢ï¼æä¾å¿«éä¸è´çèªå¨éæåç¼è¯æ¹æ¡ï¼xmake ä¸ä»æ¯æ vcpkg/conan/clib/homebrew ç­ç¬¬ä¸æ¹å®æ¹ä»åºåçéæï¼å¹¶ä¸ä¹å¨åªåå®åèªå»ºçå®æ¹ä»åºï¼å®ç°æ´å¥½çéæä½éªã&lt;/p&gt;

&lt;p&gt;ä¾å¦ï¼&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;add_requires&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;tbox &amp;gt;1.6.1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;libuv master&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;vcpkg::ffmpeg&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;brew::pcre2/libpcre2-8&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;add_requires&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;conan::openssl/1.1.1g&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;openssl&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;optional&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;debug&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;set_kind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;binary&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_files&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;src/*.c&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;tbox&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;libuv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;vcpkg::ffmpeg&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;brew::pcre2/libpcre2-8&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;openssl&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;å¸¦æ &lt;code class=&quot;highlighter-rouge&quot;&gt;vcpkg::&lt;/code&gt;ï¼&lt;code class=&quot;highlighter-rouge&quot;&gt;brew::&lt;/code&gt; å &lt;code class=&quot;highlighter-rouge&quot;&gt;conan::&lt;/code&gt; ç­å½åç©ºé´çåï¼ä¼èªå¨åæ¢å°å¯¹åºçç¬¬ä¸æ¹åä»åºå»ä¸è½½éæï¼èé»è®¤ç &lt;code class=&quot;highlighter-rouge&quot;&gt;tbox &amp;gt;1.6.1&lt;/code&gt; ç­åºï¼åä¼é»è®¤ä½¿ç¨ xmake-repo å®æ¹ä»åºä¸­æä¾çåã&lt;/p&gt;

&lt;p&gt;ä½¿ç¨åéææ¹å¼å®å¨ä¸è´ï¼xmake ä¼èªå¨ä¸è½½ãç¼è¯ãéæåé¾æ¥ã&lt;/p&gt;

&lt;p&gt;å³äºè¿ç¨åçä¾èµéæçæ´å¤è¯¦ç»è¯´æï¼æä»¬å¯ä»¥çä¸ç¸å³çææ¡£è¯´æï¼&lt;a href=&quot;https://xmake.io/#/zh-cn/package/remote_package&quot;&gt;è¿ç¨ä¾èµåºéæåä½¿ç¨&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;åæ¶ï¼æä»¬ä¹æ¬¢è¿æ´å¤çäººåä¸è¿æ¥ï¼å¸®å¿ä¸èµ·æ¹å C/C++ çåºçæçå»ºè®¾ï¼æä¾ç®æ´ä¸è´çåºä½¿ç¨ä½éªï¼æç¸ä¿¡ C/C++ åç®¡çååºçæå¹¶ä¸æ¯ Rust/Go å·®ã&lt;/p&gt;

&lt;h3 id=&quot;æ´å¤çåè¡çå®è£æ¯æ&quot;&gt;æ´å¤çåè¡çå®è£æ¯æ&lt;/h3&gt;

&lt;p&gt;å¨æ°çæ¬ä¸­ï¼æä»¬å° xmake æäº¤äº Ubuntu PPA æºï¼å æ­¤é¤äºç°æçèæ¬å®è£æ¹å¼å¤ï¼æä»¬ä¹å¯ä»¥éè¿ apt å»å¿«éå®è£ xmakeã&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo add-apt-repository ppa:xmake-io/xmake
sudo apt update
sudo apt install xmake
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;åæ¶ï¼æä»¬ä¹å°åæäº¤å°äº Copr åç®¡çä»åºï¼ä½¿å¾æä»¬ä¹å¯ä»¥å¨ Fedora, RHELï¼OpenSUSEï¼CentOS ç­åè¡çä¸­ï¼éè¿ dnf æ¥å¿«éå®è£ xmakeã&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo dnf copr &lt;span class=&quot;nb&quot;&gt;enable &lt;/span&gt;waruqi/xmake
sudo dnf install xmake
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;æ´æ°åå®¹&quot;&gt;æ´æ°åå®¹&lt;/h2&gt;

&lt;h3 id=&quot;æ°ç¹æ§&quot;&gt;æ°ç¹æ§&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/955&quot;&gt;#955&lt;/a&gt;: æ·»å  Zig ç©ºå·¥ç¨æ¨¡æ¿&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/956&quot;&gt;#956&lt;/a&gt;: æ·»å  Wasm ç¼è¯å¹³å°ï¼å¹¶ä¸æ¯æ Qt/Wasm SDK&lt;/li&gt;
  &lt;li&gt;åçº§luajitå°v2.1ææ°åæ¯çæ¬ï¼å¹¶ä¸æ¯æmips64ä¸è¿è¡xmake&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/972&quot;&gt;#972&lt;/a&gt;: æ·»å &lt;code class=&quot;highlighter-rouge&quot;&gt;depend.on_changed()&lt;/code&gt;å»ç®åä¾èµæä»¶çå¤ç&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/981&quot;&gt;#981&lt;/a&gt;: æ·»å &lt;code class=&quot;highlighter-rouge&quot;&gt;set_fpmodels()&lt;/code&gt;å»æ½è±¡åè®¾ç½®math/float-pointç¼è¯ä¼åæ¨¡å¼&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/980&quot;&gt;#980&lt;/a&gt;: æ·»å å¯¹ Intel C/C++ å Fortran ç¼è¯å¨çå¨å¹³å°æ¯æ&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/986&quot;&gt;#986&lt;/a&gt;: å¯¹16.8ä»¥ä¸msvcç¼è¯å¨å¢å  &lt;code class=&quot;highlighter-rouge&quot;&gt;c11&lt;/code&gt;/&lt;code class=&quot;highlighter-rouge&quot;&gt;c17&lt;/code&gt; æ¯æ&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/979&quot;&gt;#979&lt;/a&gt;: æ·»å å¯¹OpenMPçè·¨å¹³å°æ½è±¡éç½®ã&lt;code class=&quot;highlighter-rouge&quot;&gt;add_rules(&quot;c++.openmp&quot;)&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;æ¹è¿&quot;&gt;æ¹è¿&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/958&quot;&gt;#958&lt;/a&gt;: æ¹è¿mingwå¹³å°ï¼å¢å å¯¹ llvm-mingw å·¥å·é¾çæ¯æï¼ä»¥å arm64/arm æ¶æçæ¯æ&lt;/li&gt;
  &lt;li&gt;å¢å  &lt;code class=&quot;highlighter-rouge&quot;&gt;add_requires(&quot;zlib~xxx&quot;)&lt;/code&gt; æ¨¡å¼ä½¿å¾è½å¤æ¯æåæ¶å®è£å¸¦æå¤ç§éç½®çåä¸ä¸ªåï¼ä½ä¸ºç¬ç«åå­å¨&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/977&quot;&gt;#977&lt;/a&gt;: æ¹è¿ find_mingw å¨ windows ä¸çæ¢æµ&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/978&quot;&gt;#978&lt;/a&gt;: æ¹è¿å·¥å·é¾çflagsé¡ºåº&lt;/li&gt;
  &lt;li&gt;æ¹è¿XCodeå·¥å·é¾ï¼æ¯æmacOS/arm64&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;bugsä¿®å¤&quot;&gt;Bugsä¿®å¤&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/951&quot;&gt;#951&lt;/a&gt;: ä¿®å¤ emcc (WebAssembly) å·¥å·é¾å¨windowsä¸çæ¯æ&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/992&quot;&gt;#992&lt;/a&gt;: ä¿®å¤æä»¶éå¶å°æå¼å¤±è´¥é®é¢&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Sat, 17 Oct 2020 00:00:00 +0800</pubDate>
        <link>https://tboox.org/cn/2020/10/17/xmake-update-v2.3.8/</link>
        <guid isPermaLink="true">https://tboox.org/cn/2020/10/17/xmake-update-v2.3.8/</guid>
        
        <category>xmake</category>
        
        <category>lua</category>
        
        <category>C/C++</category>
        
        <category>toolchains</category>
        
        <category>wasm</category>
        
        <category>emscripten</category>
        
        <category>qt</category>
        
        <category>intel</category>
        
        <category>icc</category>
        
        <category>fortran</category>
        
        
        <category>xmake</category>
        
      </item>
    
      <item>
        <title>xmake å®æ¹å¥é¨è¯¾ç¨ä¸çº¿: Xmake å¸¦ä½ è½»æ¾æå»º C/C++ é¡¹ç®</title>
        <description>&lt;h2 id=&quot;å®éªæ¥¼è¯¾ç¨&quot;&gt;å®éªæ¥¼è¯¾ç¨&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://www.lanqiao.cn/courses/2764&quot;&gt;Xmake å¸¦ä½ è½»æ¾æå»º C/C++ é¡¹ç®&lt;/a&gt; æ¯æä»¬å¨å®éªæ¥¼ä¸æ¨åºçä¸é¨ xmake å¥é¨åè¿é¶è¯¾ç¨ï¼æ¶è´¹ï¼ï¼ä»¥è¾¹å­¦è¾¹åå®éªçæ¹å¼å¿«éå­¦ä¹  xmake çä½¿ç¨ã&lt;/p&gt;

&lt;p&gt;éè¿æ­¤å¤ä¼æ ç è´­ä¹°å¯äº« 9 æä¼æ ï¼&lt;code class=&quot;highlighter-rouge&quot;&gt;NYFbmf3X&lt;/code&gt;&lt;/p&gt;

&lt;h3 id=&quot;xmake-ä»ç»&quot;&gt;xmake ä»ç»&lt;/h3&gt;

&lt;p&gt;&lt;a href=&quot;https://xmake.io&quot;&gt;Xmake&lt;/a&gt; æ¯ä¸ä¸ªåºäº Lua çè½»éçº§è·¨å¹³å° C/C++ æå»ºå·¥å·ï¼ä½¿ç¨ xmake.lua ç»´æ¤é¡¹ç®æå»ºï¼ç¸æ¯ makefile/CMakeLists.txt èè¨ï¼éç½®è¯­æ³æ´å ç®æ´ç´è§ï¼å¯¹æ°æéå¸¸åå¥½ï¼ç­æ¶é´åå°±è½å¿«éå¥é¨ C/C++ é¡¹ç®çç¼è¯å¼åï¼æä¾ä¸ç«å¼è·¨å¹³å°ç¼è¯ãè¿è¡ãè°è¯ãæåãå®è£ç­æä½ï¼è½å¤è®©å¤§å®¶ææ´å¤çç²¾åéä¸­å¨å®éçé¡¹ç®å¼åä¸ã&lt;/p&gt;

&lt;p&gt;è½ç¶ï¼ç®åæç¨æ¯ xmake çä¸å¤§ç¹è²ï¼ä½ xmake çåè½ä¹æ¯éå¸¸å¼ºå¤§çï¼æ¢è½å¤å make/ninja é£æ ·ç´æ¥ç¼è¯é¡¹ç®ï¼ä¹å¯ä»¥å cmake/meson é£æ ·çæå·¥ç¨æä»¶ï¼è¿æåç½®çåç®¡çç³»ç»æ¥å¸®å©å¤§å®¶è§£å³ C/C++ ä¾èµåºçéæä½¿ç¨é®é¢ã&lt;/p&gt;

&lt;h3 id=&quot;è¯¾ç¨ä»ç»&quot;&gt;è¯¾ç¨ä»ç»&lt;/h3&gt;

&lt;p&gt;æ¬è¯¾ç¨ä»¥å¾ªåºæ¸è¿çæ¹å¼ï¼å¸¦ä½ å¥é¨åè¿é¶ xmakeï¼ä»æåºç¡çç¼è¯éç½®ï¼å°å¤æé¡¹ç®çå®å¶åç»ç»åç»´æ¤ï¼å¨è¯¾ç¨æåå èï¼æä»¬è¿éè¿å®æçæ¹å¼ï¼ä¸æ­¥æ­¥å¸¦ä½ ä½éªç¬¬ä¸æ¹ C/C++ é¡¹ç®çç§»æ¤ç¼è¯ï¼ä»¥å vscode/xmake éæç¯å¢çå¯è§åç¼è¯æä½æµç¨ãæåä¸èå®éªä¸­ï¼æä»¬è¿ä¼è®²è§£å¦ä½ä½¿ç¨ xmake å vscode å»ç¼è¯å¼ååºäº Qt çåºç¨ç¨åºã&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.lanqiao.cn/courses/2764&quot; target=&quot;_blank&quot;&gt;
&lt;img src=&quot;https://dn-simplecloud.shiyanlou.com/courses/uid214893-20200916-1600218561642&quot; alt=&quot;afdian&quot; width=&quot;50%&quot; height=&quot;50%&quot; /&gt;
&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;ä½ å°å­¦å°&quot;&gt;ä½ å°å­¦å°&lt;/h3&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Â &lt;/th&gt;
      &lt;th&gt;Â &lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;C/C++ ç¨åºçç¼è¯è¿è¡åè°è¯&lt;/td&gt;
      &lt;td&gt;xmake åºç¡å½ä»¤ä½¿ç¨&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;C/C++ ä¾èµåºéæåä½¿ç¨&lt;/td&gt;
      &lt;td&gt;å¤§åå·¥ç¨ç»æçç»´æ¤&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;xmake å¤æèæ¬åè§åçç¼å&lt;/td&gt;
      &lt;td&gt;å¦ä½å®ç°è·¨å¹³å°ç¼è¯&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;xmake æä»¶å¼å&lt;/td&gt;
      &lt;td&gt;VS Code/xmake éæç¯å¢çä½¿ç¨&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;xmake çåºç¡è¯­æ³&lt;/td&gt;
      &lt;td&gt;C/C++ é¡¹ç®åºç¡ç¼è¯éç½®&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;å¤ä¸ªç®æ ç¨åºçä¾èµç¼è¯&lt;/td&gt;
      &lt;td&gt;é¢ç¼è¯å¤´æä»¶çè®¾ç½®&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;cmake/makefile å·¥ç¨æä»¶ççæ&lt;/td&gt;
      &lt;td&gt;xmake èæ¬è¿è¡æä»¶çä½¿ç¨&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;C/C++ ä»£ç çç§»æ¤ç¼è¯&lt;/td&gt;
      &lt;td&gt;Qt é¡¹ç®ç¨åºçç¼è¯å¼å&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&quot;è¯¾ç¨é¾æ¥&quot;&gt;è¯¾ç¨é¾æ¥&lt;/h3&gt;

&lt;p&gt;é¾æ¥å°åï¼&lt;a href=&quot;https://www.lanqiao.cn/courses/2764&quot;&gt;https://www.lanqiao.cn/courses/2764&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;æä»¬ä¹å¯ä»¥éè¿æ«æä¸æ¹äºç»´ç è¿å¥è¯¾ç¨ï¼&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://xmake.io/assets/img/xmake_course.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;
</description>
        <pubDate>Fri, 09 Oct 2020 00:00:00 +0800</pubDate>
        <link>https://tboox.org/cn/2020/10/09/xmake-course-build-c-projects/</link>
        <guid isPermaLink="true">https://tboox.org/cn/2020/10/09/xmake-course-build-c-projects/</guid>
        
        <category>xmake</category>
        
        <category>lua</category>
        
        <category>C/C++</category>
        
        <category>course</category>
        
        <category>qt</category>
        
        <category>å®éªæ¥¼</category>
        
        <category>å¥é¨è¯¾ç¨</category>
        
        
        <category>xmake</category>
        
      </item>
    
      <item>
        <title>xmake v2.3.7 released, Add tinyc and emscripten toolchains</title>
        <description>&lt;p&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake&quot;&gt;xmake&lt;/a&gt; is a lightweight cross-platform build tool based on Lua. It uses xmake.lua to maintain project builds. Compared with makefile/CMakeLists.txt, the configuration syntax is more Concise and intuitive, very friendly to novices, can get started quickly in a short time, allowing users to focus more on the actual project development.&lt;/p&gt;

&lt;p&gt;With the continuous iterative development of xmake in recent years, xmake has harvested 2.9K stars, 300+ forks, 30+ contributors on Github, and handled 900+ issues, 5400+ Commits, and active users are also growing.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://tboox.org/static/img/xmake/star-history.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Now, the xmake v2.3.7 version is released. In the new version, we mainly improved the stability and compatibility of xmake itself. Through two months of continuous iteration, we have fixed various user feedback problems, user experience and The stability has been greatly improved.&lt;/p&gt;

&lt;p&gt;In addition, we also added support for TinyC and Emscripten (WebAssembly) compilation tool chains in this version.&lt;/p&gt;

&lt;p&gt;Especially for the windows platform, we provide an additional xmake-tinyc installation package, which has a built-in tinyc compiler, so that users can completely escape the bloated vs environment, one-click installation, out of the box, only 5M installation package is needed Simple C programs can be developed, and a complete set of winapi header files are also included.&lt;/p&gt;

&lt;p&gt;Finally, we also improved the trybuild mode compilation. Through xmake, third-party projects maintained by autotools/cmake can be quickly compiled, and cross-compilation environments such as android/ios/mingw can be quickly connected to achieve rapid migration and compilation.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake&quot;&gt;Project source code&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://xmake.io/&quot;&gt;Official Document&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;new-feature-introduction&quot;&gt;New feature introduction&lt;/h2&gt;

&lt;h3 id=&quot;more-diverse-installation-methods&quot;&gt;More diverse installation methods&lt;/h3&gt;

&lt;p&gt;In the new version, we submitted the xmake installation package to windows winget and ubuntu ppa repositories, we can install xmake more conveniently and quickly.&lt;/p&gt;

&lt;h4 id=&quot;winget-installation&quot;&gt;Winget installation&lt;/h4&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;winget install xmake
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h4 id=&quot;ubuntu-ppa-installation&quot;&gt;Ubuntu PPA installation&lt;/h4&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo add-apt-repository ppa:xmake-io/xmake
sudo apt update
sudo apt install xmake
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Of course, we also support many other installation methods. For detailed installation methods for other platforms, see: &lt;a href=&quot;https://xmake.io/#/guide/installation&quot;&gt;Installation Document&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id=&quot;richer-toolchain-support&quot;&gt;Richer toolchain support&lt;/h3&gt;

&lt;p&gt;Currently we have supported a lot of toolchain environments, and in this version, we have added support for TinyC and Emscripten (WebAssembly) compilation toolchains. We can quickly switch to the corresponding toolchain to compile with the following command.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;xmake f --toolchain&lt;span class=&quot;o&quot;&gt;=[&lt;/span&gt;tinyc|emscripten]
xmake
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;In the new version, we also provide two additional installation packages, built-in and integrated TinyC compilation environment, the entire installation package only needs 5M, and also contains winsdk api.&lt;/p&gt;

&lt;p&gt;The installation package can be found in the github/releases directory of xmake.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/releases/download/v2.3.7/xmake-tinyc-v2.3.7.win64.exe&quot;&gt;xmake-tinyc-v2.3.7.win64.exe&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/releases/download/v2.3.7/xmake-tinyc-v2.3.7.win32.exe&quot;&gt;xmake-tinyc-v2.3.7.win32.exe&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Through this installation package, we can completely get rid of the bloated vs development environment (several G) by compiling and developing C programs, realize one-click installation, and use it out of the box. It is very useful for us to brush leetcode and write some C test code. Yes, there is no need to install the entire vs for this particular installation.&lt;/p&gt;

&lt;p&gt;In addition, if we want to view all toolchains supported by xmake, we can execute the following command, and the compilation configuration of &lt;code class=&quot;highlighter-rouge&quot;&gt;xmake f -p cross --sdk=/xxx&lt;/code&gt; can support more general cross toolchains.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;xmake show -l toolchains
xcode         Xcode IDE
vs            VisualStudio IDE
yasm          The Yasm Modular Assembler
clang         A C language family frontend &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;LLVM
go            Go Programming Language Compiler
dlang         D Programming Language Compiler
gfortran      GNU Fortran Programming Language Compiler
zig           Zig Programming Language Compiler
sdcc          Small Device C Compiler
cuda          CUDA Toolkit
ndk           Android NDK
rust          Rust Programming Language Compiler
llvm          A collection of modular and reusable compiler and toolchain technologies
cross         Common cross compilation toolchain
nasm          NASM Assembler
gcc           GNU Compiler Collection
mingw         Minimalist GNU &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;Windows
gnu-rm        GNU Arm Embedded Toolchain
envs          Environment variables toolchain
fasm          Flat Assembler
tinyc         Tiny C Compiler
emcc          A toolchain &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;compiling to asm.js and WebAssembly
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;trybuild-compilation-mode-improvement&quot;&gt;TryBuild compilation mode improvement&lt;/h3&gt;

&lt;p&gt;The so-called trybuild mode is a feature introduced by xmake that adapts to existing third-party build systems, because most existing third-party projects are maintained by third-party build systems such as autotools/cmake. If they are migrated to xmake The cost of migration is relatively high for configuration.&lt;/p&gt;

&lt;p&gt;Although the configuration of xmake is very easy to use, there is no need to change the build system for projects that have been stably maintained. xmake is mainly used for the construction and maintenance of some new projects.&lt;/p&gt;

&lt;p&gt;Based on this background, xmake adopts the trybuild compilation mode, which is the so-called trial compilation mode, which automatically detects the build system of third-party projects. If it detects that the project is maintained by autotools, it will automatically call &lt;code class=&quot;highlighter-rouge&quot;&gt;./configure; make&lt;/code&gt; to compile.&lt;/p&gt;

&lt;p&gt;If a project maintained by cmake is detected, cmake is automatically called to generate makefile/build.ninja to compile. For users who use xmake, the compilation can always be completed by just executing the command xmake, for example:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;xmake
note: configure found, try building it or you can run &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;xmake f --trybuild&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt; to &lt;span class=&quot;nb&quot;&gt;set &lt;/span&gt;buildsystem &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;pass -y or --confirm&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;y/n/d to skip confirm&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;?
please input: y &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;y/n&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
y
  ...
  CC src/pcre2grep-pcre2grep.o
  CC src/libpcre2_8_la-pcre2_auto_possess.lo
  CC src/libpcre2_8_la-pcre2_config.lo
  ...
build ok!
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;After xmake detects the autotools build system, it will prompt the user if you need to try to call autotools to compile. After typing y to confirm, you can directly complete the compilation. For cmake projects, you only need to execute the same &lt;code class=&quot;highlighter-rouge&quot;&gt;xmake&lt;/code&gt; command.&lt;/p&gt;

&lt;p&gt;You donât need to care about how autotools/cmake needs to be configured, used and compiled. After all, cmake needs to generate different build files for windows and linux platforms. The compilation methods are also different. One will call make and the other will call msbuild. Big.&lt;/p&gt;

&lt;p&gt;Not only that, xmake also docked with &lt;code class=&quot;highlighter-rouge&quot;&gt;xmake -r&lt;/code&gt; to directly recompile, docked with &lt;code class=&quot;highlighter-rouge&quot;&gt;xmake clean&lt;/code&gt; to achieve unified file cleaning, and docked with &lt;code class=&quot;highlighter-rouge&quot;&gt;xmake -v&lt;/code&gt; to achieve unified detailed compilation command viewing.&lt;/p&gt;

&lt;h4 id=&quot;trybuilds-cross-compilation-support&quot;&gt;TryBuildâs cross-compilation support&lt;/h4&gt;

&lt;p&gt;If itâs just the compilation of the current host platform, you might say, whatâs the matter, cmake also has &lt;code class=&quot;highlighter-rouge&quot;&gt;cmake --build .&lt;/code&gt; to compile directly, it is not too troublesome.&lt;/p&gt;

&lt;p&gt;So the question is, how to do cross compilation? If you have used autotools/cmake to cross-compile and generate mingw/android/ios target programs, can cmake and autotools still handle it simply and consistently?&lt;/p&gt;

&lt;p&gt;Autotools will not say much, anyway, I hate its cross-experience. Every time I cross-compile and transplant a code with an autotools project, it takes a long time. I often have to package various errors and study the transfer of various configuration parameters. Different platforms have different configurations.&lt;/p&gt;

&lt;p&gt;And cmake I donât think itâs easy to use, for example, for the Android platform, I have to do it like this:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;cmake &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    -DCMAKE_TOOLCHAIN_FILE&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$NDK&lt;/span&gt;/build/cmake/android.toolchain.cmake &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    -DANDROID_ABI&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ABI&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    -DANDROID_NATIVE_API_LEVEL&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$MINSDKVERSION&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$OTHER_ARGS&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;For the ios platform, I did not find a short-answer configuration method, but found a third-party ios toolchain configuration, which is very complicated: https://github.com/leetal/ios-cmake/blob/master/ios.toolchain.cmake&lt;/p&gt;

&lt;p&gt;For mingw, it is another way. I have been tossing about the environment for a long time, which is very tossing.&lt;/p&gt;

&lt;p&gt;Then if you use xmake to dock cmake to achieve cross-compilation, you only need to do this.&lt;/p&gt;

&lt;p&gt;Compile the android program:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;xmake f -p android --trybuild&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;cmake --ndk&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/xxx
xmake
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Compile the ios program:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;xmake f -p iphoneos --trybuild&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;cmake
xmake
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Compile the mingw program:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;xmake f -p mingw --trybuild&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;cmake --mingw&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/sdk/xxx
xmake
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;When we only need to configure, enable cmakeâs try-compilation mode through &lt;code class=&quot;highlighter-rouge&quot;&gt;--trybuild=cmake&lt;/code&gt;, and then switch to the corresponding platform through &lt;code class=&quot;highlighter-rouge&quot;&gt;-p android/iphoneos/mingw&lt;/code&gt;, dock the corresponding SDK, and you can use the same method To quickly implement cross-compilation, even if this project is maintained by cmake.&lt;/p&gt;

&lt;p&gt;The user does not need to be concerned. If you use cmake to transfer the configuration of different toolchains, xmake will automatically handle it for you. You only need to execute xmake to compile, or execute &lt;code class=&quot;highlighter-rouge&quot;&gt;xmake -r&lt;/code&gt; to recompile, or view compilation details&lt;code class=&quot;highlighter-rouge&quot;&gt; xmake -v&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;In addition, you can quickly switch the build architecture by &lt;code class=&quot;highlighter-rouge&quot;&gt;xmake f -p iphoneos -a arm64 --trybuild=cmake&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Finally, we need to explain that although trybuild mode can greatly help users save compilation and configuration operations, if the conditions are run, we still hope that everyone can directly use xmake.lua to maintain their projects.&lt;/p&gt;

&lt;p&gt;In this way, there is no need to compile with trybuild, and xmake will support cross-compilation more perfectly, because internal xmake will directly compile the project without calling cmake, autotools and other tools, for example:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;xmake f -p iphoneos
xmake
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;or&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;xmake f -p android --ndk&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/xxx
xmake
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;As you can see, this time we omit the &lt;code class=&quot;highlighter-rouge&quot;&gt;--trybuild=cmake&lt;/code&gt; parameter, because we donât need it, we compile directly. At this time, xmake is equivalent to independent make/ninja and does not rely on make at all, and the compilation speed is also Can be completely comparable to ninja.&lt;/p&gt;

&lt;h3 id=&quot;improve-the-integration-of-remote-dependency-packages&quot;&gt;Improve the integration of remote dependency packages&lt;/h3&gt;

&lt;h4 id=&quot;cross-compilation-support&quot;&gt;Cross compilation support&lt;/h4&gt;

&lt;p&gt;xmake not only supports mingw/autotools cross-compilation support for trybuild, but also supports cross-compilation installation and integration for third parties maintained by cmake/autotools in remote package warehouses.&lt;/p&gt;

&lt;p&gt;E.g:&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;add_requires&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;pcre2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;set_kind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;binary&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_files&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;src/*.cpp&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;pcre2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Then by switching to the iphoneos platform, you can quickly integrate and install the pcre2 package of the iphoneos platform, and then compile and link it, even if the pcre2 package is maintained by autotools/cmake.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;xmake f -p iphoneos
xmake
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h4 id=&quot;private-network-package-warehouse&quot;&gt;Private network package warehouse&lt;/h4&gt;

&lt;p&gt;In this version, we have also made some improvements to the integration of remote dependency packages. For example, you can switch to private network mode by configuring &lt;code class=&quot;highlighter-rouge&quot;&gt;xmake g --network=private&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;This is mainly used for some companyâs internal network through xmakeâs self-built package management warehouse to achieve closed C/C++ dependency package integration, and will not rely on packages from the official warehouse provided by xmake.&lt;/p&gt;

&lt;h4 id=&quot;recursively-export-installed-packages&quot;&gt;Recursively export installed packages&lt;/h4&gt;

&lt;p&gt;xmake previously provided a command to export all third-party dependency packages installed by xmake.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;xmake require --export
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;However, the previous version corresponds to some packages that have dependencies. When exporting, only itself will be exported, and all its dependencies will not be exported. In this version, we have improved it and will also perform all corresponding dependent packages.äºexport.&lt;/p&gt;

&lt;h3 id=&quot;improve-support-for-qt-sdk-environment&quot;&gt;Improve support for Qt SDK environment&lt;/h3&gt;

&lt;p&gt;In addition, this version also provides better support for the Qt SDK toolchain environment. For example, the Qt SDK toolchain installed by the apt command under the ubuntu system is also supported, while the previous version can only support downloading and installing from the Qt official website The Qt SDK environment.&lt;/p&gt;

&lt;h2 id=&quot;changelog&quot;&gt;Changelog&lt;/h2&gt;

&lt;h3 id=&quot;new-features&quot;&gt;New features&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/microsoft/winget-pkgs/pull/2941&quot;&gt;#2941&lt;/a&gt;: Add support for winget&lt;/li&gt;
  &lt;li&gt;Add xmake-tinyc installer without msvc compiler for windows&lt;/li&gt;
  &lt;li&gt;Add tinyc compiler toolchain&lt;/li&gt;
  &lt;li&gt;Add emcc compiler toolchain (emscripten) to compiling to asm.js and WebAssembly&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/947&quot;&gt;#947&lt;/a&gt;: Add &lt;code class=&quot;highlighter-rouge&quot;&gt;xmake g --network=private&lt;/code&gt; to enable the private network&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;change&quot;&gt;Change&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/907&quot;&gt;#907&lt;/a&gt;: Improve to the linker optimization for msvc&lt;/li&gt;
  &lt;li&gt;Improve to detect qt sdk environment&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/pull/918&quot;&gt;#918&lt;/a&gt;: Improve to support cuda11 toolchains&lt;/li&gt;
  &lt;li&gt;Improve Qt support for ubuntu/apt&lt;/li&gt;
  &lt;li&gt;Improve CMake project generator&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/931&quot;&gt;#931&lt;/a&gt;: Support to export packages with all dependences&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/930&quot;&gt;#930&lt;/a&gt;: Support to download package without version list directly&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/927&quot;&gt;#927&lt;/a&gt;: Support to switch arm/thumb mode for android ndk&lt;/li&gt;
  &lt;li&gt;Improve trybuild/cmake to support android/mingw/iphoneos/watchos toolchains&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;bugs-fixed&quot;&gt;Bugs fixed&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/903&quot;&gt;#903&lt;/a&gt;: Fix install vcpkg packages fails&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/912&quot;&gt;#912&lt;/a&gt;: Fix the custom toolchain&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/914&quot;&gt;#914&lt;/a&gt;: Fix bad light userdata pointer for lua on some aarch64 devices&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Mon, 14 Sep 2020 00:00:00 +0800</pubDate>
        <link>https://tboox.org/2020/09/14/xmake-update-v2.3.7/</link>
        <guid isPermaLink="true">https://tboox.org/2020/09/14/xmake-update-v2.3.7/</guid>
        
        <category>xmake</category>
        
        <category>lua</category>
        
        <category>C/C++</category>
        
        <category>toolchains</category>
        
        <category>tinyc</category>
        
        <category>emscripten</category>
        
        <category>qt</category>
        
        <category>cuda</category>
        
        
        <category>xmake</category>
        
      </item>
    
      <item>
        <title>xmake v2.3.7 åå¸, æ°å¢ tinyc å emscripten å·¥å·é¾æ¯æ</title>
        <description>&lt;p&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake&quot;&gt;xmake&lt;/a&gt; æ¯ä¸ä¸ªåºäº Lua çè½»éçº§è·¨å¹³å°æå»ºå·¥å·ï¼ä½¿ç¨ xmake.lua ç»´æ¤é¡¹ç®æå»ºï¼ç¸æ¯ makefile/CMakeLists.txtï¼éç½®è¯­æ³æ´å ç®æ´ç´è§ï¼å¯¹æ°æéå¸¸åå¥½ï¼ç­æ¶é´åå°±è½å¿«éå¥é¨ï¼è½å¤è®©ç¨æ·ææ´å¤çç²¾åéä¸­å¨å®éçé¡¹ç®å¼åä¸ã&lt;/p&gt;

&lt;p&gt;éç xmake æè¿å å¹´ä¸æ­çè¿­ä»£åå±ï¼xmake å·²ç»å¨ Github æ¶è· 2.9K starï¼300+ forkï¼30+ è´¡ç®èï¼å¹¶ä¸å¤çäº 900+ issuesï¼5400+ Commitsï¼æ´»è·ç¨æ·ä¹å¨ä¸æ­å¢é¿ã&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://tboox.org/static/img/xmake/star-history.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ç°å¨ï¼xmake v2.3.7 çæ¬åå¸äºï¼å¨æ°çæ¬ä¸­ï¼æä»¬ä¸»è¦å®åäº xmake èªèº«çç¨³å®æ§åå¼å®¹æ§ï¼éè¿ä¸¤ä¸ªæçä¸æ­è¿­ä»£ï¼ä¿®å¤äºå¾å¤ç¨æ·åé¦çåç§ä½¿ç¨é®é¢ï¼ä½¿ç¨ä½éªåç¨³å®æ§æäºå¾å¤§çæåã&lt;/p&gt;

&lt;p&gt;å¦å¤ï¼æä»¬å¨è¿ä¸ªçæ¬ä¸­ä¹æ°å¢å¯¹ TinyC å Emscripten (WebAssembly) ç¼è¯å·¥å·é¾çæ¯æã&lt;/p&gt;

&lt;p&gt;å°¤å¶æ¯éå¯¹ windows å¹³å°ï¼æä»¬æä¾äºé¢å¤ç xmake-tinyc å®è£åï¼éé¢åç½®äº tinyc ç¼è¯å¨ï¼ä½¿å¾ç¨æ·å¯ä»¥å®å¨è±ç¦»èè¿ç vs ç¯å¢ï¼ä¸é®å®è£ï¼å¼ç®±å³ç¨ï¼åªéè¦ 5M çå®è£åå³å¯å¼åç®åç C ç¨åºï¼åæ¶è¿èªå¸¦äºæ´å¥ winapi å¤´æä»¶ã&lt;/p&gt;

&lt;p&gt;æåï¼æä»¬è¿æ¹è¿äº trybuild æ¨¡å¼ç¼è¯ï¼éè¿ xmake å¯ä»¥å¿«éç¼è¯ autotools/cmake ç»´æ¤çç¬¬ä¸æ¹é¡¹ç®ï¼å¹¶ä¸å¯ä»¥å¿«éå¯¹æ¥ android/ios/mingwç­äº¤åç¼è¯ç¯å¢ï¼å®ç°å¿«éç§»æ¤ç¼è¯ã&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake&quot;&gt;é¡¹ç®æºç &lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://xmake.io/#/zh-cn/&quot;&gt;å®æ¹ææ¡£&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;æ°ç¹æ§ä»ç»&quot;&gt;æ°ç¹æ§ä»ç»&lt;/h2&gt;

&lt;h3 id=&quot;æ´å å¤æ ·çå®è£æ¹å¼&quot;&gt;æ´å å¤æ ·çå®è£æ¹å¼&lt;/h3&gt;

&lt;p&gt;æ°çæ¬ä¸­ï¼æä»¬å° xmake å®è£åæäº¤å°äº windows winget ä»¥å ubuntu ppa ä»åºï¼æä»¬å¯ä»¥æ´å æ¹ä¾¿å¿«æ·å°å®è£ xmakeã&lt;/p&gt;

&lt;h4 id=&quot;winget-å®è£&quot;&gt;Winget å®è£&lt;/h4&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;winget install xmake
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h4 id=&quot;ubuntu-ppa-å®è£&quot;&gt;Ubuntu PPA å®è£&lt;/h4&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo add-apt-repository ppa:xmake-io/xmake
sudo apt update
sudo apt install xmake
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;å½ç¶ï¼æä»¬è¿æ¯æå¾å¤å¶ä»çå®è£æ¹å¼ï¼å¯¹äºå¶ä»å¹³å°çè¯¦ç»å®è£æ¹å¼è§ï¼&lt;a href=&quot;https://xmake.io/#/zh-cn/guide/installation&quot;&gt;å®è£ææ¡£&lt;/a&gt;ã&lt;/p&gt;

&lt;h3 id=&quot;æ´å ä¸°å¯çå·¥å·é¾æ¯æ&quot;&gt;æ´å ä¸°å¯çå·¥å·é¾æ¯æ&lt;/h3&gt;

&lt;p&gt;å½åæä»¬å·²ç»æ¯æéå¸¸å¤çå·¥å·é¾ç¯å¢ï¼èå¨è¿ä¸ªçæ¬ä¸­ï¼æä»¬åæ°å¢äº TinyC å Emscripten (WebAssembly) ç¼è¯å·¥å·é¾çæ¯æï¼æä»¬å¯ä»¥éè¿ä¸é¢çå½ä»¤å¿«éåæ¢å°å¯¹åºçå·¥å·é¾æ¥ç¼è¯ã&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;xmake f --toolchain&lt;span class=&quot;o&quot;&gt;=[&lt;/span&gt;tinyc|emscripten]
xmake
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;æä»¬è¿å¨æ°çæ¬ä¸­ï¼é¢å¤æä¾äºä¸¤ä¸ªå®è£åï¼åç½®éæäº TinyC ç¼è¯ç¯å¢ï¼æ´ä¸ªå®è£ååªéè¦ 5Mï¼è¿åå«äº winsdk apiã&lt;/p&gt;

&lt;p&gt;å®è£åå¯ä»¥å¨ xmake ç github/releases ç®å½ä¸æ¾å°ã&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/releases/download/v2.3.7/xmake-tinyc-v2.3.7.win64.exe&quot;&gt;xmake-tinyc-v2.3.7.win64.exe&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/releases/download/v2.3.7/xmake-tinyc-v2.3.7.win32.exe&quot;&gt;xmake-tinyc-v2.3.7.win32.exe&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;éè¿è¿ä¸ªå®è£åï¼æä»¬ç¼è¯å¼å C ç¨åºå°±å¯ä»¥å®å¨æè±èè¿ç vs å¼åç¯å¢ï¼å¥½å ä¸ª Gï¼ï¼å®ç°ä¸é®å®è£ï¼å¼ç®±å³ç¨ï¼å¯¹äºæä»¬å¹³å¸¸å·å· leetcodeï¼åç¹ C æµè¯ä»£ç è¿æ¯éå¸¸æç¨çï¼æ²¡å¿è¦ä¸ºæ­¤ç¹å®å®è£æ´ä¸ª vs è¿æ¥ã&lt;/p&gt;

&lt;p&gt;å¦å¤ï¼å¦ææä»¬è¦æ¥ç xmake æ¯æçææå·¥å·é¾ï¼å¯ä»¥æ§è¡ä¸é¢çå½ä»¤ï¼å¦å¤ &lt;code class=&quot;highlighter-rouge&quot;&gt;xmake f -p cross --sdk=/xxx&lt;/code&gt; çç¼è¯éç½®å¯ä»¥æ¯ææ´å¤éç¨çäº¤åå·¥å·é¾ã&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;xmake show -l toolchains
xcode         Xcode IDE
vs            VisualStudio IDE
yasm          The Yasm Modular Assembler
clang         A C language family frontend &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;LLVM
go            Go Programming Language Compiler
dlang         D Programming Language Compiler
gfortran      GNU Fortran Programming Language Compiler
zig           Zig Programming Language Compiler
sdcc          Small Device C Compiler
cuda          CUDA Toolkit
ndk           Android NDK
rust          Rust Programming Language Compiler
llvm          A collection of modular and reusable compiler and toolchain technologies
cross         Common cross compilation toolchain
nasm          NASM Assembler
gcc           GNU Compiler Collection
mingw         Minimalist GNU &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;Windows
gnu-rm        GNU Arm Embedded Toolchain
envs          Environment variables toolchain
fasm          Flat Assembler
tinyc         Tiny C Compiler
emcc          A toolchain &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;compiling to asm.js and WebAssembly
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;trybuild-ç¼è¯æ¨¡å¼æ¹è¿&quot;&gt;TryBuild ç¼è¯æ¨¡å¼æ¹è¿&lt;/h3&gt;

&lt;p&gt;æè° trybuild æ¨¡å¼ï¼å°±æ¯ xmake æ¨åºçä¸ä¸ªééç°æç¬¬ä¸æ¹æå»ºç³»ç»çç¹æ§ï¼å ä¸ºç°å¨å¤§é¨åå·²æçç¬¬ä¸æ¹é¡¹ç®é½æ¯ç¨ autotools/cmake ç­ç¬¬ä¸æ¹æå»ºç³»ç»ç»´æ¤çï¼å¦æå°å®ä»¬è¿ç§»å° xmake éç½®é£ä¹è¿ç§»ææ¬è¿æ¯æ¯è¾é«çã&lt;/p&gt;

&lt;p&gt;è½ç¶ xmake çéç½®ç¼åéå¸¸ç®åä¸æï¼ä½ä¹æ²¡å¿è¦å¯¹å·²ç»ç¨³å®ç»´æ¤çé¡¹ç®å»å¤§æ¹æå»ºç³»ç»ï¼xmake ä¸»è¦è¿æ¯ç¨äºä¸äºæ°é¡¹ç®çæå»ºç»´æ¤ã&lt;/p&gt;

&lt;p&gt;åºäºæ­¤èæ¯ï¼xmake éç¨ trybuild ç¼è¯æ¨¡å¼ï¼ä¹å°±æ¯æè°çå°è¯ç¼è¯æ¨¡å¼ï¼éè¿èªå¨æ¢æµç¬¬ä¸æ¹é¡¹ç®çæå»ºç³»ç»ï¼å¦ææ£æµå°æ¯ autotools ç»´æ¤çé¡¹ç®ï¼é£ä¹èªå¨è°ç¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;./configure; make&lt;/code&gt; æ¥ç¼è¯ã&lt;/p&gt;

&lt;p&gt;å¦ææ£æµå°æ¯ç¨ cmake ç»´æ¤çé¡¹ç®ï¼é£ä¹èªå¨è°ç¨ cmake æ¥çæ makefile/build.ninja æ¥ç¼è¯ï¼å¯¹äºä½¿ç¨ xmake çç¨æ·èè¨ï¼å§ç»åªæ¯æ§è¡ xmake è¿ä¸ä¸ªå½ä»¤å°±å¯ä»¥å®æç¼è¯ï¼ä¾å¦ï¼&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;xmake
note: configure found, try building it or you can run &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;xmake f --trybuild&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt; to &lt;span class=&quot;nb&quot;&gt;set &lt;/span&gt;buildsystem &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;pass -y or --confirm&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;y/n/d to skip confirm&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;?
please input: y &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;y/n&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
y
  ...
  CC       src/pcre2grep-pcre2grep.o
  CC       src/libpcre2_8_la-pcre2_auto_possess.lo
  CC       src/libpcre2_8_la-pcre2_config.lo
  ...
build ok!
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;xmakeæ£æµå° autotools æå»ºç³»ç»åï¼å°±ä¼æç¤ºç¨æ·æ¯å¦éè¦å°è¯è°ç¨ autotools æ¥ç¼è¯ï¼è¾å¥yç¡®è®¤åï¼å°±å¯ä»¥ç´æ¥å®æç¼è¯ï¼å¯¹äº cmake çé¡¹ç®ä¹æ¯ï¼åªéè¦æ§è¡ç¸åç &lt;code class=&quot;highlighter-rouge&quot;&gt;xmake&lt;/code&gt; å½ä»¤å³å¯ã&lt;/p&gt;

&lt;p&gt;èä¸éè¦å³å¿ autotools/cmake éè¦å¦ä½å»éç½®ä½¿ç¨åç¼è¯ï¼æ¯ç« cmake å¯¹äº windows å linux å¹³å°ï¼éè¦çæä¸åçæå»ºæä»¶ï¼ç¼è¯æ¹å¼ä¹æ¯ä¸åçï¼ä¸ä¼è°ç¨ makeï¼ä¸ä¼è°ç¨ msbuildï¼ççå°±å¤´å¤§ã&lt;/p&gt;

&lt;p&gt;ä¸ä»å¦æ­¤ï¼xmake è¿å¯¹æ¥äº &lt;code class=&quot;highlighter-rouge&quot;&gt;xmake -r&lt;/code&gt; æ¥ç´æ¥éæ°ç¼è¯ï¼å¯¹æ¥ &lt;code class=&quot;highlighter-rouge&quot;&gt;xmake clean&lt;/code&gt; å®ç°ç»ä¸çæä»¶æ¸çï¼å¯¹æ¥ &lt;code class=&quot;highlighter-rouge&quot;&gt;xmake -v&lt;/code&gt; å®ç°ç»ä¸çè¯¦ç»ç¼è¯å½ä»¤çæ¥çã&lt;/p&gt;

&lt;h4 id=&quot;trybuild-çäº¤åç¼è¯æ¯æ&quot;&gt;TryBuild çäº¤åç¼è¯æ¯æ&lt;/h4&gt;

&lt;p&gt;å¦æåªæ¯å½åä¸»æºå¹³å°çç¼è¯ï¼ä¹è®¸ä½ ä»¬ä¼è¯´ï¼è¿æå¥ï¼cmake ä¹æ &lt;code class=&quot;highlighter-rouge&quot;&gt;cmake --build .&lt;/code&gt; æ¥ç´æ¥ç¼è¯ï¼å¹¶ä¸æä¹éº»ç¦ä¹ã&lt;/p&gt;

&lt;p&gt;é£ä¹é®é¢æ¥äºï¼äº¤åç¼è¯æä¹æï¼å¦æä½ ä»¬ç¨è¿ autotools/cmake å»äº¤åç¼è¯çæ mingw/android/ios çç®æ ç¨åºï¼cmake å autotools è¿è½å¤ç®åä¸è´çå¤çä¹ï¼&lt;/p&gt;

&lt;p&gt;autotools ä¸å¤è¯´ï¼åæ­£ææ¯å¯¹å®çäº¤åä½éªæ¯æ·±æ¶çç»çï¼æ¯æ¬¡äº¤åç¼è¯ç§»æ¤ä¸ä¸ªå¸¦æ autotools é¡¹ç®çä»£ç ï¼é½è¦æè¾åå¤©ï¼ç»å¸¸è¦ååç§éè¯¯ï¼ç ç©¶åç§éç½®åæ°çä¼ éï¼ä¸åå¹³å°çéç½®è¿ä¸åã&lt;/p&gt;

&lt;p&gt;è cmake ææè§ç¨èµ·æ¥ä¹ä¸çäºï¼æ¯å¦å¯¹äº Android å¹³å°å¾è¿æ ·æï¼&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;$ &lt;/span&gt;cmake &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    -DCMAKE_TOOLCHAIN_FILE&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$NDK&lt;/span&gt;/build/cmake/android.toolchain.cmake &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    -DANDROID_ABI&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ABI&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    -DANDROID_NATIVE_API_LEVEL&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$MINSDKVERSION&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$OTHER_ARGS&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;èå¯¹äº ios å¹³å°ï¼æ²¡æ¾å°ç®ç­çéç½®æ¹å¼ï¼å°±æ¾å°ä¸ªç¬¬ä¸æ¹ç ios å·¥å·é¾éç½®ï¼å¾å¤æï¼https://github.com/leetal/ios-cmake/blob/master/ios.toolchain.cmake&lt;/p&gt;

&lt;p&gt;å¯¹äº mingw åæ¯å¦å¤ä¸ç§æ¹å¼ï¼æåæè¾äºåå¤©ç¯å¢ï¼å¾æ¯æè¾ã&lt;/p&gt;

&lt;p&gt;é£å¦æä½¿ç¨ xmake å»å¯¹æ¥ cmake å®ç°äº¤åç¼è¯å¢ï¼åªéè¦è¿æ ·ã&lt;/p&gt;

&lt;p&gt;ç¼è¯ android ç¨åºï¼&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;xmake f -p android --trybuild&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;cmake --ndk&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/xxx
xmake
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;ç¼è¯ ios ç¨åºï¼&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;xmake f -p iphoneos --trybuild&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;cmake
xmake
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;ç¼è¯ mingw ç¨åºï¼&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;xmake f -p mingw --trybuild&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;cmake --mingw&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/sdk/xxx
xmake
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;æä»¬åªéè¦éç½®çæ¶åï¼éè¿ &lt;code class=&quot;highlighter-rouge&quot;&gt;--trybuild=cmake&lt;/code&gt; å¯ç¨ cmake çå°è¯ç¼è¯æ¨¡å¼ï¼ç¶åéè¿ &lt;code class=&quot;highlighter-rouge&quot;&gt;-p android/iphoneos/mingw&lt;/code&gt; åå°å¯¹åºçå¹³å°ï¼å¯¹æ¥å¯¹åºçsdkï¼å°±å¯ä»¥ä½¿ç¨ç¸åçæ¹å¼æ¥å¿«éå®ç°äº¤åç¼è¯ï¼åªæè¿ä¸ªé¡¹ç®æ¯ä½¿ç¨ cmake æ¥ç»´æ¤çã&lt;/p&gt;

&lt;p&gt;ç¨æ·ä¸éè¦å³ç³»å¦æä½¿ç¨ cmake å»ä¼ éä¸åå·¥å·é¾çéç½®ï¼xmake é½å¸®ä½ èªå¨å¤çäºï¼ä½ åªéè¦ç®åçæ§è¡ xmake æ¥ç¼è¯ï¼ä¹å¯ä»¥æ§è¡ &lt;code class=&quot;highlighter-rouge&quot;&gt;xmake -r&lt;/code&gt; æ¥éç¼ï¼æèæ¥çç¼è¯è¯¦æ &lt;code class=&quot;highlighter-rouge&quot;&gt;xmake -v&lt;/code&gt;ã&lt;/p&gt;

&lt;p&gt;å¦å¤ï¼è¿å¯ä»¥éè¿ &lt;code class=&quot;highlighter-rouge&quot;&gt;xmake f -p iphoneos -a arm64 --trybuild=cmake&lt;/code&gt; å¿«éçåæ¢ç¼è¯æ¶æã&lt;/p&gt;

&lt;p&gt;æåï¼æä»¬éè¦è¯´æçæ¯ï¼è½ç¶ trybuild æ¨¡å¼å¯ä»¥æå¤§å¸®å©ç¨æ·èçç¼è¯åéç½®æä½ï¼ä½æ¯å¦ææ¡ä»¶è¿è¡ï¼æä»¬è¿æ¯å¸æå¤§å®¶è½å¤ç´æ¥ä½¿ç¨ xmake.lua æ¥ç»´æ¤èªå·±çé¡¹ç®ã&lt;/p&gt;

&lt;p&gt;è¿æ ·ï¼å°±ä¸éè¦èµ° trybuild ç¼è¯äºï¼xmake ä¼æ´å å®ç¾çæ¯æäº¤åç¼è¯ï¼å ä¸ºåé¨ xmake ä¼ç´æ¥å»ç¼è¯é¡¹ç®ï¼èä¸éè¦å¨è°ç¨ cmakeãautotools ç­å·¥å·äºï¼ä¾å¦ï¼&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;xmake f -p iphoneos
xmake
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;æè&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;xmake f -p android --ndk&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/xxx
xmake
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;å¯ä»¥çå°ï¼è¿åæä»¬çå»äº &lt;code class=&quot;highlighter-rouge&quot;&gt;--trybuild=cmake&lt;/code&gt; åæ°ï¼å ä¸ºä¸éè¦äºï¼æä»¬æ¯ç´æ¥ç¼è¯çï¼è¿ä¸ªæ¶å xmake ç¸å½äºç¬ç«ç make/ninjaï¼å¹¶ä¸å®å¨ä¸ä¾èµ makeï¼ç¼è¯éåº¦ä¹å¯ä»¥å®å¨åª²ç¾ ninjaã&lt;/p&gt;

&lt;h3 id=&quot;æ¹è¿è¿ç¨ä¾èµåçéæ&quot;&gt;æ¹è¿è¿ç¨ä¾èµåçéæ&lt;/h3&gt;

&lt;h4 id=&quot;äº¤åç¼è¯æ¯æ&quot;&gt;äº¤åç¼è¯æ¯æ&lt;/h4&gt;

&lt;p&gt;xmake ä¸ä»å¯¹ trybuild æ¯æäº mingw/autotools çäº¤åç¼è¯æ¯æï¼è¿å¯¹è¿ç¨åä»åºä¸­ä½¿ç¨ cmake/autotools ç»´æ¤çç¬¬ä¸æ¹ä¹æ¯æä¸äºäº¤åç¼è¯å®è£åéæã&lt;/p&gt;

&lt;p&gt;ä¾å¦ï¼&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;add_requires&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;pcre2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;set_kind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;binary&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_files&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;src/*.cpp&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;pcre2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;ç¶åéè¿åæ¢å° iphoneos å¹³å°ï¼å°±å¯ä»¥å¿«ééæå®è£ iphoneos å¹³å°ç pcre2 åï¼ç¶åç¼è¯é¾æ¥å®ï¼åªæè¿ä¸ª pcre2 åæ¯éè¿ autotools/cmake ç»´æ¤çã&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;xmake f -p iphoneos
xmake
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h4 id=&quot;ç§æç½ç»åä»åº&quot;&gt;ç§æç½ç»åä»åº&lt;/h4&gt;

&lt;p&gt;è¿ä¸ªçæ¬ä¸­ï¼æä»¬å¯¹è¿ç¨ä¾èµåçéæä¹ç¨å¾®åäºä¸äºæ¹è¿ï¼æ¯å¦å¯ä»¥éè¿éç½® &lt;code class=&quot;highlighter-rouge&quot;&gt;xmake g --network=private&lt;/code&gt; åå°ç§æç½ç»æ¨¡å¼ã&lt;/p&gt;

&lt;p&gt;è¿ä¸ªä¸»è¦ç¨äºä¸äºå¬å¸åé¨ç½ç»éè¿ xmake èªå»ºçåç®¡çä»åºï¼å®ç°å°é­å¼ç C/C++ ä¾èµåéæï¼å®å¨ä¸ä¼ä» xmake æä¾çå®æ¹ä»åºä¸æ¥ä¾èµåã&lt;/p&gt;

&lt;h4 id=&quot;éå½å¯¼åºå®è£çå&quot;&gt;éå½å¯¼åºå®è£çå&lt;/h4&gt;

&lt;p&gt;xmake ä¹åæä¾äºä¸ä¸ªå½ä»¤ï¼å¯ä»¥å¯¼åºéè¿ xmake å®è£çææç¬¬ä¸æ¹ä¾èµåã&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;xmake require --export
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;ä½æ¯ï¼ä¹åççæ¬å¯¹åºä¸äºå­å¨ä¾èµçåï¼å¯¼åºæ¶ååªä¼å¯¼åºèªèº«ï¼å®çææä¾èµæ¯ä¸ä¼è¢«å¯¼åºçï¼èè¿ä¸ªçæ¬ä¸­ï¼æä»¬å¯¹å¶è¿è¡äºæ¹è¿ï¼å°å¯¹åºçææä¾èµåä¹è¿è¡äºå¯¼åºã&lt;/p&gt;

&lt;h3 id=&quot;æ¹è¿å¯¹-qt-sdk-ç¯å¢çæ¯æ&quot;&gt;æ¹è¿å¯¹ Qt SDK ç¯å¢çæ¯æ&lt;/h3&gt;

&lt;p&gt;å¦å¤ï¼è¿ä¸ªçæ¬æä»¬è¿å¯¹ Qt SDK çå·¥å·é¾ç¯å¢è¿è¡äºæ´å¥½çæ¯æï¼æ¯å¦ ubuntu ç³»ç»ä¸éè¿ apt å½ä»¤å®è£ç Qt SDK å·¥å·é¾ä¹è¿è¡äºæ¯æï¼èä¹åççæ¬åªè½æ¯æä» Qt å®ç½ä¸è½½å®è£ç Qt SDK ç¯å¢ã&lt;/p&gt;

&lt;h2 id=&quot;æ´æ°åå®¹&quot;&gt;æ´æ°åå®¹&lt;/h2&gt;

&lt;h3 id=&quot;æ°ç¹æ§&quot;&gt;æ°ç¹æ§&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/microsoft/winget-pkgs/pull/2941&quot;&gt;#2941&lt;/a&gt;: æ¯æéè¿ winget æ¥å®è£ xmake&lt;/li&gt;
  &lt;li&gt;æ·»å  xmake-tinyc å®è£åï¼åç½®tinycç¼è¯å¨ï¼æ¯æwindowsä¸æ msvcç¯å¢ä¹å¯ç´æ¥ç¼è¯cä»£ç &lt;/li&gt;
  &lt;li&gt;æ·»å  tinyc ç¼è¯å·¥å·é¾&lt;/li&gt;
  &lt;li&gt;æ·»å  emcc (emscripten) ç¼è¯å·¥å·é¾å»ç¼è¯ asm.js å WebAssembly&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/947&quot;&gt;#947&lt;/a&gt;: éè¿ &lt;code class=&quot;highlighter-rouge&quot;&gt;xmake g --network=private&lt;/code&gt; éç½®è®¾ç½®ç§æç½ç»æ¨¡å¼ï¼é¿åè¿ç¨ä¾èµåä¸è½½è®¿é®å¤ç½å¯¼è´ç¼è¯å¤±è´¥&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;æ¹è¿&quot;&gt;æ¹è¿&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/907&quot;&gt;#907&lt;/a&gt;: æ¹è¿msvcçé¾æ¥å¨ä¼åéé¡¹ï¼çææ´å°çå¯æ§è¡ç¨åº&lt;/li&gt;
  &lt;li&gt;æ¹è¿ubuntuä¸Qtç¯å¢çæ¯æ&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/pull/918&quot;&gt;#918&lt;/a&gt;: æ¹è¿cuda11å·¥å·é¾çæ¯æ&lt;/li&gt;
  &lt;li&gt;æ¹è¿Qtæ¯æï¼å¯¹éè¿ ubuntu/apt å®è£çQt sdkä¹è¿è¡äºæ¢æµæ¯æï¼å¹¶ä¸æ£æµæçä¹ä¼åäºä¸&lt;/li&gt;
  &lt;li&gt;æ¹è¿ CMake å·¥ç¨æä»¶çæå¨&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/931&quot;&gt;#931&lt;/a&gt;: æ¹è¿å¯¼åºåï¼æ¯æå¯¼åºææä¾èµå&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/930&quot;&gt;#930&lt;/a&gt;: å¦æç§æåå®ä¹æ²¡æçæ¬å®ä¹ï¼æ¯æç´æ¥å°è¯ä¸è½½å&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/927&quot;&gt;#927&lt;/a&gt;: æ¹è¿android ndkï¼æ¯æarm/thumbæä»¤æ¨¡å¼åæ¢&lt;/li&gt;
  &lt;li&gt;æ¹è¿ trybuild/cmake æ¯æ Android/Mingw/iPhoneOS/WatchOS å·¥å·é¾&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;bugsä¿®å¤&quot;&gt;Bugsä¿®å¤&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/903&quot;&gt;#903&lt;/a&gt;: ä¿®å¤vcpkgåå®è£å¤±è´¥é®é¢&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/912&quot;&gt;#912&lt;/a&gt;: ä¿®å¤èªå®ä¹å·¥å·é¾&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/914&quot;&gt;#914&lt;/a&gt;: ä¿®å¤é¨åaarch64è®¾å¤ä¸è¿è¡luaåºç°bad light userdata pointeré®é¢&lt;/li&gt;
&lt;/ul&gt;

</description>
        <pubDate>Mon, 14 Sep 2020 00:00:00 +0800</pubDate>
        <link>https://tboox.org/cn/2020/09/14/xmake-update-v2.3.7/</link>
        <guid isPermaLink="true">https://tboox.org/cn/2020/09/14/xmake-update-v2.3.7/</guid>
        
        <category>xmake</category>
        
        <category>lua</category>
        
        <category>C/C++</category>
        
        <category>toolchains</category>
        
        <category>tinyc</category>
        
        <category>emscripten</category>
        
        <category>qt</category>
        
        <category>cuda</category>
        
        
        <category>xmake</category>
        
      </item>
    
      <item>
        <title>xmake v2.3.6 released, Added fortran compilation support</title>
        <description>&lt;p&gt;This version focuses on some improvements to the support of other languages, such as fortran compilation support, experimental support for zig language, and third-party dependency package support and cross-compilation support for golang/dlang.&lt;/p&gt;

&lt;p&gt;Although, xmake focuses on c/c++ build support, other languages support xmake will also make some improvements from time to time. Its main purpose is not to replace their official build system, but only to support mixed compilation with c/c++ , To better serve c/c++ projects,
After all, some c/c++ projects still occasionally call code interfaces of other languages, such as mixed calls with languages such as cuda, dlang, objc, swift, asm, etc., so xmake still provides some basic compilation support for them.&lt;/p&gt;

&lt;p&gt;In addition, regarding c/c++, we also support the header file dependency format of the new &lt;code class=&quot;highlighter-rouge&quot;&gt;/sourceDependencies xxx.json&lt;/code&gt; output in the vs preview version (this is more reliable and stable for multi-language header file dependency detection).&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake&quot;&gt;Github&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://xmake.io/#/home&quot;&gt;Documents&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;https://xmake.io/assets/img/index/xmake-basic-render.gif&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;introduction-of-new-features&quot;&gt;Introduction of New Features&lt;/h2&gt;

&lt;h3 id=&quot;fortran-language-compilation-support&quot;&gt;Fortran language compilation support&lt;/h3&gt;

&lt;p&gt;Starting from this version, we have fully supported the use of the gfortran compiler to compile fortran projects, we can quickly create an empty project based on fortran by using the following command:&lt;/p&gt;

&lt;div class=&quot;language-console highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;w&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;xmake&lt;/span&gt;&lt;span class=&quot;kv&quot;&gt; create -l fortran -t console test
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Its xmake.lua content is as follows:&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;add_rules&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;mode.debug&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;mode.release&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;set_kind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;binary&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_files&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;src/*.f90&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;More code examples can be viewed here: &lt;a href=&quot;https://github.com/xmake-io/xmake/tree/master/tests/projects/fortran&quot;&gt;Fortran Examples&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;zig-language-experimental-support&quot;&gt;Zig language experimental support&lt;/h3&gt;

&lt;p&gt;Note: At present, this language xmake is still in the experimental support stage, and it is not perfect. For example, it is not supported on windows, and dynamic library compilation under linux/macOS is not yet supported. Please evaluate and use it yourself.&lt;/p&gt;

&lt;p&gt;We can use the following configuration method to try and experience, at least the console and static library programs under linux/macOS can still run.&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;add_rules&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;mode.debug&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;mode.release&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;set_kind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;binary&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_files&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;src/*.zig&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;As for why windows does not support it, please refer to the issues I mentioned to zig earlier, &lt;a href=&quot;https://github.com/ziglang/zig/issues/5825&quot;&gt;#5825&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The dynamic library does not support it because I have some pitfalls (the dynamic library generated by zig will automatically append &lt;code class=&quot;highlighter-rouge&quot;&gt;.0.0.0&lt;/code&gt;), see: &lt;a href=&quot;https://github.com/ziglang/zig/ issues/5827&quot;&gt;issue 5827&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;In addition, I lay down in other pits. I personally feel that there are a lot of pits, so Iâm still in the experimental stage for the time being, and I will look at it later.&lt;/p&gt;

&lt;p&gt;For more examples, see: &lt;a href=&quot;https://github.com/xmake-io/xmake/tree/master/tests/projects/zig&quot;&gt;Zig Examples&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;go-dependency-package-and-cross-compilation-support&quot;&gt;Go dependency package and cross compilation support&lt;/h3&gt;

&lt;p&gt;The new version of xmake continues to make some improvements to the go build support, such as cross-compilation of go. For example, we can compile windows programs on macOS and linux:&lt;/p&gt;

&lt;div class=&quot;language-console highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;w&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;xmake&lt;/span&gt;&lt;span class=&quot;kv&quot;&gt; f -p windows -a x86
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;In addition, the new version also initially supports the third-party dependency package management of go:&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;add_rules&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;mode.debug&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;mode.release&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;add_requires&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;go::github.com/sirupsen/logrus&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;logrus&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;add_requires&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;go::golang.org/x/sys/internal/unsafeheader&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;unsafeheader&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;is_plat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;windows&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_requires&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;go::golang.org/x/sys/windows&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;syshost&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_requires&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;go::golang.org/x/sys/unix&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;syshost&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;set_kind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;binary&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_files&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;src/*.go&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;logrus&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;syshost&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;unsafeheader&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;However, there are still some imperfections. For example, all cascading dependency packages must be manually configured at present, which will be a bit more cumbersome and needs to be improved in the future.&lt;/p&gt;

&lt;p&gt;For more examples, see: &lt;a href=&quot;https://github.com/xmake-io/xmake/tree/master/tests/projects/go&quot;&gt;Go Examples&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;dlangdub-dependency-package-support&quot;&gt;Dlang/Dub dependency package support&lt;/h3&gt;

&lt;p&gt;xmake also supports dlangâs dub package management, which can quickly integrate dlangâs third-party dependency packages:&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;add_rules&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;mode.debug&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;mode.release&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;add_requires&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;dub::log 0.4.3&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;log&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;add_requires&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;dub::dateparser&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;dateparser&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;add_requires&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;dub::emsi_containers&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;emsi_containers&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;add_requires&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;dub::stdx-allocator&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;stdx-allocator&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;add_requires&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;dub::mir-core&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;mir-core&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;set_kind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;binary&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_files&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;src/*.d&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;log&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;dateparser&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;emsi_containers&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;stdx-allocator&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;mir-core&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;clexe-new-header-file-dependent-file-support&quot;&gt;cl.exe new header file dependent file support&lt;/h3&gt;

&lt;p&gt;The header file dependency of msvc usually needs to parse the output content of &lt;code class=&quot;highlighter-rouge&quot;&gt;/showIncludes&lt;/code&gt; and extract the includes file list inside to handle the dependency compilation problem. However, cl.exe does a very bad job of this output. The includes information and compilation output are Mixed together.&lt;/p&gt;

&lt;p&gt;It is very unfriendly to build tools to handle dependency analysis, especially in a multi-language environment, how to judge is includes, you need to judge the extraction through the preceding &lt;code class=&quot;highlighter-rouge&quot;&gt;Note: including file:&lt;/code&gt; string, but in Chinese, it is &lt;code class=&quot;highlighter-rouge&quot;&gt;Note: include File: &lt;/code&gt;,
If you change to the Japanese environment, it is also a Japanese prefix string, the encoding format problems, hard-coding problems, and the parsing and processing are not perfect.&lt;/p&gt;

&lt;p&gt;Regarding this point, in the latest vs2019 preview version, Microsoft has finally made improvements to the alignment. Through the new &lt;code class=&quot;highlighter-rouge&quot;&gt;/sourceDependencies xxx.json&lt;/code&gt; compilation option, the includes dependency information can be better output, which is convenient for analysis and extraction in a multilingual environment.&lt;/p&gt;

&lt;p&gt;In addition, the output of this new option is independent of a separate json file, and finally is not mixed with the compilation output, and finally there is no need to parse and separate compilation errors, warning messages, and includes list information.&lt;/p&gt;

&lt;p&gt;The output will look like this:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;Version&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;1.0&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;Data&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;Source&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;z:\\personal\\tbox\\src\\tbox\\tbox.c&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;Includes&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;z:\\personal\\tbox\\src\\tbox\\tbox.h&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;z:\\personal\\tbox\\src\\tbox\\prefix.h&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;z:\\personal\\tbox\\src\\tbox\\prefix\\prefix.h&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;z:\\personal\\tbox\\src\\tbox\\prefix\\config.h&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;z:\\personal\\tbox\\src\\tbox\\config.h&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;In the new version, xmake handles json parsing by adding a builtin &lt;code class=&quot;highlighter-rouge&quot;&gt;core.base.json&lt;/code&gt; module, which can easily analyze and support the new header file dependent data. This mode is preferred (if cl is supported by the new version) , The old version of cl still uses &lt;code class=&quot;highlighter-rouge&quot;&gt;/showIncludes&lt;/code&gt;).&lt;/p&gt;

&lt;h3 id=&quot;xcode-plugin-generation-support&quot;&gt;Xcode plugin generation support&lt;/h3&gt;

&lt;p&gt;At present, we have no time to implement the generation of xcode projects by ourselves, but it does not mean that it is not supported, because xmake supports the generation of cmakelists.txt files, and cmake supports the generation of xcode project files. Before the official implementation,
We can also support it in disguise through cmake, xmake will automatically call cmake internally to transfer the generated results, there is no difference in use for users, just make sure that cmake is installed:&lt;/p&gt;

&lt;div class=&quot;language-console highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;w&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;xmake&lt;/span&gt;&lt;span class=&quot;kv&quot;&gt; project -k xcode
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;!&amp;gt; After we have time, we will re-implement each more complete xcode output plugin by ourselves, and welcome everyone to contribute.&lt;/p&gt;

&lt;h3 id=&quot;support-intellisense-for-xmake-vscode-plugin&quot;&gt;Support intellisense for xmake-vscode plugin&lt;/h3&gt;

&lt;p&gt;Recently, we also updated the &lt;a href=&quot;https://github.com/xmake-io/xmake-vscode&quot;&gt;xmake-vscode&lt;/a&gt; plugin, by automatically generating &lt;code class=&quot;highlighter-rouge&quot;&gt;compile_commands.json&lt;/code&gt; to the current projectâs &lt;code class=&quot;highlighter-rouge&quot;&gt;.vscode&lt;/code&gt; directory, Then we only need to configure &lt;code class=&quot;highlighter-rouge&quot;&gt;.vscode/c_cpp_properties.json&lt;/code&gt; and associate this &lt;code class=&quot;highlighter-rouge&quot;&gt;.vscode/compile_commands.json&lt;/code&gt; path in it
Can realize intellisense automatic prompt, synchronize the configuration information such as includedirs in xmake.lua.&lt;/p&gt;

&lt;p&gt;As for how to generate &lt;code class=&quot;highlighter-rouge&quot;&gt;c_cpp_properties&lt;/code&gt;, there are detailed instructions in the official document: https://code.visualstudio.com/docs/cpp/configure-intellisense-crosscompilation&lt;/p&gt;

&lt;p&gt;The main configuration items inside:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &quot;configurations&quot;: [
    {
      &quot;compileCommands&quot;: &quot;.vscode/compile_commands.json&quot;,
    }
  ],
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;changlog&quot;&gt;Changlog&lt;/h2&gt;

&lt;h3 id=&quot;new-features&quot;&gt;New features&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;Add &lt;code class=&quot;highlighter-rouge&quot;&gt;xmake project -k xcode&lt;/code&gt; generator (use cmake)&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/870&quot;&gt;#870&lt;/a&gt;: Support gfortran compiler&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/pull/887&quot;&gt;#887&lt;/a&gt;: Support zig compiler&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/893&quot;&gt;#893&lt;/a&gt;: Add json module&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/898&quot;&gt;#898&lt;/a&gt;: Support cross-compilation for golang&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/275&quot;&gt;#275&lt;/a&gt;: Support go package manager to install go packages&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/581&quot;&gt;#581&lt;/a&gt;: Support dub package manager to install dlang packages&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;change&quot;&gt;Change&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/868&quot;&gt;#868&lt;/a&gt;: Support new cl.exe dependency report files, &lt;code class=&quot;highlighter-rouge&quot;&gt;/sourceDependencies xxx.json&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/902&quot;&gt;#902&lt;/a&gt;: Improve to detect cross-compilation toolchain&lt;/li&gt;
&lt;/ul&gt;

</description>
        <pubDate>Tue, 28 Jul 2020 00:00:00 +0800</pubDate>
        <link>https://tboox.org/2020/07/28/xmake-update-v2.3.6/</link>
        <guid isPermaLink="true">https://tboox.org/2020/07/28/xmake-update-v2.3.6/</guid>
        
        <category>xmake</category>
        
        <category>lua</category>
        
        <category>C/C++</category>
        
        <category>toolchains</category>
        
        <category>fortran</category>
        
        <category>zig</category>
        
        <category>golang</category>
        
        <category>dlang</category>
        
        
        <category>xmake</category>
        
      </item>
    
      <item>
        <title>xmake v2.3.6 åå¸, æ°å¢fortranç¼è¯æ¯æ</title>
        <description>&lt;p&gt;è¿ä¸ªçæ¬éç¹å¯¹å¶ä»è¯­è¨çæ¯æåäºä¸äºæ¹è¿ï¼æ¯å¦æ°å¢äºfortrançç¼è¯æ¯æï¼zigè¯­è¨çå®éªæ§æ¯æï¼å¦å¤å¯¹golang/dlangå¢å äºç¬¬ä¸æ¹ä¾èµåæ¯æä»¥åäº¤åç¼è¯æ¯æã&lt;/p&gt;

&lt;p&gt;è½ç¶ï¼xmakeéç¹å³æ³¨c/c++çæå»ºæ¯æï¼ä½æ¯å¶ä»è¯­è¨çæ¯æxmakeä¹ä¼ä¸å®æåä¸äºæ¹è¿ï¼å¶ä¸»è¦ç®çå¹¶ä¸æ¯æ¿ä»£å®ä»¬å®æ¹èªèº«çæå»ºç³»ç»ï¼ä»ä»åªæ¯ä¸ºäºæ¯æä¸c/c++çæ··åç¼è¯ï¼æ´å¥½çä¸ºc/c++é¡¹ç®æå¡ï¼
æ¯ç«æäºc/c++é¡¹ç®ä¸­ï¼è¿æ¯ä¼å¶å°è°ç¨å¶ä»è¯­è¨çä»£ç æ¥å£ï¼æ¯å¦ä¸cuda, dlang, objcï¼swift, asmç­è¯­è¨çæ··åè°ç¨ï¼æä»¥xmakeè¿æ¯ä¼å¯¹ä»ä»¬åä¸äºåºç¡æ§çç¼è¯æ¯æã&lt;/p&gt;

&lt;p&gt;å¦å¤ï¼å³äºc/c++æ¹é¢ï¼æä»¬ä¹å¯¹vsé¢è§çä¸­æ°ç&lt;code class=&quot;highlighter-rouge&quot;&gt;/sourceDependencies xxx.json&lt;/code&gt;è¾åºçå¤´æä»¶ä¾èµæ ¼å¼ä¹åäºæ¯æï¼è¿å¯¹äºå¤è¯­è¨ä¸ï¼å¤´æä»¶ä¾èµæ£æµä¼æ´å çå¯é ç¨³å®ï¼ã&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake&quot;&gt;é¡¹ç®æºç &lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://xmake.io/#/zh-cn/&quot;&gt;å®æ¹ææ¡£&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;https://xmake.io/assets/img/index/xmake-basic-render.gif&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;æ°ç¹æ§ä»ç»&quot;&gt;æ°ç¹æ§ä»ç»&lt;/h2&gt;

&lt;h3 id=&quot;fortranè¯­è¨ç¼è¯æ¯æ&quot;&gt;Fortranè¯­è¨ç¼è¯æ¯æ&lt;/h3&gt;

&lt;p&gt;è¿ä¸ªçæ¬å¼å§ï¼æä»¬å·²ç»å®å¨æ¯æä½¿ç¨gfortranç¼è¯å¨æ¥ç¼è¯fortrané¡¹ç®ï¼æä»¬å¯ä»¥éè¿ä¸é¢çå½ä»¤ï¼å¿«éåå»ºä¸ä¸ªåºäºfortrançç©ºå·¥ç¨ï¼&lt;/p&gt;

&lt;div class=&quot;language-console highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;w&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;xmake&lt;/span&gt;&lt;span class=&quot;kv&quot;&gt; create -l fortran -t console test
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;å®çxmake.luaåå®¹å¦ä¸ï¼&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;add_rules&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;mode.debug&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;mode.release&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;set_kind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;binary&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_files&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;src/*.f90&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;æ´å¤ä»£ç ä¾å­å¯ä»¥å°è¿éæ¥çï¼&lt;a href=&quot;https://github.com/xmake-io/xmake/tree/master/tests/projects/fortran&quot;&gt;Fortran Examples&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;zigè¯­è¨å®éªæ§æ¯æ&quot;&gt;Zigè¯­è¨å®éªæ§æ¯æ&lt;/h3&gt;

&lt;p&gt;æ³¨ï¼ç®åè¿ä¸ªè¯­è¨xmakeè¿å¨è¯éªæ§æ¯æé¶æ®µï¼è¿å¾ä¸å®åï¼æ¯å¦ï¼windowsä¸ä¸æ¯æï¼linux/macOSä¸å¨æåºç¼è¯è¿ä¸æ¯æï¼è¯·èªè¡è¯ä¼°ä½¿ç¨ã&lt;/p&gt;

&lt;p&gt;æä»¬å¯ä»¥éè¿ä¸é¢çéç½®æ¹å¼ï¼å°è¯æ§ä½éªä¸ï¼è³å°linux/macOSä¸consoleåstatic libraryç¨åºè¿æ¯å¯ä»¥è·çã&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;add_rules&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;mode.debug&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;mode.release&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;set_kind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;binary&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_files&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;src/*.zig&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;è³äºä¸ºå¥windowsä¸æ¯æå¢ï¼è¯¦æè§æä¹åæç»zigçissuesï¼&lt;a href=&quot;https://github.com/ziglang/zig/issues/5825&quot;&gt;#5825&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;èå¨æåºä¸æ¯æï¼ä¹æ¯å ä¸ºæèººäºä¸äºåï¼zigçæçå¨æåºä¼èªå¨è¿½å &lt;code class=&quot;highlighter-rouge&quot;&gt;.0.0.0&lt;/code&gt;ï¼ï¼è¯¦æè§ï¼&lt;a href=&quot;https://github.com/ziglang/zig/issues/5827&quot;&gt;issue 5827&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;å¦å¤è¿èººäºä¸å¶ä»åï¼ä¸ªäººæè§åæç¹å¤ï¼æä»¥æææ¶è¿æ¯è¯éªé¶æ®µï¼ç­è¿æ®µæ¶é´åççã&lt;/p&gt;

&lt;p&gt;æ´å¤ä¾å­è§ï¼&lt;a href=&quot;https://github.com/xmake-io/xmake/tree/master/tests/projects/zig&quot;&gt;Zig Examples&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;goä¾èµååäº¤åç¼è¯æ¯æ&quot;&gt;Goä¾èµååäº¤åç¼è¯æ¯æ&lt;/h3&gt;

&lt;p&gt;æ°çæ¬xmakeå¯¹goæå»ºæ¯æç»§ç»­åäºä¸äºæ¹è¿ï¼æ¯å¦å¯¹goçäº¤åç¼è¯ä¹è¿è¡äºæ¯æï¼ä¾å¦æä»¬å¯ä»¥å¨macOSålinuxä¸ç¼è¯windowsç¨åºï¼&lt;/p&gt;

&lt;div class=&quot;language-console highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;w&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;xmake&lt;/span&gt;&lt;span class=&quot;kv&quot;&gt; f -p windows -a x86
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;å¦å¤ï¼æ°çæ¬å¯¹goçç¬¬ä¸æ¹ä¾èµåç®¡çä¹è¿è¡äºåæ­¥æ¯æï¼&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;add_rules&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;mode.debug&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;mode.release&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;add_requires&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;go::github.com/sirupsen/logrus&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;logrus&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;add_requires&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;go::golang.org/x/sys/internal/unsafeheader&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;unsafeheader&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;is_plat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;windows&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_requires&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;go::golang.org/x/sys/windows&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;syshost&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_requires&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;go::golang.org/x/sys/unix&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;syshost&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;set_kind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;binary&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_files&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;src/*.go&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;logrus&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;syshost&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;unsafeheader&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;ä¸è¿è¿æä¸äºä¸å®åçå°æ¹ï¼æ¯å¦ç®åå¿é¡»æå¨éç½®ææçº§èä¾èµåï¼ä¼ç¨å¾®ç¹çäºï¼åç»­æå¾æ¹è¿ã&lt;/p&gt;

&lt;p&gt;æ´å¤ä¾å­è§ï¼&lt;a href=&quot;https://github.com/xmake-io/xmake/tree/master/tests/projects/go&quot;&gt;Go Examples&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;dlangdubä¾èµåæ¯æ&quot;&gt;Dlang/Dubä¾èµåæ¯æ&lt;/h3&gt;

&lt;p&gt;xmakeå¯¹dlangçdubåç®¡çä¹è¿è¡äºæ¯æï¼å¯ä»¥å¿«ééædlangçç¬¬ä¸æ¹ä¾èµåï¼&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;add_rules&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;mode.debug&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;mode.release&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;add_requires&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;dub::log 0.4.3&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;log&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;add_requires&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;dub::dateparser&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;dateparser&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;add_requires&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;dub::emsi_containers&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;emsi_containers&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;add_requires&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;dub::stdx-allocator&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;stdx-allocator&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;add_requires&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;dub::mir-core&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;mir-core&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;set_kind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;binary&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_files&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;src/*.d&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;log&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;dateparser&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;emsi_containers&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;stdx-allocator&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;mir-core&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;clexeæ°çå¤´æä»¶ä¾èµæä»¶æ¯æ&quot;&gt;cl.exeæ°çå¤´æä»¶ä¾èµæä»¶æ¯æ&lt;/h3&gt;

&lt;p&gt;msvcçå¤´æä»¶ä¾èµéå¸¸éè¦è§£æ&lt;code class=&quot;highlighter-rouge&quot;&gt;/showIncludes&lt;/code&gt;çè¾åºåå®¹ï¼æåéé¢çincludesæä»¶åè¡¨æ¥å¤çä¾èµç¼è¯é®é¢ï¼ä½æ¯å¢ï¼cl.exeå¯¹è¿ä¸ªçè¾åºåçå¾ä¸å¥½ï¼includesä¿¡æ¯åç¼è¯è¾åºæ¯æ··å¨ä¸èµ·çã&lt;/p&gt;

&lt;p&gt;å¯¹æå»ºå·¥å·å¤çä¾èµè§£æéå¸¸ä¸åå¥½ï¼å°¤å¶æ¯å¤è¯­è¨ç¯å¢ä¸ï¼å¦ä½å¤æ­æ¯includesï¼éè¦éè¿åç½®ç&lt;code class=&quot;highlighter-rouge&quot;&gt;Note: including file: &lt;/code&gt;å­ç¬¦ä¸²æ¥å¤æ­æåï¼ä½ä¸­æä¸ï¼åæ¯&lt;code class=&quot;highlighter-rouge&quot;&gt;æ³¨æ: åå«æä»¶: &lt;/code&gt;ï¼
å¦ææ¢ææ¥è¯­ç¯å¢ï¼åæ¯æ¥æçåç¼å­ç¬¦ä¸²ï¼ç¼ç æ ¼å¼é®é¢ãç¡¬ç¼ç é®é¢å¯¼è´è§£æå¤çä¸ï¼æ»å½ä¸æ¯å¾å®ç¾ã&lt;/p&gt;

&lt;p&gt;å³äºè¿ä¸ç¹ï¼ææ°çvs2019é¢è§çä¸­ï¼å¾®è½¯ç»äºå¯¹é½åäºæ¹è¿ï¼éè¿æ°ç&lt;code class=&quot;highlighter-rouge&quot;&gt;/sourceDependencies xxx.json&lt;/code&gt;ç¼è¯éé¡¹ï¼å¯ä»¥æ´å¥½çè¾åºincludesä¾èµä¿¡æ¯ï¼æ¹ä¾¿å¤è¯­è¨ç¯å¢ä¸çè§£ææåã&lt;/p&gt;

&lt;p&gt;å¦å¤ï¼è¿ä¸ªæ°éé¡¹çè¾åºæ¯ç¬ç«å°åç¬çjsonæä»¶ä¸­å»çï¼ç»äºä¸æ¯è·ç¼è¯è¾åºæ··ä¸èµ·äºï¼ä¹ç»äºä¸ç¨çè¦å°è§£æåç¦»ç¼è¯éè¯¯ãè­¦åä¿¡æ¯ãincludesåè¡¨ä¿¡æ¯äºã&lt;/p&gt;

&lt;p&gt;è¾åºåå®¹å¤§æ¦é¿è¿æ ·ï¼&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;Version&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;1.0&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;Data&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;Source&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;z:\\personal\\tbox\\src\\tbox\\tbox.c&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;Includes&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;z:\\personal\\tbox\\src\\tbox\\tbox.h&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;z:\\personal\\tbox\\src\\tbox\\prefix.h&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;z:\\personal\\tbox\\src\\tbox\\prefix\\prefix.h&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;z:\\personal\\tbox\\src\\tbox\\prefix\\config.h&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;z:\\personal\\tbox\\src\\tbox\\config.h&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;èæ°çæ¬ä¸­ï¼xmakeéè¿æ°å¢åç½®ç&lt;code class=&quot;highlighter-rouge&quot;&gt;core.base.json&lt;/code&gt;æ¨¡åå¤çjsonè§£æï¼å¾æ¹ä¾¿å°å¯¹æ°çå¤´æä»¶ä¾èµæ°æ®è¿è¡è§£æåæ¯æï¼ä¼åä½¿ç¨æ­¤æ¨¡å¼ï¼å¦æclæ¯æ°çæ¬æ¯æçè¯ï¼èçæ¬clè¿æ¯ä½¿ç¨&lt;code class=&quot;highlighter-rouge&quot;&gt;/showIncludes&lt;/code&gt;ï¼ã&lt;/p&gt;

&lt;h3 id=&quot;xcodeæä»¶çææ¯æ&quot;&gt;Xcodeæä»¶çææ¯æ&lt;/h3&gt;

&lt;p&gt;ç®åï¼æä»¬è¿æ²¡ææ¶é´å»èªå·±å®ç°xcodeå·¥ç¨ççæï¼ä½ä¸ä»£è¡¨ä¸æ¯æï¼å ä¸ºxmakeæ¯æçæcmakelists.txtæä»¶ï¼ècmakeæ¯æ¯æxcodeå·¥ç¨æä»¶çæçï¼å¨å®æ¹è¿æ²¡æå®ç°ä¹åï¼
æä»¬ä¹å¯ä»¥éè¿cmakeåç¸æ¯æå®ï¼xmakeä¼èªå¨åé¨è°ç¨cmakeä¸­è½¬ä¸çæç»æï¼å¯¹ç¨æ·èè¨ä½¿ç¨ä¸æ²¡å¥åºå«ï¼åªéè¦ç¡®ä¿cmakeå·²ç»å®è£å³å¯ï¼&lt;/p&gt;

&lt;div class=&quot;language-console highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;w&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;xmake&lt;/span&gt;&lt;span class=&quot;kv&quot;&gt; project -k xcode
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;!&amp;gt; ç­ä¹åææ¶é´ï¼æä»¬ä¼éæ°èªå·±å®ç°åæ´å å®åçxcodeè¾åºæä»¶ï¼ä¹æ¬¢è¿å¤§å®¶å¸®å¿è´¡ç®ã&lt;/p&gt;

&lt;h3 id=&quot;xmake-vscodeæä»¶intellisenseæ¯æ&quot;&gt;xmake-vscodeæä»¶intellisenseæ¯æ&lt;/h3&gt;

&lt;p&gt;è¿æï¼æä»¬ä¹æ´æ°äºä¸&lt;a href=&quot;https://github.com/xmake-io/xmake-vscode&quot;&gt;xmake-vscode&lt;/a&gt;æä»¶ï¼éè¿èªå¨çæ&lt;code class=&quot;highlighter-rouge&quot;&gt;compile_commands.json&lt;/code&gt;å°å½åé¡¹ç®ç&lt;code class=&quot;highlighter-rouge&quot;&gt;.vscode&lt;/code&gt;ç®å½ä¸ï¼ç¶åæä»¬åªéè¦éç½®&lt;code class=&quot;highlighter-rouge&quot;&gt;.vscode/c_cpp_properties.json&lt;/code&gt;å¨éé¢å³èä¸è¿ä¸ª&lt;code class=&quot;highlighter-rouge&quot;&gt;.vscode/compile_commands.json&lt;/code&gt;è·¯å¾
å°±è½å®ç°intellisenseèªå¨æç¤ºï¼åæ­¥xmake.luaéé¢çincludedirsç­éç½®ä¿¡æ¯ã&lt;/p&gt;

&lt;p&gt;è³äºï¼å·ä½æä¹çæ&lt;code class=&quot;highlighter-rouge&quot;&gt;c_cpp_properties&lt;/code&gt;ï¼å®æ¹ææ¡£éé¢æè¯¦ç»è¯´æï¼https://code.visualstudio.com/docs/cpp/configure-intellisense-crosscompilation&lt;/p&gt;

&lt;p&gt;éé¢çä¸»è¦éç½®é¡¹ï¼&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &quot;configurations&quot;: [
    {
      &quot;compileCommands&quot;: &quot;.vscode/compile_commands.json&quot;,
    }
  ],
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;æ´æ°åå®¹&quot;&gt;æ´æ°åå®¹&lt;/h2&gt;

&lt;h3 id=&quot;æ°ç¹æ§&quot;&gt;æ°ç¹æ§&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;æ·»å xcodeå·¥ç¨çæå¨æä»¶ï¼&lt;code class=&quot;highlighter-rouge&quot;&gt;xmake project -k cmake&lt;/code&gt; ï¼å½åéç¨cmakeçæï¼&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/870&quot;&gt;#870&lt;/a&gt;: æ¯ægfortranç¼è¯å¨&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/pull/887&quot;&gt;#887&lt;/a&gt;: æ¯æzigç¼è¯å¨&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/893&quot;&gt;#893&lt;/a&gt;: æ·»å jsonæ¨¡å&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/898&quot;&gt;#898&lt;/a&gt;: æ¹è¿golangé¡¹ç®æå»ºï¼æ¯æäº¤åç¼è¯&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/275&quot;&gt;#275&lt;/a&gt;: æ¯ægoåç®¡çå¨å»éæç¬¬ä¸æ¹goä¾èµå&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/581&quot;&gt;#581&lt;/a&gt;: æ¯ædubåç®¡çå¨å»éæç¬¬ä¸æ¹dlangä¾èµå&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;æ¹è¿&quot;&gt;æ¹è¿&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/868&quot;&gt;#868&lt;/a&gt;: æ¯ææ°çcl.exeçå¤´æä»¶ä¾èµè¾åºæä»¶æ ¼å¼ï¼&lt;code class=&quot;highlighter-rouge&quot;&gt;/sourceDependencies xxx.json&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake/issues/902&quot;&gt;#902&lt;/a&gt;: æ¹è¿äº¤åç¼è¯å·¥å·é¾&lt;/li&gt;
&lt;/ul&gt;

</description>
        <pubDate>Tue, 28 Jul 2020 00:00:00 +0800</pubDate>
        <link>https://tboox.org/cn/2020/07/28/xmake-update-v2.3.6/</link>
        <guid isPermaLink="true">https://tboox.org/cn/2020/07/28/xmake-update-v2.3.6/</guid>
        
        <category>xmake</category>
        
        <category>lua</category>
        
        <category>C/C++</category>
        
        <category>toolchains</category>
        
        <category>fortran</category>
        
        <category>zig</category>
        
        <category>golang</category>
        
        <category>dlang</category>
        
        
        <category>xmake</category>
        
      </item>
    
      <item>
        <title>xmakeä»å¥é¨å°ç²¾é12ï¼éè¿èªå®ä¹èæ¬å®ç°æ´çµæ´»å°éç½®</title>
        <description>&lt;p&gt;xmakeæ¯ä¸ä¸ªåºäºLuaçè½»éçº§ç°ä»£åc/c++çé¡¹ç®æå»ºå·¥å·ï¼ä¸»è¦ç¹ç¹æ¯ï¼è¯­æ³ç®åæä¸æï¼æä¾æ´å å¯è¯»çé¡¹ç®ç»´æ¤ï¼å®ç°è·¨å¹³å°è¡ä¸ºä¸è´çæå»ºä½éªã&lt;/p&gt;

&lt;p&gt;æ¬æä¸»è¦è¯¦ç»è®²è§£ä¸ï¼å¦ä½éè¿æ·»å èªå®ä¹çèæ¬ï¼å¨èæ¬åå®ç°æ´å å¤æçµæ´»çå®å¶ã&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/xmake-io/xmake&quot;&gt;é¡¹ç®æºç &lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://xmake.io/#/zh-cn/&quot;&gt;å®æ¹ææ¡£&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;éç½®åç¦»&quot;&gt;éç½®åç¦»&lt;/h3&gt;

&lt;p&gt;xmake.luaéç¨äºå«ååå®ç°äºæè¿°åãèæ¬åä¸¤å±åç¦»å¼éç½®ã&lt;/p&gt;

&lt;p&gt;ä»ä¹æ¯äºå«ååå¢ï¼ç®åæ¥è¯´ï¼å¤§é¨åé¡¹ç®çéç½®ï¼80%çæåµä¸ï¼é½æ¯äºåºç¡çå¸¸è§éç½®ï¼æ¯å¦ï¼&lt;code class=&quot;highlighter-rouge&quot;&gt;add_cxflags&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;add_links&lt;/code&gt;ç­ï¼
åªæå©ä¸ä¸å°20%çå°æ¹æéè¦é¢å¤åäºå¤ææ¥æ»¡è¶³ä¸äºç¹æ®çéç½®éæ±ã&lt;/p&gt;

&lt;p&gt;èè¿å©ä½ç20%çéç½®éå¸¸æ¯è¾å¤æï¼å¦æç´æ¥åæ¥å¨æ´ä¸ªxmake.luaéé¢ï¼ä¼ææ´ä¸ªé¡¹ç®çéç½®æ´ä¸ªå¾æ··ä¹±ï¼éå¸¸ä¸å¯è¯»ã&lt;/p&gt;

&lt;p&gt;å æ­¤ï¼xmakeéè¿æè¿°åãèæ¬åä¸¤ç§ä¸åçéç½®æ¹å¼ï¼æ¥éç¦»80%çç®åéç½®ä»¥å20%çå¤æéç½®ï¼ä½¿å¾æ´ä¸ªxmake.luaçèµ·æ¥éå¸¸çæ¸æ°ç´è§ï¼å¯è¯»æ§åå¯ç»´æ¤æ§é½è¾¾å°æä½³ã&lt;/p&gt;

&lt;h3 id=&quot;æè¿°å&quot;&gt;æè¿°å&lt;/h3&gt;

&lt;p&gt;å¯¹äºåå¥é¨çæ°æç¨æ·ï¼æèä»ä»æ¯ç»´æ¤ä¸äºç®åçå°é¡¹ç®ï¼éè¿å®å¨å¨æè¿°éç½®å°±å·²ç»å®å¨æ»¡è¶³éæ±äºï¼é£ä»ä¹æ¯æè¿°åå¢ï¼å®é¿è¿æ ·ï¼&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;set_kind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;binary&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_files&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;src/*.c&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_defines&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;DEBUG&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_syslinks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;pthread&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;ä¸ç¼æå»ï¼å¶å®å°±æ¯ä¸ª &lt;code class=&quot;highlighter-rouge&quot;&gt;set_xxx&lt;/code&gt;/&lt;code class=&quot;highlighter-rouge&quot;&gt;add_xxx&lt;/code&gt;çéç½®éï¼å¯¹äºæ°æï¼å®å¨å¯ä»¥ä¸æå®å½åluaèæ¬ï¼ä»ä»ä½ä¸ºæ®éçï¼ä½æä¸äºåºç¡è§åçéç½®æä»¶å°±è¡äºã&lt;/p&gt;

&lt;p&gt;è¿æ¯ä¸æ¯ççæ´åéç½®æä»¶äºï¼å¶å®æè¿°åå°±æ¯éç½®æä»¶ï¼ç±»ä¼¼åjsonç­key/valuesçéç½®èå·²ï¼æä»¥å³ä½¿å®å¨ä¸ä¼luaçæ°æï¼ä¹æ¯è½å¾å¿«ä¸æçã&lt;/p&gt;

&lt;p&gt;èä¸ï¼å¯¹äºéå¸¸çé¡¹ç®ï¼ä»éè¿&lt;code class=&quot;highlighter-rouge&quot;&gt;set_xxx/add_xxx&lt;/code&gt;å»éç½®åç§é¡¹ç®è®¾ç½®ï¼å·²ç»å®å¨æ»¡è¶³éæ±äºã&lt;/p&gt;

&lt;p&gt;è¿ä¹å°±æ¯å¼å¤´è¯´çï¼80%çæåµä¸ï¼å¯ä»¥ç¨æç®åçéç½®è§åå»ç®åé¡¹ç®çéç½®ï¼æé«å¯è¯»æ§åå¯ç»´æ¤æ§ï¼è¿æ ·å¯¹ç¨æ·åå¼åèé½ä¼éå¸¸çåå¥½ï¼ä¹æ´å ç´è§ã&lt;/p&gt;

&lt;p&gt;å¦ææä»¬è¦éå¯¹ä¸åå¹³å°ï¼æ¶æåä¸äºæ¡ä»¶å¤æ­æä¹åï¼æ²¡å³ç³»ï¼æè¿°åé¤äºåºç¡éç½®ï¼ä¹æ¯æ¯ææ¡ä»¶å¤æ­ï¼ä»¥åforå¾ªç¯çï¼&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;set_kind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;binary&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_files&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;src/*.c&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_defines&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;DEBUG&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;is_plat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;linux&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;macosx&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;add_links&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;pthread&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;m&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;dl&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;set_kind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;binary&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_files&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;src/*.c&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_defines&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;DEBUG&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;ipairs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;pthread&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;m&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;dl&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;add_links&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;è¿æ¯ä¸æ¯ççæç¹åluaäºï¼è½è¯´ï¼å¹³å¸¸å¯ä»¥æå®å½åæ®ééç½®é®é¢ï¼ä½æ¯xmakeæ¯ç«åºäºluaï¼æä»¥æè¿°åè¿æ¯æ¯æluaçåºç¡è¯­è¨ç¹æ§çã&lt;/p&gt;

&lt;p&gt;!&amp;gt; ä¸è¿éè¦æ³¨æçæ¯ï¼æè¿°åè½ç¶æ¯æluaçèæ¬è¯­æ³ï¼ä½å¨æè¿°åå°½éä¸è¦åå¤ªå¤æçluaèæ¬ï¼æ¯å¦ä¸äºèæ¶çå½æ°è°ç¨åforå¾ªç¯&lt;/p&gt;

&lt;p&gt;å¹¶ä¸å¨æè¿°åï¼ä¸»è¦ç®çæ¯ä¸ºäºè®¾ç½®éç½®é¡¹ï¼å æ­¤xmakeå¹¶æ²¡æå®å¨å¼æ¾ææçæ¨¡åæ¥å£ï¼å¾å¤æ¥å£å¨æè¿°åæ¯è¢«ç¦æ­¢è°ç¨çï¼
å³ä½¿å¼æ¾åºæ¥çä¸äºå¯è°ç¨æ¥å£ï¼ä¹æ¯å®å¨åªè¯»çï¼ä¸èæ¶çå®å¨æ¥å£ï¼æ¯å¦ï¼&lt;code class=&quot;highlighter-rouge&quot;&gt;os.getenv()&lt;/code&gt;ç­è¯»åä¸äºå¸¸è§çç³»ç»ä¿¡æ¯ï¼ç¨äºéç½®é»è¾çæ§å¶ã&lt;/p&gt;

&lt;p&gt;!&amp;gt; å¦å¤éè¦æ³¨æä¸ç¹ï¼xmake.luaæ¯ä¼è¢«å¤æ¬¡è§£æçï¼ç¨äºå¨ä¸åé¶æ®µè§£æä¸åçéç½®åï¼æ¯å¦ï¼&lt;code class=&quot;highlighter-rouge&quot;&gt;option()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;target()&lt;/code&gt;ç­åã&lt;/p&gt;

&lt;p&gt;å æ­¤ï¼ä¸è¦æ³çå¨xmake.luaçæè¿°åï¼åå¤æçluaèæ¬ï¼ä¹ä¸è¦å¨æè¿°åè°ç¨printå»æ¾ç¤ºä¿¡æ¯ï¼å ä¸ºä¼è¢«æ§è¡å¤éï¼è®°ä½ï¼ä¼è¢«æ§è¡å¤éï¼ï¼ï¼&lt;/p&gt;

&lt;h3 id=&quot;èæ¬å&quot;&gt;èæ¬å&lt;/h3&gt;

&lt;p&gt;éå¶æè¿°ååå¤æçluaï¼åç§luaæ¨¡ååæ¥å£é½ç¨ä¸äºï¼æä¹åï¼è¿ä¸ªæ¶åå°±æ¯èæ¬ååºåºçæ¶åäºã&lt;/p&gt;

&lt;p&gt;å¦æç¨æ·å·²ç»å®å¨çæäºxmakeçæè¿°åéç½®ï¼å¹¶ä¸æè§æäºæ»¡è¶³ä¸äºé¡¹ç®ä¸çä¸äºç¹æ®éç½®ç»´æ¤äºï¼é£ä¹æä»¬å¯ä»¥å¨èæ¬ååæ´å å¤æçéç½®é»è¾ï¼&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;set_kind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;binary&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_files&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;src/*.c&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;on_load&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;is_plat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;linux&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;macosx&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;links&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;pthread&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;m&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;dl&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;after_build&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;core.project.config&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;kd&quot;&gt;local&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;targetfile&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;targetfile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;targetfile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;buildir&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;filename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;targetfile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
        &lt;span class=&quot;nb&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;build %s&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;targetfile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;åªè¦æ¯ç±»ä¼¼ï¼&lt;code class=&quot;highlighter-rouge&quot;&gt;on_xxx&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;after_xxx&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;before_xxx&lt;/code&gt;ç­å­æ ·çfunction bodyåé¨çèæ¬ï¼é½å±äºèæ¬åã&lt;/p&gt;

&lt;p&gt;å¨èæ¬åä¸­ï¼ç¨æ·å¯ä»¥å¹²ä»»ä½äºï¼xmakeæä¾äºimportæ¥å£å¯ä»¥å¯¼å¥xmakeåç½®çåç§luaæ¨¡åï¼ä¹å¯ä»¥å¯¼å¥ç¨æ·æä¾çluaèæ¬ã&lt;/p&gt;

&lt;p&gt;æä»¬å¯ä»¥å¨èæ¬åå®ç°ä½ æ³å®ç°çä»»æåè½ï¼çè³åä¸ªç¬ç«é¡¹ç®åºæ¥é½æ¯å¯ä»¥çã&lt;/p&gt;

&lt;p&gt;å¯¹äºä¸äºèæ¬çæ®µï¼ä¸æ¯å¾èè¿çè¯ï¼åä¸é¢è¿ä¹åç½®ååå°±è¶³å¤äºï¼å¦æéè¦å®ç°æ´å å¤æçèæ¬ï¼ä¸æ³åæ¥å¨ä¸ä¸ªxmake.luaéé¢ï¼å¯ä»¥æèæ¬åç¦»å°ç¬ç«çluaæä»¶ä¸­å»ç»´æ¤ã&lt;/p&gt;

&lt;p&gt;ä¾å¦ï¼&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;set_kind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;binary&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_files&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;src/*.c&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;on_load&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;modules.test.load&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;on_install&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;modules.test.install&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;æä»¬å¯ä»¥å§èªå®ä¹çèæ¬æ¾ç½®å°xmake.luaå¯¹åºç®å½ä¸ï¼&lt;code class=&quot;highlighter-rouge&quot;&gt;modules/test/load.lua&lt;/code&gt;å&lt;code class=&quot;highlighter-rouge&quot;&gt;modules/test/install.lua&lt;/code&gt;ä¸­ç¬ç«ç»´æ¤ã&lt;/p&gt;

&lt;p&gt;åç¬çluaèæ¬æä»¶ä»¥mainä½ä¸ºä¸»å¥å£ï¼ä¾å¦ï¼&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;-- æä»¬ä¹å¯ä»¥å¨æ­¤å¤å¯¼å¥ä¸äºåç½®æ¨¡åæèèªå·±çæ©å±æ¨¡åæ¥ä½¿ç¨&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;core.project.config&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;mymodule&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;is_plat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;linux&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;macosx&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;links&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;pthread&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;m&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;dl&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;è¿äºç¬ç«çluaèæ¬éé¢ï¼æä»¬è¿å¯ä»¥éè¿&lt;a href=&quot;https://xmake.io/#/zh-cn/manual/builtin_modules?id=import&quot;&gt;import&lt;/a&gt;å¯¼å¥åç§åç½®æ¨¡ååèªå®ä¹æ¨¡åè¿æ¥ä½¿ç¨ï¼å°±è·å¹³å¸¸ålua, javaæ²¡å¥åºå«ã&lt;/p&gt;

&lt;p&gt;èå¯¹äºèæ¬çåçä¸åé¶æ®µï¼&lt;code class=&quot;highlighter-rouge&quot;&gt;on_load&lt;/code&gt;ä¸»è¦ç¨äºtargetå è½½æ¶åï¼åä¸äºå¨æåçéç½®ï¼è¿éä¸åæè¿°åï¼åªä¼æ§è¡ä¸éå¦!!!&lt;/p&gt;

&lt;p&gt;å¶ä»é¶æ®µï¼è¿æå¾å¤ï¼æ¯å¦ï¼&lt;code class=&quot;highlighter-rouge&quot;&gt;on/after/before&lt;/code&gt;_&lt;code class=&quot;highlighter-rouge&quot;&gt;build/install/package/run&lt;/code&gt;ç­ï¼æä»¬ä¸é¢ä¼è¯¦ç»æè¿°ã&lt;/p&gt;

&lt;h3 id=&quot;import&quot;&gt;import&lt;/h3&gt;

&lt;h4 id=&quot;å¯¼å¥æ©å±æ¸å&quot;&gt;å¯¼å¥æ©å±æ¸å&lt;/h4&gt;

&lt;p&gt;å¨è®²è§£åä¸ªèæ¬åä¹åï¼æä»¬åæ¥ç®åä»ç»ä¸xmakeçæ¨¡åå¯¼å¥åä½¿ç¨æ¹å¼ï¼xmakeéç¨importæ¥å¼å¥å¶ä»çæ©å±æ¨¡åï¼ä»¥åç¨æ·èªå·±å®ä¹çæ¨¡åï¼å®å¯ä»¥å¨ä¸é¢ä¸äºå°æ¹ä½¿ç¨ï¼&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;èªå®ä¹èæ¬(&lt;a href=&quot;https://xmake.io/#/zh-cn/manual/project_target?id=targeton_build&quot;&gt;on_build&lt;/a&gt;, &lt;a href=&quot;https://xmake.io/#/zh-cn/manual/project_target?id=targeton_run&quot;&gt;on_run&lt;/a&gt; ..)&lt;/li&gt;
  &lt;li&gt;æä»¶å¼å&lt;/li&gt;
  &lt;li&gt;æ¨¡æ¿å¼å&lt;/li&gt;
  &lt;li&gt;å¹³å°æ©å±&lt;/li&gt;
  &lt;li&gt;èªå®ä¹ä»»å¡task&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å¯¼å¥æºå¶å¦ä¸ï¼&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;ä¼åä»å½åèæ¬ç®å½ä¸å¯¼å¥&lt;/li&gt;
  &lt;li&gt;åä»æ©å±ç±»åºä¸­å¯¼å¥&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;å¯¼å¥çè¯­æ³è§åï¼&lt;/p&gt;

&lt;p&gt;åºäº&lt;code class=&quot;highlighter-rouge&quot;&gt;.&lt;/code&gt;çç±»åºè·¯å¾è§åï¼ä¾å¦ï¼&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;core.base.option&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;core.base.task&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    
    &lt;span class=&quot;c1&quot;&gt;-- è·ååæ°éé¡¹&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;option&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;version&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;-- è¿è¡ä»»å¡åæä»¶&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;task&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;hello&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;å¯¼å¥å½åç®å½ä¸çèªå®ä¹æ¨¡åï¼&lt;/p&gt;

&lt;p&gt;ç®å½ç»æï¼&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;plugin
  - xmake.lua
  - main.lua
  - modules
    - hello1.lua
    - hello2.lua
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;å¨main.luaä¸­å¯¼å¥modules&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;modules.hello1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;modules.hello2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;å¯¼å¥åå°±å¯ä»¥ç´æ¥ä½¿ç¨éé¢çææå¬ææ¥å£ï¼ç§ææ¥å£ç¨&lt;code class=&quot;highlighter-rouge&quot;&gt;_&lt;/code&gt;åç¼æ ç¤ºï¼è¡¨æä¸ä¼è¢«å¯¼åºï¼ä¸ä¼è¢«å¤é¨è°ç¨å°ãã&lt;/p&gt;

&lt;p&gt;é¤äºå½åç®å½ï¼æä»¬è¿å¯ä»¥å¯¼å¥å¶ä»æå®ç®å½éé¢çç±»åºï¼ä¾å¦ï¼&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;hello3&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rootdir&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;/home/xxx/modules&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;ä¸ºäºé²æ­¢å½åå²çªï¼å¯¼å¥åè¿å¯ä»¥æå®çå«åï¼&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;core.platform.platform&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;p&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;-- è¿æ ·æä»¬å°±å¯ä»¥ä½¿ç¨pæ¥è°ç¨platformæ¨¡åçplatsæ¥å£ï¼è·åææxmakeæ¯æçå¹³å°åè¡¨äº&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plats&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;2.1.5çæ¬æ°å¢ä¸¤ä¸ªæ°å±æ§ï¼&lt;code class=&quot;highlighter-rouge&quot;&gt;import(&quot;xxx.xxx&quot;, {try = true, anonymous = true})&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;tryä¸ºtrueï¼åå¯¼å¥çæ¨¡åä¸å­å¨çè¯ï¼ä»ä»è¿ånilï¼å¹¶ä¸ä¼æå¼å¸¸åä¸­æ­xmake.
anonymousä¸ºtrueï¼åå¯¼å¥çæ¨¡åä¸ä¼å¼å¥å½åä½ç¨åï¼ä»ä»å¨importæ¥å£è¿åå¯¼å¥çå¯¹è±¡å¼ç¨ã&lt;/p&gt;

&lt;h3 id=&quot;æµè¯æ©å±æ¨¡å&quot;&gt;æµè¯æ©å±æ¨¡å&lt;/h3&gt;

&lt;p&gt;ä¸ç§æ¹å¼æä»¬å¯ä»¥å¨on_loadç­èæ¬ä¸­ï¼ç´æ¥è°ç¨printå»æå°æ¨¡åçè°ç¨ç»æä¿¡æ¯ï¼æ¥æµè¯åéªè¯ã&lt;/p&gt;

&lt;p&gt;ä¸è¿xmakeè¿æä¾äº&lt;code class=&quot;highlighter-rouge&quot;&gt;xmake lua&lt;/code&gt;æä»¶å¯ä»¥æ´å çµæ´»æ¹ä¾¿çæµè¯èæ¬ã&lt;/p&gt;

&lt;h4 id=&quot;è¿è¡æå®çèæ¬æä»¶&quot;&gt;è¿è¡æå®çèæ¬æä»¶&lt;/h4&gt;

&lt;p&gt;æ¯å¦ï¼æä»¬å¯ä»¥ç´æ¥æå®luaèæ¬æ¥å è½½è¿è¡ï¼è¿å¯¹äºæ³è¦å¿«éæµè¯ä¸äºæ¥å£æ¨¡åï¼éªè¯èªå·±çæäºæè·¯ï¼é½æ¯ä¸ä¸ªä¸éçæ¹å¼ã&lt;/p&gt;

&lt;p&gt;æä»¬ååä¸ªç®åçluaèæ¬ï¼&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;hello xmake!&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;ç¶åç´æ¥è¿è¡å®å°±è¡äºï¼&lt;/p&gt;

&lt;div class=&quot;language-console highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;w&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;xmake&lt;/span&gt;&lt;span class=&quot;kv&quot;&gt; lua /tmp/test.lua
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h4 id=&quot;ç´æ¥è°ç¨æ©å±æ¨¡å&quot;&gt;ç´æ¥è°ç¨æ©å±æ¨¡å&lt;/h4&gt;

&lt;p&gt;ææåç½®æ¨¡ååæ©å±æ¨¡åçæ¥å£ï¼æä»¬é½å¯ä»¥éè¿&lt;code class=&quot;highlighter-rouge&quot;&gt;xmake lua&lt;/code&gt;ç´æ¥è°ç¨ï¼ä¾å¦ï¼&lt;/p&gt;

&lt;div class=&quot;language-console highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;w&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;xmake&lt;/span&gt;&lt;span class=&quot;kv&quot;&gt; lua lib.detect.find_tool gcc
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;ä¸é¢çå½ä»¤ï¼æä»¬ç´æ¥è°ç¨äº&lt;code class=&quot;highlighter-rouge&quot;&gt;import(&quot;lib.detect.find_tool&quot;)&lt;/code&gt;æ¨¡åæ¥å£æ¥å¿«éæ§è¡ã&lt;/p&gt;

&lt;h4 id=&quot;è¿è¡äº¤äºå½ä»¤-repl&quot;&gt;è¿è¡äº¤äºå½ä»¤ (REPL)&lt;/h4&gt;

&lt;p&gt;ææ¶åå¨äº¤äºæ¨¡å¼ä¸ï¼è¿è¡å½ä»¤æ´å çæ¹ä¾¿æµè¯åéªè¯ä¸äºæ¨¡ååapiï¼ä¹æ´å ççµæ´»ï¼ä¸éè¦åå»é¢å¤åä¸ä¸ªèæ¬æä»¶æ¥å è½½ã&lt;/p&gt;

&lt;p&gt;æä»¬åçä¸ï¼å¦ä½è¿å¥äº¤äºæ¨¡å¼ï¼&lt;/p&gt;

&lt;div class=&quot;language-console highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;ni&quot;&gt;# &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;ä¸å¸¦ä»»ä½åæ°æ§è¡ï¼å°±å¯ä»¥è¿å¥&lt;/span&gt;&lt;span class=&quot;kv&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;xmake&lt;/span&gt;&lt;span class=&quot;kv&quot;&gt; lua
&lt;/span&gt;&amp;gt;

&lt;span class=&quot;ni&quot;&gt;# &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;è¿è¡è¡¨è¾¾å¼è®¡ç®&lt;/span&gt;&lt;span class=&quot;kv&quot;&gt;
&lt;/span&gt;&amp;gt; 1 + 2
3

&lt;span class=&quot;ni&quot;&gt;# &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;èµå¼åæå°åéå¼&lt;/span&gt;&lt;span class=&quot;kv&quot;&gt;
&lt;/span&gt;&amp;gt; a = 1
&amp;gt; a
1

&lt;span class=&quot;ni&quot;&gt;# &lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;å¤è¡è¾å¥åæ§è¡&lt;/span&gt;&lt;span class=&quot;kv&quot;&gt;
&lt;/span&gt;&amp;gt; for _, v in pairs({1, 2, 3}) do
&amp;gt;&amp;gt; print(v)
&amp;gt;&amp;gt; end
1
2
3
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;æä»¬ä¹è½å¤éè¿ &lt;code class=&quot;highlighter-rouge&quot;&gt;import&lt;/code&gt; æ¥å¯¼å¥æ©å±æ¨¡åï¼&lt;/p&gt;

&lt;div class=&quot;language-console highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;gt; task = import(&quot;core.project.task&quot;)
&amp;gt; task.run(&quot;hello&quot;)
hello xmake!
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;å¦æè¦ä¸­éåæ¶å¤è¡è¾å¥ï¼åªéè¦è¾å¥å­ç¬¦ï¼&lt;code class=&quot;highlighter-rouge&quot;&gt;q&lt;/code&gt; å°±è¡äº&lt;/p&gt;

&lt;div class=&quot;language-console highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&amp;gt; for _, v in ipairs({1, 2}) do
&amp;gt;&amp;gt; print(v)
&amp;gt;&amp;gt; q             &amp;lt;--  åæ¶å¤è¡è¾å¥ï¼æ¸ç©ºååçè¾å¥æ°æ®
&amp;gt; 1 + 2
3
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;targeton_load&quot;&gt;target:on_load&lt;/h3&gt;

&lt;h4 id=&quot;èªå®ä¹ç®æ å è½½èæ¬&quot;&gt;èªå®ä¹ç®æ å è½½èæ¬&lt;/h4&gt;

&lt;p&gt;å¨targetåå§åå è½½çæ¶åï¼å°ä¼æ§è¡æ­¤èæ¬ï¼å¨éé¢å¯ä»¥åä¸äºå¨æçç®æ éç½®ï¼å®ç°æ´çµæ´»çç®æ æè¿°å®ä¹ï¼ä¾å¦ï¼&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;on_load&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;defines&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;DEBUG&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;TEST=\&quot;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hello&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;linkdirs&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;/usr/lib&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;/usr/local/lib&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;includedirs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;/usr/include&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;links&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;pthread&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;å¯ä»¥å¨&lt;code class=&quot;highlighter-rouge&quot;&gt;on_load&lt;/code&gt;éé¢ï¼éè¿&lt;code class=&quot;highlighter-rouge&quot;&gt;target:set&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;target:add&lt;/code&gt; æ¥å¨ææ·»å åç§targetå±æ§ï¼æææè¿°åç&lt;code class=&quot;highlighter-rouge&quot;&gt;set_&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;add_&lt;/code&gt;éç½®é½å¯ä»¥éè¿è¿ç§æ¹å¼å¨æéç½®ã&lt;/p&gt;

&lt;p&gt;å¦å¤ï¼æä»¬å¯ä»¥è°ç¨targetçä¸äºæ¥å£ï¼è·ååè®¾ç½®ä¸äºåºç¡ä¿¡æ¯ï¼æ¯å¦ï¼&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;targetæ¥å£&lt;/th&gt;
      &lt;th&gt;æè¿°&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;target:name()&lt;/td&gt;
      &lt;td&gt;è·åç®æ å&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;target:targetfile()&lt;/td&gt;
      &lt;td&gt;è·åç®æ æä»¶è·¯å¾&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;target:targetkind()&lt;/td&gt;
      &lt;td&gt;è·åç®æ çæå»ºç±»å&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;target:get(âdefinesâ)&lt;/td&gt;
      &lt;td&gt;è·åç®æ çå®å®ä¹&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;target:get(âxxxâ)&lt;/td&gt;
      &lt;td&gt;å¶ä»éè¿ &lt;code class=&quot;highlighter-rouge&quot;&gt;set_/add_&lt;/code&gt;æ¥å£è®¾ç½®çtargetä¿¡æ¯ï¼é½å¯ä»¥éè¿æ­¤æ¥å£æ¥è·å&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;target:add(âlinksâ, âpthreadâ)&lt;/td&gt;
      &lt;td&gt;æ·»å ç®æ è®¾ç½®&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;target:set(âlinksâ, âpthreadâ, âzâ)&lt;/td&gt;
      &lt;td&gt;è¦åç®æ è®¾ç½®&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;target:deps()&lt;/td&gt;
      &lt;td&gt;è·åç®æ çææä¾èµç®æ &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;target:dep(âdepnameâ)&lt;/td&gt;
      &lt;td&gt;è·åæå®çä¾èµç®æ &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;target:opts()&lt;/td&gt;
      &lt;td&gt;è·åç®æ çææå³èéé¡¹&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;target:opt(âoptnameâ)&lt;/td&gt;
      &lt;td&gt;è·åæå®çå³èéé¡¹&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;target:pkgs()&lt;/td&gt;
      &lt;td&gt;è·åç®æ çææå³èä¾èµå&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;target:pkg(âpkgnameâ)&lt;/td&gt;
      &lt;td&gt;è·åæå®çå³èä¾èµå&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;target:sourcebatches()&lt;/td&gt;
      &lt;td&gt;è·åç®æ çæææºæä»¶åè¡¨&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&quot;targeton_link&quot;&gt;target:on_link&lt;/h3&gt;

&lt;h4 id=&quot;èªå®ä¹é¾æ¥èæ¬&quot;&gt;èªå®ä¹é¾æ¥èæ¬&lt;/h4&gt;

&lt;p&gt;è¿ä¸ªæ¯å¨v2.2.7ä¹åæ°å çæ¥å£ï¼ç¨äºå®å¶åå¤çtargetçé¾æ¥è¿ç¨ã&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;on_link&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; 
        &lt;span class=&quot;nb&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;link it&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;targeton_build&quot;&gt;target:on_build&lt;/h3&gt;

&lt;h4 id=&quot;èªå®ä¹ç¼è¯èæ¬&quot;&gt;èªå®ä¹ç¼è¯èæ¬&lt;/h4&gt;

&lt;p&gt;è¦çtargetç®æ é»è®¤çæå»ºè¡ä¸ºï¼å®ç°èªå®ä¹çç¼è¯è¿ç¨ï¼ä¸è¬æåµä¸ï¼å¹¶ä¸éè¦è¿ä¹åï¼é¤éç¡®å®éè¦åä¸äºxmakeé»è®¤æ²¡ææä¾çç¼è¯æä½ã&lt;/p&gt;

&lt;p&gt;ä½ å¯ä»¥éè¿ä¸é¢çæ¹å¼è¦çå®ï¼æ¥èªå®ä¹ç¼è¯æä½ï¼&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;-- è®¾ç½®èªå®ä¹ç¼è¯èæ¬&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;on_build&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; 
        &lt;span class=&quot;nb&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;build it&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;æ³¨ï¼2.1.5çæ¬ä¹åï¼æætargetçèªå®ä¹èæ¬é½å¯ä»¥éå¯¹ä¸åå¹³å°åæ¶æï¼åå«å¤çï¼ä¾å¦ï¼&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;on_build&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;iphoneos|arm*&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;nb&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;build for iphoneos and arm&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;å¶ä¸­å¦æç¬¬ä¸ä¸ªåæ°ä¸ºå­ç¬¦ä¸²ï¼é£ä¹å°±æ¯æå®è¿ä¸ªèæ¬éè¦å¨åªä¸ª&lt;code class=&quot;highlighter-rouge&quot;&gt;å¹³å°|æ¶æ&lt;/code&gt;ä¸ï¼æä¼è¢«æ§è¡ï¼å¹¶ä¸æ¯ææ¨¡å¼å¹éï¼ä¾å¦&lt;code class=&quot;highlighter-rouge&quot;&gt;arm*&lt;/code&gt;å¹éææarmæ¶æã&lt;/p&gt;

&lt;p&gt;å½ç¶ä¹å¯ä»¥åªè®¾ç½®å¹³å°ï¼ä¸è®¾ç½®æ¶æï¼è¿æ ·å°±æ¯å¹éæå®å¹³å°ä¸ï¼æ§è¡èæ¬ï¼&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;on_build&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;windows&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;nb&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;build for windows&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;æ³¨ï¼ä¸æ¦å¯¹è¿ä¸ªtargetç®æ è®¾ç½®äºèªå·±çbuildè¿ç¨ï¼é£ä¹xmakeé»è®¤çæå»ºè¿ç¨å°ä¸åè¢«æ§è¡ã&lt;/p&gt;

&lt;h3 id=&quot;targeton_build_file&quot;&gt;target:on_build_file&lt;/h3&gt;

&lt;h4 id=&quot;èªå®ä¹ç¼è¯èæ¬-å®ç°åæä»¶æå»º&quot;&gt;èªå®ä¹ç¼è¯èæ¬, å®ç°åæä»¶æå»º&lt;/h4&gt;

&lt;p&gt;éè¿æ­¤æ¥å£ï¼å¯ä»¥ç¨æ¥hookæå®targetåç½®çæå»ºè¿ç¨ï¼èªå·±éæ°å®ç°æ¯ä¸ªæºæä»¶ç¼è¯è¿ç¨ï¼&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;set_kind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;binary&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_files&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;src/*.c&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;on_build_file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sourcefile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;opt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;targeton_build_files&quot;&gt;target:on_build_files&lt;/h3&gt;

&lt;h4 id=&quot;èªå®ä¹ç¼è¯èæ¬-å®ç°å¤æä»¶æå»º&quot;&gt;èªå®ä¹ç¼è¯èæ¬, å®ç°å¤æä»¶æå»º&lt;/h4&gt;

&lt;p&gt;éè¿æ­¤æ¥å£ï¼å¯ä»¥ç¨æ¥hookæå®targetåç½®çæå»ºè¿ç¨ï¼æ¿æ¢ä¸æ¹åç±»åæºæä»¶ç¼è¯è¿ç¨ï¼&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;set_kind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;binary&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_files&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;src/*.c&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;on_build_files&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sourcebatch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;opt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;è®¾ç½®æ­¤æ¥å£åï¼å¯¹åºæºæä»¶åè¡¨ä¸­æä»¶ï¼å°±ä¸ä¼åºç°å¨èªå®ä¹çtarget.on_build_fileäºï¼å ä¸ºè¿ä¸ªæ¯åå«å³ç³»ã&lt;/p&gt;

&lt;p&gt;å¶ä¸­sourcebatchæè¿°äºè¿æ¹åç±»åæºæä»¶ï¼&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;sourcebatch.sourcekind&lt;/code&gt;: è·åè¿æ¹æºæä»¶çç±»åï¼æ¯å¦ï¼cc, as, ..&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;sourcebatch.sourcefiles()&lt;/code&gt;: è·åæºæä»¶åè¡¨&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;sourcebatch.objectfiles()&lt;/code&gt;: è·åå¯¹è±¡æä»¶åè¡¨&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;sourcebatch.dependfiles()&lt;/code&gt;: è·åå¯¹åºä¾èµæä»¶åè¡¨ï¼å­ææºæä»¶ä¸­ç¼è¯ä¾èµä¿¡æ¯ï¼ä¾å¦ï¼xxx.d&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;targeton_clean&quot;&gt;target:on_clean&lt;/h3&gt;

&lt;h4 id=&quot;èªå®ä¹æ¸çèæ¬&quot;&gt;èªå®ä¹æ¸çèæ¬&lt;/h4&gt;

&lt;p&gt;è¦çtargetç®æ ç&lt;code class=&quot;highlighter-rouge&quot;&gt;xmake [c|clean}&lt;/code&gt;çæ¸çæä½ï¼å®ç°èªå®ä¹æ¸çè¿ç¨ã&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;-- è®¾ç½®èªå®ä¹æ¸çèæ¬&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;on_clean&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; 

        &lt;span class=&quot;c1&quot;&gt;-- ä»å æç®æ æä»¶&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;targetfile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;targeton_package&quot;&gt;target:on_package&lt;/h3&gt;

&lt;h4 id=&quot;èªå®ä¹æåèæ¬&quot;&gt;èªå®ä¹æåèæ¬&lt;/h4&gt;

&lt;p&gt;è¦çtargetç®æ ç&lt;code class=&quot;highlighter-rouge&quot;&gt;xmake [p|package}&lt;/code&gt;çæåæä½ï¼å®ç°èªå®ä¹æåè¿ç¨ï¼å¦æä½ æ³å¯¹æå®targetæåæèªå·±æ³è¦çæ ¼å¼ï¼å¯ä»¥éè¿è¿ä¸ªæ¥å£èªå®ä¹å®ã&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;demo&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;set_kind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;shared&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;add_files&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;jni/*.c&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;on_package&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; 
        &lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;exec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;./gradlew app:assembleDebug&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; 
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;å½ç¶è¿ä¸ªä¾å­æç¹èäºï¼è¿éåªæ¯ä¸¾ä¾è¯´æä¸ç¨æ³èå·²ï¼ç°å¨xmakeæä¾äºä¸é¨ç&lt;a href=&quot;https://github.com/xmake-io/xmake-gradle&quot;&gt;xmake-gradle&lt;/a&gt;æä»¶ï¼æ¥ä¸gradleæ´å¥½çéæã&lt;/p&gt;

&lt;h3 id=&quot;targeton_install&quot;&gt;target:on_install&lt;/h3&gt;

&lt;h4 id=&quot;èªå®ä¹å®è£èæ¬&quot;&gt;èªå®ä¹å®è£èæ¬&lt;/h4&gt;

&lt;p&gt;è¦çtargetç®æ ç&lt;code class=&quot;highlighter-rouge&quot;&gt;xmake [i|install}&lt;/code&gt;çå®è£æä½ï¼å®ç°èªå®ä¹å®è£è¿ç¨ã&lt;/p&gt;

&lt;p&gt;ä¾å¦ï¼å°çæçapkåï¼è¿è¡å®è£ã&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;-- è®¾ç½®èªå®ä¹å®è£èæ¬ï¼èªå¨å®è£apkæä»¶&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;on_install&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; 

        &lt;span class=&quot;c1&quot;&gt;-- ä½¿ç¨adbå®è£æåçæçapkæä»¶&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;adb install -r ./bin/Demo-debug.apk&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;targeton_uninstall&quot;&gt;target:on_uninstall&lt;/h3&gt;

&lt;h4 id=&quot;èªå®ä¹å¸è½½èæ¬&quot;&gt;èªå®ä¹å¸è½½èæ¬&lt;/h4&gt;

&lt;p&gt;è¦çtargetç®æ ç&lt;code class=&quot;highlighter-rouge&quot;&gt;xmake [u|uninstall}&lt;/code&gt;çå¸è½½æä½ï¼å®ç°èªå®ä¹å¸è½½è¿ç¨ã&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;on_uninstall&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; 
        &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;targeton_run&quot;&gt;target:on_run&lt;/h3&gt;

&lt;h4 id=&quot;èªå®ä¹è¿è¡èæ¬&quot;&gt;èªå®ä¹è¿è¡èæ¬&lt;/h4&gt;

&lt;p&gt;è¦çtargetç®æ ç&lt;code class=&quot;highlighter-rouge&quot;&gt;xmake [r|run}&lt;/code&gt;çè¿è¡æä½ï¼å®ç°èªå®ä¹è¿è¡è¿ç¨ã&lt;/p&gt;

&lt;p&gt;ä¾å¦ï¼è¿è¡å®è£å¥½çapkç¨åºï¼&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;-- è®¾ç½®èªå®ä¹è¿è¡èæ¬ï¼èªå¨è¿è¡å®è£å¥½çappç¨åºï¼å¹¶ä¸èªå¨è·åè®¾å¤è¾åºä¿¡æ¯&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;on_run&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; 
        &lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;adb shell am start -n com.demo/com.demo.DemoTest&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;adb logcat&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;before_xxxåafter_xxx&quot;&gt;before_xxxåafter_xxx&lt;/h3&gt;

&lt;p&gt;éè¦æ³¨æçæ¯ï¼target:on_xxxçæææ¥å£é½è¦çåé¨é»è®¤å®ç°ï¼éå¸¸æä»¬å¹¶ä¸éè¦å®å¨å¤åï¼åªæ¯é¢å¤ææ¥èªå·±çä¸äºé»è¾ï¼é£ä¹å¯ä»¥ä½¿ç¨&lt;code class=&quot;highlighter-rouge&quot;&gt;target:before_xxx&lt;/code&gt;å&lt;code class=&quot;highlighter-rouge&quot;&gt;target:after_xxx&lt;/code&gt;ç³»åèæ¬å°±è¡äºã&lt;/p&gt;

&lt;p&gt;ææçon_xxxé½æå¯¹åºçbefore_åafter_xxçæ¬ï¼åæ°ä¹å®å¨ä¸è´ï¼ä¾å¦ï¼&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;before_build&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;nb&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;åç½®æ¨¡å&quot;&gt;åç½®æ¨¡å&lt;/h3&gt;

&lt;p&gt;å¨èªå®ä¹èæ¬ä¸­ï¼é¤äºä½¿ç¨importæ¥å£å¯¼å¥åç§æ©å±æ¨¡åä½¿ç¨ï¼xmakeè¿æä¾äºå¾å¤åºç¡çåç½®æ¨¡åï¼æ¯å¦ï¼osï¼ioç­åºç¡æä½ï¼å®ç°æ´å è·¨å¹³å°çå¤çç³»ç»æ¥å£ã&lt;/p&gt;

&lt;h4 id=&quot;oscp&quot;&gt;os.cp&lt;/h4&gt;

&lt;p&gt;os.cpçè¡ä¸ºåshellä¸­ç&lt;code class=&quot;highlighter-rouge&quot;&gt;cp&lt;/code&gt;å½ä»¤ç±»ä¼¼ï¼ä¸è¿æ´å å¼ºå¤§ï¼ä¸ä»æ¯ææ¨¡å¼å¹éï¼ä½¿ç¨çæ¯luaæ¨¡å¼å¹éï¼ï¼èä¸è¿ç¡®ä¿ç®çè·¯å¾éå½ç®å½åå»ºãä»¥åæ¯æxmakeçåç½®åéã&lt;/p&gt;

&lt;p&gt;ä¾å¦ï¼&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;$(scriptdir)/*.h&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;$(buildir)/inc&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;$(projectdir)/src/test/**.h&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;$(buildir)/inc&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;ä¸é¢çä»£ç å°ï¼å½å&lt;code class=&quot;highlighter-rouge&quot;&gt;xmake.lua&lt;/code&gt;ç®å½ä¸çææå¤´æä»¶ãå·¥ç¨æºç testç®å½ä¸çå¤´æä»¶å¨é¨å¤å¶å°&lt;code class=&quot;highlighter-rouge&quot;&gt;$(buildir)&lt;/code&gt;è¾åºç®å½ä¸­ã&lt;/p&gt;

&lt;p&gt;å¶ä¸­&lt;code class=&quot;highlighter-rouge&quot;&gt;$(scriptdir)&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;$(projectdir)&lt;/code&gt; è¿äºåéæ¯xmakeçåç½®åéï¼å·ä½è¯¦æè§ï¼&lt;a href=&quot;https://xmake.io/mirror/zh-cn/manual/builtin_variables.html&quot;&gt;åç½®åé&lt;/a&gt;çç¸å³ææ¡£ã&lt;/p&gt;

&lt;p&gt;è&lt;code class=&quot;highlighter-rouge&quot;&gt;*.h&lt;/code&gt;å&lt;code class=&quot;highlighter-rouge&quot;&gt;**.h&lt;/code&gt;ä¸­çå¹éæ¨¡å¼ï¼è·&lt;a href=&quot;https://xmake.io/#/zh-cn/manual/project_target?id=targetadd_files&quot;&gt;add_files&lt;/a&gt;ä¸­çç±»ä¼¼ï¼åèæ¯åçº§ç®å½å¹éï¼åèæ¯éå½å¤çº§ç®å½å¹éã&lt;/p&gt;

&lt;p&gt;ä¸é¢çå¤å¶ï¼ä¼ææææä»¶å¨é¨å±å¼å¤å¶å°æå®ç®å½ï¼ä¸¢å¤±æºç®å½å±çº§ï¼å¦æè¦æä¿æåæçç®å½ç»æå¤å¶ï¼å¯ä»¥è®¾ç½®rootdiråæ°ï¼&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;src/**.h&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;/tmp/&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rootdir&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;src&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;ä¸é¢çèæ¬å¯ä»¥æ&lt;code class=&quot;highlighter-rouge&quot;&gt;src&lt;/code&gt;æ ¹ç®å½ï¼å°srcä¸çææå­æä»¶ä¿æç®å½ç»æå¤å¶è¿å»ã&lt;/p&gt;

&lt;p&gt;æ³¨ï¼å°½éä½¿ç¨&lt;code class=&quot;highlighter-rouge&quot;&gt;os.cp&lt;/code&gt;æ¥å£ï¼èä¸æ¯&lt;code class=&quot;highlighter-rouge&quot;&gt;os.run(&quot;cp ..&quot;)&lt;/code&gt;ï¼è¿æ ·æ´è½ä¿è¯å¹³å°ä¸è´æ§ï¼å®ç°è·¨å¹³å°æå»ºæè¿°ã&lt;/p&gt;

&lt;h4 id=&quot;osrun&quot;&gt;os.run&lt;/h4&gt;

&lt;p&gt;æ­¤æ¥å£ä¼å®éè¿è¡åçshellå½ä»¤ï¼ç¨äºæ§è¡ç¬¬ä¸æ¹çshellå½ä»¤ï¼ä½ä¸ä¼åæ¾è¾åºï¼ä»ä»å¨åºéåï¼é«äº®è¾åºéè¯¯ä¿¡æ¯ã&lt;/p&gt;

&lt;p&gt;æ­¤æ¥å£æ¯æåæ°æ ¼å¼åãåç½®åéï¼ä¾å¦ï¼&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;-- æ ¼å¼ååæ°ä¼ å¥&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;echo hello %s!&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;xmake&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;-- åä¸¾æå»ºç®å½æä»¶&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ls -l $(buildir)&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h4 id=&quot;osexecv&quot;&gt;os.execv&lt;/h4&gt;

&lt;p&gt;æ­¤æ¥å£ç¸æ¯os.runï¼å¨æ§è¡è¿ç¨ä¸­è¿ä¼åæ¾è¾åºï¼å¹¶ä¸åæ°æ¯éè¿åè¡¨æ¹å¼ä¼ å¥ï¼æ´å ççµæ´»ã&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;execv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;echo&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;hello&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;xmake!&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;å¦å¤ï¼æ­¤æ¥å£è¿æ¯æä¸ä¸ªå¯éçåæ°ï¼ç¨äºä¼ éè®¾ç½®ï¼éå®åè¾åºï¼æ§è¡ç¯å¢åéè®¾ç½®ï¼ä¾å¦ï¼&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;execv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;echo&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;hello&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;xmake!&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stdout&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;outfile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;stderr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;errfile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;envs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;PATH&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;xxx;xx&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;CFLAGS&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;xx&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;curdir&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;/tmp&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;å¶ä¸­ï¼stdoutåstderråæ°ç¨äºä¼ ééå®åè¾åºåéè¯¯è¾åºï¼å¯ä»¥ç´æ¥ä¼ å¥æä»¶è·¯å¾ï¼ä¹å¯ä»¥ä¼ å¥io.openæå¼çæä»¶å¯¹è±¡ã&lt;/p&gt;

&lt;p&gt;å¦å¤ï¼å¦ææ³å¨è¿æ¬¡æ§è¡ä¸­ä¸´æ¶è®¾ç½®åæ¹åä¸äºç¯å¢åéï¼å¯ä»¥ä¼ éenvsåæ°ï¼éé¢çç¯å¢åéè®¾ç½®ä¼æ¿æ¢å·²æçè®¾ç½®ï¼ä½æ¯ä¸å½±åå¤å±çæ§è¡ç¯å¢ï¼åªå½±åå½åå½ä»¤ã&lt;/p&gt;

&lt;p&gt;æä»¬ä¹å¯ä»¥éè¿&lt;code class=&quot;highlighter-rouge&quot;&gt;os.getenvs()&lt;/code&gt;æ¥å£è·åå½åææçç¯å¢åéï¼ç¶åæ¹åé¨ååä¼ å¥envsåæ°ã&lt;/p&gt;

&lt;p&gt;å¦å¤ï¼è¿è½éè¿curdiråæ°è®¾ç½®ï¼å¨æ§è¡è¿ç¨ä¸­ä¿®æ¹å­è¿ç¨çå·¥ä½ç®å½ã&lt;/p&gt;

&lt;p&gt;å¶ç¸å³ç±»ä¼¼æ¥å£è¿æï¼os.runv, os.exec, os.execv, os.iorun, os.iorunvç­ç­ï¼æ¯å¦os.iorunå¯ä»¥è·åè¿è¡çè¾åºåå®¹ã&lt;/p&gt;

&lt;p&gt;è¿åçå·ä½è¯¦æåå·®å¼ï¼è¿ææ´å¤osæ¥å£ï¼é½å¯ä»¥å°ï¼&lt;a href=&quot;https://xmake.io/#/zh-cn/manual/builtin_modules?id=os&quot;&gt;osæ¥å£ææ¡£&lt;/a&gt; æ¥çã&lt;/p&gt;

&lt;h4 id=&quot;ioreadfile&quot;&gt;io.readfile&lt;/h4&gt;

&lt;p&gt;æ­¤æ¥å£ï¼ä»æå®è·¯å¾æä»¶è¯»åææåå®¹ï¼æä»¬å¯å¨ä¸æå¼æä»¶çæåµä¸ï¼ç´æ¥è¯»åæ´ä¸ªæä»¶çåå®¹ï¼æ´å çæ¹ä¾¿ï¼ä¾å¦ï¼&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;local&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;io&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;readfile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;xxx.txt&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h4 id=&quot;iowritefile&quot;&gt;io.writefile&lt;/h4&gt;

&lt;p&gt;æ­¤æ¥å£åå¥ææåå®¹å°æå®è·¯å¾æä»¶ï¼æä»¬å¯å¨ä¸æå¼æä»¶çæåµä¸ï¼ç´æ¥åå¥æ´ä¸ªæä»¶çåå®¹ï¼æ´å çæ¹ä¾¿ï¼ä¾å¦ï¼&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;io&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;writefile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;xxx.txt&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;all data&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h4 id=&quot;pathjoin&quot;&gt;path.join&lt;/h4&gt;

&lt;p&gt;æ­¤æ¥å£å®ç°è·¨å¹³å°å°è·¯å¾æ¼æ¥æä½ï¼å°å¤ä¸ªè·¯å¾é¡¹è¿è¡è¿½å æ¼æ¥ï¼ç±äº&lt;code class=&quot;highlighter-rouge&quot;&gt;windows/unix&lt;/code&gt;é£æ ¼çè·¯å¾å·®å¼ï¼ä½¿ç¨apiæ¥è¿½å è·¯å¾æ´å è·¨å¹³å°ï¼ä¾å¦ï¼&lt;/p&gt;

&lt;div class=&quot;language-lua highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;$(tmpdir)&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;dir1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;dir2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;file.txt&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;ä¸è¿°æ¼æ¥å¨unixä¸ç¸å½äºï¼&lt;code class=&quot;highlighter-rouge&quot;&gt;$(tmpdir)/dir1/dir2/file.txt&lt;/code&gt;ï¼èå¨windowsä¸ç¸å½äºï¼&lt;code class=&quot;highlighter-rouge&quot;&gt;$(tmpdir)\\dir1\\dir2\\file.txt&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;æ´å¤åç½®æ¨¡åè¯¦æè§ï¼&lt;a href=&quot;https://xmake.io/#/zh-cn/manual/builtin_modules&quot;&gt;åç½®æ¨¡åææ¡£&lt;/a&gt;&lt;/p&gt;
</description>
        <pubDate>Sat, 18 Jul 2020 00:00:00 +0800</pubDate>
        <link>https://tboox.org/cn/2020/07/18/quickstart-12-custom-scripts/</link>
        <guid isPermaLink="true">https://tboox.org/cn/2020/07/18/quickstart-12-custom-scripts/</guid>
        
        <category>xmake</category>
        
        <category>lua</category>
        
        <category>å­å·¥ç¨</category>
        
        <category>å­æ¨¡å</category>
        
        <category>èªå®ä¹èæ¬</category>
        
        
        <category>xmake</category>
        
      </item>
    
  </channel>
</rss>
